<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Li Chao" />
        <meta name="copyright" content="Li Chao" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="terminal, shell, data, visualization, Tech, " />

<meta property="og:title" content="Data Science in Command Line"/>
<meta property="og:url" content="http://leetschau.github.io/data-science-in-command-line.html" />
<meta property="og:description" content="Tools xsv installed with asdf and cargo. feedgnuplot installed with apt. display in imagemagick installed with apt. header, Rio in foler tools of data-science-at-the-command-line. Delete --vanilla option in Rio script to use customized R environment setup. Examples git clone https://github.com/jeroenjanssens/data-science-at-the-command-line.git …" />
<meta property="og:site_name" content="DarkMatter in Cyberspace" />
<meta property="og:article:author" content="Li Chao" />
<meta property="og:article:published_time" content="2020-02-06T22:14:11+08:00" />
<meta property="" content="2020-02-08T20:22:31+08:00" />
<meta name="twitter:title" content="Data Science in Command Line">
<meta name="twitter:description" content="Tools xsv installed with asdf and cargo. feedgnuplot installed with apt. display in imagemagick installed with apt. header, Rio in foler tools of data-science-at-the-command-line. Delete --vanilla option in Rio script to use customized R environment setup. Examples git clone https://github.com/jeroenjanssens/data-science-at-the-command-line.git …">

        <title>Data Science in Command Line · DarkMatter in Cyberspace
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://leetschau.github.io/"><span class=site-name>DarkMatter in Cyberspace</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://leetschau.github.io">Home</a></li>
                            <li ><a href="http://leetschau.github.io/categories.html">Categories</a></li>
                            <li ><a href="http://leetschau.github.io/tags.html">Tags</a></li>
                            <li ><a href="http://leetschau.github.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://leetschau.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://leetschau.github.io/data-science-in-command-line.html"> Data Science in Command Line </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <hr>
<h1>Tools</h1>
<p><a href="https://github.com/BurntSushi/xsv">xsv</a> installed with <code>asdf</code> and <code>cargo</code>.</p>
<p><a href="https://github.com/dkogan/feedgnuplot">feedgnuplot</a> installed with <code>apt</code>.</p>
<p><code>display</code> in <a href="https://imagemagick.org/">imagemagick</a> installed with <code>apt</code>.</p>
<p><code>header</code>, <code>Rio</code> in foler <em>tools</em> of
<a href="https://github.com/jeroenjanssens/data-science-at-the-command-line">data-science-at-the-command-line</a>.
Delete <code>--vanilla</code> option in <code>Rio</code> script to
use customized R environment setup.</p>
<h1>Examples</h1>
<div class="highlight"><pre><span></span><code><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="o">/</span><span class="n">jeroenjanssens</span><span class="o">/</span><span class="n">data</span><span class="o">-</span><span class="n">science</span><span class="o">-</span><span class="n">at</span><span class="o">-</span><span class="n">the</span><span class="o">-</span><span class="n">command</span><span class="o">-</span><span class="n">line</span><span class="p">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">data</span><span class="o">-</span><span class="n">science</span><span class="o">-</span><span class="n">at</span><span class="o">-</span><span class="n">the</span><span class="o">-</span><span class="n">command</span><span class="o">-</span><span class="n">line</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">ch07</span>

<span class="o">&lt;</span> <span class="n">data</span><span class="o">/</span><span class="n">tips</span><span class="p">.</span><span class="n">csv</span> <span class="n">Rio</span> <span class="o">-</span><span class="n">ge</span> <span class="s1">&#39;g + geom_histogram(aes(bill))&#39;</span> <span class="o">|</span> <span class="n">display</span>
<span class="c1"># use `q` to quit image window</span>

<span class="o">&lt;</span> <span class="n">data</span><span class="o">/</span><span class="n">immigration</span><span class="p">.</span><span class="n">csv</span> <span class="n">xsv</span> <span class="k">select</span> <span class="n">Period</span><span class="p">,</span><span class="n">Denmark</span><span class="p">,</span><span class="n">Netherlands</span><span class="p">,</span><span class="n">Norway</span><span class="p">,</span><span class="n">Sweden</span> <span class="o">|</span>
  <span class="n">Rio</span> <span class="o">-</span><span class="n">d</span><span class="s1">&#39;,&#39;</span> <span class="o">-</span><span class="n">re</span> <span class="s1">&#39;reshape2::melt(df, id=&quot;Period&quot;, variable.name=&quot;Country&quot;, value.name=&quot;Count&quot;)&#39;</span> <span class="o">|</span>
  <span class="n">tee</span> <span class="n">immigration</span><span class="o">-</span><span class="k">long</span><span class="p">.</span><span class="n">csv</span> <span class="o">|</span> <span class="n">head</span> <span class="o">|</span> <span class="n">xsv</span> <span class="k">table</span>
<span class="c1"># note how to use `tee` to save calculation results in file</span>
<span class="c1"># here `-d` option is unnecessary</span>

<span class="o">&lt;</span> <span class="n">data</span><span class="o">/</span><span class="n">tips</span><span class="p">.</span><span class="n">csv</span> <span class="o">|</span> <span class="n">xsv</span> <span class="k">select</span> <span class="n">size</span> <span class="o">|</span> <span class="n">header</span> <span class="o">-</span><span class="n">d</span> <span class="o">|</span>
  <span class="n">feedgnuplot</span> <span class="o">--</span><span class="n">terminal</span> <span class="s1">&#39;dumb 80,25&#39;</span> <span class="o">--</span><span class="n">histogram</span> <span class="mi">0</span>  <span class="o">--</span><span class="k">with</span> <span class="n">boxes</span> <span class="o">--</span><span class="n">unset</span> <span class="n">grid</span> <span class="o">--</span><span class="k">exit</span>

<span class="n">seq</span> <span class="mi">5</span> <span class="o">|</span> <span class="n">awk</span> <span class="s1">&#39;{print 2*$1, $1*$1}&#39;</span> <span class="o">|</span>
  <span class="n">feedgnuplot</span> <span class="o">--</span><span class="k">lines</span> <span class="o">--</span><span class="n">points</span> <span class="o">--</span><span class="n">legend</span> <span class="mi">0</span> <span class="s2">&quot;data 0&quot;</span> <span class="o">--</span><span class="n">title</span> <span class="s2">&quot;Test plot&quot;</span><span class="err">\</span>
  <span class="o">--</span><span class="n">y2</span> <span class="mi">1</span> <span class="o">--</span><span class="n">unset</span> <span class="n">grid</span> <span class="o">--</span><span class="n">terminal</span> <span class="s1">&#39;dumb 80,40&#39;</span> <span class="o">--</span><span class="k">exit</span>

<span class="c1"># a sin plots</span>
<span class="n">seq</span> <span class="o">-</span><span class="mi">15</span> <span class="mi">15</span> <span class="o">|</span> <span class="n">awk</span> <span class="s1">&#39;{print $1, sin($1)}&#39;</span> <span class="o">|</span> <span class="n">feedgnuplot</span> <span class="o">--</span><span class="n">domain</span> <span class="o">--</span><span class="k">lines</span> <span class="o">--</span><span class="n">points</span> <span class="err">\</span>
  <span class="o">--</span><span class="n">unset</span> <span class="n">grid</span> <span class="o">--</span><span class="n">terminal</span> <span class="s1">&#39;dumb 120 30&#39;</span> <span class="o">--</span><span class="k">exit</span> <span class="o">--</span><span class="n">legend</span> <span class="mi">0</span> <span class="s1">&#39;sin(x)&#39;</span>
</code></pre></div>


<p>Note the difference between <code>--domain</code> and <code>--dataid</code>:</p>
<p><code>--domain</code> means using the first column as the X column,
instead of the row number.</p>
<p>While <code>--dataid</code> means the 1st, 3rd, 5th ... columns are the ID of
the 2nd, 4th, 6th columns, respectively.
So you can put multiple curves in one column with different IDs.
For example, with <code>--dataid</code>, the dataset below:</p>
<div class="highlight"><pre><span></span><code><span class="err">1 1.0</span>
<span class="err">1 2.0</span>
<span class="err">2 1.5</span>
<span class="err">2 2.5</span>
<span class="err">1 3.0</span>
</code></pre></div>


<p>will be ploted as 2 curves:</p>
<div class="highlight"><pre><span></span><code><span class="err">1 1.0</span>
<span class="err">1 2.0</span>
<span class="err">1 3.0</span>
</code></pre></div>


<p>and</p>
<div class="highlight"><pre><span></span><code><span class="err">2 1.5</span>
<span class="err">2 2.5</span>
</code></pre></div>
            
            
            <hr/>
            <script src="https://utteranc.es/client.js"
                    repo="leetschau/leetschau.github.io"
                    issue-term="pathname"
                    theme="github-light"
                    crossorigin="anonymous"
                    async>
            </script>
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2020-02-06T22:14:11+08:00">Feb 6, 2020</time>

<h4>Last Updated</h4>
<time datetime="2020-02-08T20:22:31+08:00">Feb 8, 2020</time>

            <h4>Category</h4>
            <a class="category-link" href="http://leetschau.github.io/categories.html#tech-ref">Tech</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="http://leetschau.github.io/tags.html#data-ref">data
                    <span>1</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#shell-ref">shell
                    <span>46</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#terminal-ref">terminal
                    <span>8</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#visualization-ref">visualization
                    <span>2</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>