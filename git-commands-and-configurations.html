<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Li Chao" />
        <meta name="copyright" content="Li Chao" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="git, config, commands, Tech, " />

<meta property="og:title" content="git Commands and Configurations "/>
<meta property="og:url" content="http://leetschau.github.io/git-commands-and-configurations.html" />
<meta property="og:description" content="Some helpful resources: Git Cheatsheet A Visual Git Reference; git - the simple guide; Git has 3 places to store files: working dir, stage and history. The last commit in history is called &#34;HEAD&#34;, all the older commits have their IDs. In the following texts, &#34;a47c3&#34; and &#34;b325c&#34; are both sample …" />
<meta property="og:site_name" content="DarkMatter in Cyberspace" />
<meta property="og:article:author" content="Li Chao" />
<meta property="og:article:published_time" content="2013-11-25T14:44:50+08:00" />
<meta property="" content="2013-11-25T14:44:50+08:00" />
<meta name="twitter:title" content="git Commands and Configurations ">
<meta name="twitter:description" content="Some helpful resources: Git Cheatsheet A Visual Git Reference; git - the simple guide; Git has 3 places to store files: working dir, stage and history. The last commit in history is called &#34;HEAD&#34;, all the older commits have their IDs. In the following texts, &#34;a47c3&#34; and &#34;b325c&#34; are both sample …">

        <title>git Commands and Configurations  · DarkMatter in Cyberspace
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://leetschau.github.io/"><span class=site-name>DarkMatter in Cyberspace</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://leetschau.github.io">Home</a></li>
                            <li ><a href="http://leetschau.github.io/categories.html">Categories</a></li>
                            <li ><a href="http://leetschau.github.io/tags.html">Tags</a></li>
                            <li ><a href="http://leetschau.github.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://leetschau.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://leetschau.github.io/git-commands-and-configurations.html"> git Commands and Configurations  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <hr>
<p>Some helpful resources:</p>
<p><a href="http://ndpsoftware.com/git-cheatsheet.html">Git Cheatsheet</a></p>
<p><a href="http://marklodato.github.io/visual-git-guide/index-en.html">A Visual Git Reference</a>;</p>
<p><a href="http://rogerdudler.github.io/git-guide/">git - the simple guide</a>;</p>
<p>Git has 3 places to store files: working dir, stage and history.
The last commit in history is called "HEAD",
all the older commits have their IDs.
In the following texts, "a47c3" and "b325c" are both sample revision IDs,
which can be get with <code>git log --oneline</code>.</p>
<h1>Move Files</h1>
<ul>
<li>
<p>Working dir -&gt; Stage: <code>git add -A</code> for all files, <code>git add -u</code> for update, <code>git add filename</code>;</p>
</li>
<li>
<p>Stage -&gt; HEAD: <code>git commit filename</code>, <code>git commit</code> for all;</p>
</li>
<li>
<p>HEAD -&gt; Stage: <code>git reset -- files</code>, <code>git reset</code> or <code>git reset -- .</code> for all;</p>
</li>
<li>
<p>Stage -&gt; Working dir: <code>git checkout -- files</code>, <code>git checkout -- .</code> for all;</p>
</li>
<li>
<p>HEAD -&gt; ( Stage &amp; Working dir ): <code>git checkout HEAD -- files</code>, <code>git checkout HEAD</code> do nothing;</p>
</li>
<li>
<p>Working dir -&gt; ( Stage &amp; HEAD ): <code>git commit filename</code>, <code>git commit -a</code> for all;</p>
</li>
</ul>
<h1>Compare Files</h1>
<ul>
<li>
<p>Working dir &lt;-&gt; Stage: <code>git diff filename</code>, <code>git diff</code> for all;</p>
</li>
<li>
<p>Stage &lt;-&gt; HEAD: <code>git diff --cached filename</code>, <code>git diff --cached</code> for all;;</p>
</li>
<li>
<p>HEAD &lt;-&gt; Working dir: <code>git diff HEAD filename</code>, <code>git diff HEAD</code> for all;</p>
</li>
<li>
<p>Revision a47c3 &lt;-&gt; Working dir: <code>git diff a47c3 filename</code>, <code>git diff a47c3</code> for all;</p>
</li>
<li>
<p>Revision a47c3 &lt;-&gt; b325c: <code>git diff a47c3 b325c filename</code>, <code>git diff a47c3 b325c</code> for all;</p>
</li>
<li>
<p>Revision X and its previous revision: <code>git show a47c3</code>, if X is HEAD: <code>git show</code>;</p>
</li>
</ul>
<p>If comparing a specific file, always add '-- <filename>' after the git command.
For example, <code>git show -- filename</code>, <code>git diff --cached -- filename</code>.</p>
<h1>Show file content</h1>
<ul>
<li>Show file content of a specific commit: <code>git show a47c3:filename</code>;</li>
</ul>
<h1>Logs and Tags</h1>
<ul>
<li>
<p>Print logs with tags and color highlights: <code>git log --decorate</code>;</p>
</li>
<li>
<p>Print logs with files changed: <code>git log --name-status</code>;</p>
</li>
<li>
<p>Print logs in one line for each: <code>git log --oneline</code>;</p>
</li>
<li>
<p>Print logs with all information: <code>git log --graph --decorate --name-status --all</code>;</p>
</li>
<li>
<p>Create a tag based on a commit: <code>git tag 1.0 a47c3</code>;</p>
</li>
<li>
<p>Create a tag on HEAD: <code>git tag 'Dell-E7450'</code>;</p>
</li>
<li>
<p>List all tags: <code>git tag</code>;</p>
</li>
<li>
<p>Show tag contents: <code>git show Dell-E7450</code>;</p>
</li>
</ul>
<h1>Useful Commands</h1>
<p><code>git log -p --all -S 'search string'</code>: search a string in git history,
  see note "Search String Pattern in Git History" for details;</p>
<p><code>git add &lt;files&gt;</code>: add files to stage area, use <code>git rm --cached &lt;file&gt;</code>
  to remove it from stage area (physical file remains);</p>
<p><code>git add -A</code>: If you use "mv" instead of "git mv" to rename a file,
  you can use this command to apply this rename operation to stage area;</p>
<p><code>git checkout &lt;commit&gt;</code>: make your working directory back to state <commit>; </p>
<div class="highlight"><pre><span></span>$ git checkout &lt;branch-name&gt;  // switch between branches
</pre></div>


<p><code>git checkout -- &lt;file-name&gt;</code>: use <file-name> in stage area replace
  its counterpart in working directory;</p>
<p><code>git checkout -- .</code>: abandon all modifications in working directory.
  Don't forget the last dot. It means "all".</p>
<p><code>git clean -n</code>: "dry run" mode, preview the removed files;
<code>git clean -f</code>: remove all untracked files;
<code>git clean -f -d</code>: remove all untracked files and directories;</p>
<p><code>git commit</code>: commit all files in stage area;</p>
<p><code>git config</code>: see section "git config" below. list all configs: <code>git config --list</code>;</p>
<p><code>git diff</code>: compare file contents;</p>
<p><code>git init</code>: initialize local repository; </p>
<p><code>git log --stat</code>: list log with file changes;</p>
<p><code>git mv &lt;old-file-name&gt; &lt;new-file-name&gt;</code></p>
<p><code>git remote show origin</code>: git equivalent of "svn info";</p>
<p><code>git reset --hard &lt;commit&gt;</code>: go back to <commit> completely,
  both working directory and repository, the history is lost;</p>
<p><code>git reset</code>: undo all "git add" commands, same with "git reset HEAD";</p>
<p><code>git reset -- &lt;file-name&gt;</code>: only remove <file-name> from stage area;</p>
<p><code>git rm</code>: </p>
<p><code>git show &lt;object&gt;</code>: show information of <object>, like a commit,
  the following command show the information of commit 389be, like "git log ...":</p>
<div class="highlight"><pre><span></span><span class="nv">git</span> <span class="k">show</span> <span class="mi">389</span><span class="nv">be</span> <span class="o">--</span><span class="nv">stat</span>
</pre></div>


<p>or <strong>print file contents of a specified version</strong>,
the following command show the file contents of the parent of HEAD:</p>
<div class="highlight"><pre><span></span><span class="nv">git</span> <span class="k">show</span> <span class="nv">HEAD</span><span class="o">~</span><span class="mi">1</span>:<span class="nv">donno</span><span class="o">/</span><span class="nv">cloudsync</span>.<span class="nv">py</span>
</pre></div>


<p>Note that the colon after version is necessary,
or it will print the difference between HEAD~1 &amp; HEAD~2 when it's
<code>git show HEAD~1 filename</code>;</p>
<p><code>git stash</code>: save current working directory and index
and change them to the state of last commit;</p>
<p><code>git stash save "some messages"</code>: stash with some messages;</p>
<p><code>git stash apply</code>: restore last "stash save";</p>
<p><code>git stash drop</code>: delete last "stash save</p>
<p><code>git stash pop</code>: git stash apply + git stash drop</p>
<p><code>git stash clear</code>: clear all stash saves;</p>
<p><code>git status</code></p>
<h2>Undo the last commit</h2>
<p>After a commit with <code>git commit -m "..."</code>,
I found I forget to update version number which is defined in file build.gradle.
Now I need undo the last commit, modify version number in build.gradle,
then commit again with the same commit comments.</p>
<div class="highlight"><pre><span></span>$ git reset --soft HEAD~1
// edit build.gradle
$ git add -u
$ git commit -c ORIG_HEAD
</pre></div>


<p>Ref: <a href="http://stackoverflow.com/questions/927358/undo-the-last-git-commit">Undo the last Git commit?</a></p>
<p>GUI tool: <code>gitk</code>, see all branches with <code>gitk --all</code>.</p>
<h1>Git config</h1>
<p>Add the following lines into user level config file ~/.gitconfig,
or system level config file /etc/gitconfig:</p>
<div class="highlight"><pre><span></span><span class="k">[user]</span>
    <span class="na">name</span> <span class="o">=</span> <span class="s">leetschau</span>
<span class="s">    email = leetschau@gmail.com</span>
<span class="k">[alias]</span>
    <span class="na">ci</span> <span class="o">=</span> <span class="s">commit -s</span>
<span class="s">    co = checkout</span>
<span class="s">    br = branch</span>
<span class="s">    lg = log --stat --graph --decorate --all</span>
</pre></div>


<p>Here in <code>git log</code>, --stat prints file changed info,
--all print all branches instead of current branch,
--decorate print branch/tag info,
--graph print hierarchical relation lines between commits.</p>
<p>Or change configs in command line:</p>
<div class="highlight"><pre><span></span><span class="n">git</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="c1">--global alias.ci &quot;commit -s&quot;</span>
<span class="n">git</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="c1">--global user.name &quot;leetschau&quot;</span>
<span class="n">git</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="c1">--global user.email &quot;leetschau@gmail.com&quot;</span>
</pre></div>
            
            
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2013-11-25T14:44:50+08:00">Nov 25, 2013</time>

<h4>Last Updated</h4>
<time datetime="2013-11-25T14:44:50+08:00">Nov 25, 2013</time>

            <h4>Category</h4>
            <a class="category-link" href="http://leetschau.github.io/categories.html#tech-ref">Tech</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="http://leetschau.github.io/tags.html#commands-ref">commands
                    <span>1</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#config-ref">config
                    <span>7</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#git-ref">git
                    <span>35</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>