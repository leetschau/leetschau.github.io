<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Li Chao" />
        <meta name="copyright" content="Li Chao" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="Windows, Puppet, Translate, gVim, PDF, Tech, " />

<meta property="og:title" content="基于gVim的暗色调翻译写作环境"/>
<meta property="og:url" content="http://leetschau.github.io/ji-yu-gvimde-an-se-diao-fan-yi-xie-zuo-huan-jing.html" />
<meta property="og:description" content="翻译环境包括两个部分，写作部分和电子书，前者用gVim， 后者Windows上用SumatraPDF，Linux Mint就用自带的evince。 Linux 配置gVim字体和颜色： $ cat ~/.gvimrc set go= set guifont=Monospace\ 12 colo koehler set et set ts=2 set sw=2 set cc=0 set wrap 开始写作：gvim gVim比vim好的地方是按切换到标准状态下时，输入法会自动关闭。 evince用Ctrl-i即可切换到黑底白字，用F11切换全屏。 注：不写&#34;set keymap=pinyin&#34;，也能在时自动退出中文输入法。 Windows gVim 首先安装git bash，下载gVim安装包 …" />
<meta property="og:site_name" content="DarkMatter in Cyberspace" />
<meta property="og:article:author" content="Li Chao" />
<meta property="og:article:published_time" content="2014-03-17T16:36:40+08:00" />
<meta property="" content="2017-11-01T11:39:31+08:00" />
<meta name="twitter:title" content="基于gVim的暗色调翻译写作环境">
<meta name="twitter:description" content="翻译环境包括两个部分，写作部分和电子书，前者用gVim， 后者Windows上用SumatraPDF，Linux Mint就用自带的evince。 Linux 配置gVim字体和颜色： $ cat ~/.gvimrc set go= set guifont=Monospace\ 12 colo koehler set et set ts=2 set sw=2 set cc=0 set wrap 开始写作：gvim gVim比vim好的地方是按切换到标准状态下时，输入法会自动关闭。 evince用Ctrl-i即可切换到黑底白字，用F11切换全屏。 注：不写&#34;set keymap=pinyin&#34;，也能在时自动退出中文输入法。 Windows gVim 首先安装git bash，下载gVim安装包 …">

        <title>基于gVim的暗色调翻译写作环境 · DarkMatter in Cyberspace
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://leetschau.github.io/"><span class=site-name>DarkMatter in Cyberspace</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://leetschau.github.io">Home</a></li>
                            <li ><a href="http://leetschau.github.io/categories.html">Categories</a></li>
                            <li ><a href="http://leetschau.github.io/tags.html">Tags</a></li>
                            <li ><a href="http://leetschau.github.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://leetschau.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://leetschau.github.io/ji-yu-gvimde-an-se-diao-fan-yi-xie-zuo-huan-jing.html"> 基于gVim的暗色调翻译写作环境 </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <hr>
<p>翻译环境包括两个部分，写作部分和电子书，前者用gVim，
后者Windows上用SumatraPDF，Linux Mint就用自带的evince。</p>
<h1>Linux</h1>
<p>配置gVim字体和颜色：</p>
<p>$ cat ~/.gvimrc
set go=
set guifont=Monospace\ 12
colo koehler
set et
set ts=2
set sw=2
set cc=0
set wrap</p>
<p>开始写作：gvim <filename></p>
<p>gVim比vim好的地方是按<ESC>切换到标准状态下时，输入法会自动关闭。</p>
<p>evince用Ctrl-i即可切换到黑底白字，用F11切换全屏。</p>
<p>注：不写"set keymap=pinyin"，也能在<ESC>时自动退出中文输入法。</p>
<h1>Windows</h1>
<h2>gVim</h2>
<p>首先安装git bash，下载gVim安装包，安装并运行之，
执行<code>:echo expand('~')</code>和<code>:echo $HOME</code>找到<code>$HOME</code>的位置，创建<code>.gvimrc</code>文件，
gVim首先加载<code>$HOME/.vimrc</code>，然后加载<code>$HOME/.gvimrc</code>，
所以<em>.gvimrc</em>会覆盖<em>.vimrc</em>的配置，vim只加载<em>.vimrc</em>，
所以vim和gVim都需要的配置（例如交换<code>:</code>和<code>;</code>）写在<em>.vimrc</em>里，
<em>.gvimrc</em>中只写gVim的配置。
如果打开汉字是乱码，在<code>.gvimrc</code>文件中加入<code>set encoding=utf-8</code>，
完整内容如下：</p>
<div class="highlight"><pre><span></span><code><span class="err">set encoding=utf-8</span>
<span class="err">colo koehler</span>
<span class="err">set guioptions -=T</span>
<span class="err">set guioptions -=m</span>
</code></pre></div>


<p><em>.vimrc</em>文件内容如下：</p>
<div class="highlight"><pre><span></span><code><span class="k">set</span> <span class="n">splitbelow</span>
<span class="k">set</span> <span class="n">splitright</span>
<span class="k">set</span> <span class="n">nobackup</span>
<span class="k">set</span> <span class="n">noswapfile</span>
<span class="k">set</span> <span class="n">incsearch</span>
<span class="k">set</span> <span class="n">et</span>
<span class="k">set</span> <span class="n">sw</span><span class="o">=</span><span class="mi">4</span>
<span class="k">set</span> <span class="n">ts</span><span class="o">=</span><span class="mi">4</span>
<span class="k">set</span> <span class="n">nu</span>
<span class="k">set</span> <span class="n">nowrap</span>
<span class="n">colo</span> <span class="n">ron</span>

<span class="k">set</span> <span class="n">clipboard</span><span class="o">+=</span><span class="k">unnamed</span>
<span class="k">set</span> <span class="n">guifont</span><span class="o">=</span><span class="n">Consolas</span><span class="p">:</span><span class="n">h13</span>

<span class="n">nnoremap</span> <span class="p">;</span> <span class="p">:</span>
<span class="n">nnoremap</span> <span class="p">:</span> <span class="p">;</span>
<span class="n">vnoremap</span> <span class="p">;</span> <span class="p">:</span>
<span class="n">vnoremap</span> <span class="p">:</span> <span class="p">;</span>

<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="k">C</span><span class="o">-</span><span class="n">J</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="k">C</span><span class="o">-</span><span class="n">W</span><span class="o">&gt;&lt;</span><span class="k">C</span><span class="o">-</span><span class="n">J</span><span class="o">&gt;</span>
<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="k">C</span><span class="o">-</span><span class="n">K</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="k">C</span><span class="o">-</span><span class="n">W</span><span class="o">&gt;&lt;</span><span class="k">C</span><span class="o">-</span><span class="n">K</span><span class="o">&gt;</span>
<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="k">C</span><span class="o">-</span><span class="n">L</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="k">C</span><span class="o">-</span><span class="n">W</span><span class="o">&gt;&lt;</span><span class="k">C</span><span class="o">-</span><span class="n">L</span><span class="o">&gt;</span>
<span class="n">nnoremap</span> <span class="o">&lt;</span><span class="k">C</span><span class="o">-</span><span class="n">H</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="k">C</span><span class="o">-</span><span class="n">W</span><span class="o">&gt;&lt;</span><span class="k">C</span><span class="o">-</span><span class="n">H</span><span class="o">&gt;</span>
</code></pre></div>


<p>gVim有个优点是可以避免输入法对vim控制命令的干扰，只要在normal模式下关闭输入法，
在insert模式下打开输入法，gVim就可以自动保证normal模式下关闭输入法，insert模式下打开。</p>
<p>翻译的工作流是：<code>Win + E</code>打开快速访问窗口，要编辑的文件上右键，用gVim打开，
双击PDF文件打开，<code>Win + Left</code>让gVim靠左，选择PDF文件窗口靠右。</p>
<p>在gVim中，使用<code>:tabnew &lt;file-name&gt;</code>在新标签页中打开文件，
用<code>gt</code>或者<code>Ctrl-PageUp/PageDown</code>切换标签。
或者使用<code>:sb &lt;file-name&gt;</code>在新window中打开文件，使用<code>Ctrl-w Shift-h/j/k/l</code>重新排布窗口。</p>
<p>参考：</p>
<ul>
<li>http://superuser.com/questions/86246/where-should-the-vimrc-file-be-located-on-windows-7</li>
<li>http://stackoverflow.com/questions/5166652/how-to-view-utf-8-characters-in-vim-or-gvim</li>
<li>http://stackoverflow.com/questions/4100195/change-gvim-color-scheme-to-be-like-command-line-vim</li>
<li>http://stackoverflow.com/questions/13525518/how-to-hide-the-menu-tool-bar-of-gvim </li>
</ul>
<h2>旧版本配置</h2>
<p><code>$MYVIMRC</code>（d:\Apps\Vim_vimrc）的设置是：</p>
<div class="highlight"><pre><span></span><code><span class="err">set encoding=utf-8</span>
<span class="err">language messages zh_CN.utf-8</span>
<span class="err">map &lt;Right&gt; :bn&lt;CR&gt;</span>
<span class="err">map &lt;F2&gt; :set wrap!&lt;CR&gt;</span>
<span class="err">set go=</span>
<span class="err">colo evening</span>
<span class="err">set noswapfile</span>
<span class="err">set nobackup</span>
<span class="err">set ts=2</span>
<span class="err">set sw=2</span>
<span class="err">set et</span>
<span class="err">set ai</span>
<span class="err">set nu</span>
<span class="err">set clipboard+=unnamed</span>
<span class="err">set guifont=Consolas:h13</span>
<span class="err">cd e:/docs/translate/propuppet</span>
</code></pre></div>


<p><code>language</code>解决提示信息中的中文乱码问题；</p>
<p>Windows上的gVim不论插入模式和标志模式默认都支持C-s保存文件。</p>
<h2>SumatraPDF</h2>
<p>主菜单 -&gt; 设置 -&gt; 高级选项，
在打开的配置文件里将FixedPageUI中TextColor值和BackgroundColor值互换，
就实现了黑底白字的效果。</p>
<p>全屏用 [查看 -&gt; 全屏]，快捷键C-S-l。</p>
<h1>Note</h1>
<p>全屏需要使用一个叫做
<a href="http://www.vim.org/scripts/script.php?script_id=2596">gvimfullscreen_win32</a>
的工具，下载安装包，
把gvimfullscreen.dll解压到gvim.exe所在目录下（d:\Apps\Vim\vim72\），
然后在_vimrc中加一行：</p>
<p>map <F11> <Esc>:call libcallnr("gvimfullscreen.dll", "ToggleFullScreen", 0)<CR></p>
<p>试用后发现全屏状态下输入法和其他提示窗口都不能显示，基本不可用。</p>
            
            
            <hr/>
            <script src="https://utteranc.es/client.js"
                    repo="leetschau/leetschau.github.io"
                    issue-term="pathname"
                    theme="github-light"
                    crossorigin="anonymous"
                    async>
            </script>
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2014-03-17T16:36:40+08:00">Mar 17, 2014</time>

<h4>Last Updated</h4>
<time datetime="2017-11-01T11:39:31+08:00">Nov 1, 2017</time>

            <h4>Category</h4>
            <a class="category-link" href="http://leetschau.github.io/categories.html#tech-ref">Tech</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="http://leetschau.github.io/tags.html#gvim-ref">gVim
                    <span>2</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#pdf-ref">PDF
                    <span>8</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#puppet-ref">Puppet
                    <span>6</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#translate-ref">Translate
                    <span>3</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#windows-ref">Windows
                    <span>67</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>