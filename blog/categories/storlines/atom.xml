<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Storlines | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/storlines/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-04-18T20:45:37+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    <email><![CDATA[leetschau@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[用ftplib的storlines上传文件]]></title>
    <link href="http://leetschau.github.io/blog/2011/01/06/153443/"/>
    <updated>2011-01-06T15:34:43+08:00</updated>
    <id>http://leetschau.github.io/blog/2011/01/06/153443</id>
    <content type="html"><![CDATA[<p>上传文本文件：ftp_client.storlines(&ldquo;STOR &rdquo; + the_file, open(full_name, &ldquo;rt&rdquo;))</p>

<p>上传二进制文件：ftp_client.storbinary(&ldquo;STOR &rdquo; + pkg_names[0], open(full_pkg_name, &ldquo;rb&rdquo;))</p>

<p>需要用cwd首先设置好传文件的目标文件夹，然后用storlines命令上传，如果目标文件夹下已有同名文件，则不论上传的文件是否比已存在的新，都会覆盖已有的文件，下面的代码验证了以上结论，首先在F盘根目录下生成一个aa.txt文件，然后运行下面代码，然后修改aa.txt并再次运行下面的代码，可以看到ftp上的文件被更新了。</p>

<p> import ftplib</p>

<p> fc = ftplib.FTP(&lsquo;10.0.2.47&rsquo;,&lsquo;godu1&rsquo;,&lsquo;godu1&rsquo;)</p>

<p> import os</p>

<p> os.chdir(&lsquo;f:\&rsquo;)</p>

<p> fc.storlines(&lsquo;STOR aa.txt&rsquo;,open(&lsquo;f:\aa.txt&rsquo;,&lsquo;rt&rsquo;))</p>
]]></content>
  </entry>
  
</feed>
