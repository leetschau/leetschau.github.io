<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Network | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/network/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-08-11T14:12:54+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Fix NIC Name of Cloned CentOS VMs]]></title>
    <link href="http://leetschau.github.io/blog/2014/07/23/151635/"/>
    <updated>2014-07-23T15:16:35+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/07/23/151635</id>
    <content type="html"><![CDATA[<p>Sometimes the NIC name in output of <code>ip addr</code> or <code>ifconfig</code> is not the same with that defined in /etc/sysconfig/network-scripts/ifcfg-eth0, for example, in ifcfg-eth0, the first line is:</p>

<pre><code>DEVICE="eth0"
</code></pre>

<p>but the output of <code>ip addr</code> is:</p>

<pre><code>2: eth1: &lt;BROADCAST...
</code></pre>

<p>This is because the source of <code>ip addr</code> is /etc/udev/rules.d/70-persistent-net.rules. Edit this file to correct the NIC name.</p>

<p>The total step to fix network of a centos VM is:</p>

<ol>
<li><p>vi /etc/sysconfig/network   // fix hostname and gateway IP</p></li>
<li><p>vi /etc/sysconfig/network-scripts/ifcfg-eth0 // fix NIC name, host IP and netmask</p></li>
<li><p>vi /etc/udev/rules.d/70-persistent-net.rules  // NIC name and hardware address should be the same with that in file ifcfg-eth0</p></li>
<li><p>reboot</p></li>
</ol>


<h1>Update 2014-9-19</h1>

<p>The MAC address is determined by <code>ifconfig -a</code>, so copy IP address after &ldquo;HWaddr&rdquo; in command output, and modify &ldquo;HWADDR&rdquo; in /etc/&hellip;/ifcfg-eth0, then <code>sudo service network restart</code>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Build Working Environment on CentOS Minimal]]></title>
    <link href="http://leetschau.github.io/blog/2014/07/18/142036/"/>
    <updated>2014-07-18T14:20:36+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/07/18/142036</id>
    <content type="html"><![CDATA[<h1>System</h1>

<ol>
<li><p>Install CentOS with CentOS-6.5-i386-minimal.iso;</p></li>
<li><p>Choose &ldquo;Install system with basic video driver&rdquo;;</p></li>
</ol>


<h1>Network</h1>

<ol>
<li><p>After Installation, login as root, modify &ldquo;NM_CONTROLLED&rdquo; to &ldquo;no&rdquo; and &ldquo;ONBOOT&rdquo; to &ldquo;yes&rdquo;, and &ldquo;BOOTPROTO&rdquo; to &ldquo;dhcp&rdquo; in file /etc/sysconfig/network-scripts/ifcfg-eth0;</p></li>
<li><p>run <code>service network restart</code>, verify network with <code>ip addr</code> and <code>ping www.baidu.com</code>;</p></li>
</ol>


<h1>Desktop Environment</h1>

<p>Install epel repository: on x84_64 host:</p>

<pre><code># rpm -Uvh http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
</code></pre>

<p>Instead &ldquo;x86_64&rdquo; above with &ldquo;i386&rdquo; on x86 (32bit) host.</p>

<pre><code># yum update
# yum groupinstall Xfce Fonts
# useradd -m chad
</code></pre>

<p>Reboot and login as chad, run <code>startxfce4</code> and the Desktop Environment start (you can&rsquo;t run this command when you switch from another user via &ldquo;su&rdquo;).</p>

<h1>Other</h1>

<pre><code># yum install git zsh tmux
# yum install rabbitvcs-thunar rabbitvcs-cli  // a tortoise-svn like subversion &amp; git client, start repo browser with `rabbitvcs browser` or right-click in a thunar window
</code></pre>

<h1>Define Shortcuts</h1>

<p>Alt-F2 -> xfce4-appfinder -> keyboard -> Application Shortcuts -> Add:
    Command: xfce4-appfinder; ShortCut: Alt-[</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Connect Internet via Wired Network for Arch Linux]]></title>
    <link href="http://leetschau.github.io/blog/2014/07/15/113913/"/>
    <updated>2014-07-15T11:39:13+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/07/15/113913</id>
    <content type="html"><![CDATA[<p>After start up Arch Linux host, plugin the ethernet cable, the lights of network interface card is off. Now run command</p>

<pre><code>ip link set enp0s25 up
</code></pre>

<p>the lights will turned on. Then run</p>

<pre><code>dhcpcd enp0s25
</code></pre>

<p>Now the host will get a IP. If you can ping 8.8.8.8 (which is google&rsquo;s dns server), but not www.baidu.com, you have to assign a valid DNS provider. Using OpenDNS is a safe solution. So add the following lines into /etc/resolv.conf:</p>

<pre><code>nameserver 208.67.222.222
nameserver 208.67.220.220
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Fix Jenkins Startup and Access Failure on CentOS]]></title>
    <link href="http://leetschau.github.io/blog/2014/03/11/095843/"/>
    <updated>2014-03-11T09:58:43+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/03/11/095843</id>
    <content type="html"><![CDATA[<p>Today I install Jenkins on CentOS 6. When start the service with &ldquo;java -jar jenkins.war &ndash;httpPort=8088&rdquo;, it raised a &ldquo;java.net.unknownhostexception: Temporary failure in name resolution&rdquo; error.</p>

<p>Resolution: add hostname (&ldquo;tybvt&rdquo; here) into &ldquo;127.0.0.1&rdquo; name of /etc/hosts, from:</p>

<pre><code>127.0.0.1  localhost.localdomain localhost
</code></pre>

<p>to:</p>

<pre><code>127.0.0.1  tybvt localhost.localdomain localhost
</code></pre>

<p>When Jenkins start successfully, only can access from &ldquo;localhost:8088&rdquo;, &ldquo;10.0.2.47:8088&rdquo; is rejected. It&rsquo;s because the firewall &ldquo;iptables&rdquo; service. So we need to add a rule into iptables configuration. Add:</p>

<pre><code>-A INPUT -i eth0 -p tcp --dport 8088 -j ACCEPT
</code></pre>

<p><strong>right after</strong> the line &ldquo;-A INPUT -i lo -j ACCEPT&rdquo; in file /etc/sysconfig/iptables.
Or simply stop the service with &ldquo;service iptables stop&rdquo; if security is not a concern.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Network Tools on Linux]]></title>
    <link href="http://leetschau.github.io/blog/2014/03/07/135434/"/>
    <updated>2014-03-07T13:54:34+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/03/07/135434</id>
    <content type="html"><![CDATA[<ul>
<li><p>aria2c, curl, wget: Download tools;</p></li>
<li><p>ping: ping -c 4 bing.com;</p></li>
<li><p>tracepath bing.com;</p></li>
<li><p>mtr bing.com: combination of ping and tracepath;</p></li>
<li><p>host bing.com; host 204.79.197.200</p></li>
<li><p>whois bing.com</p></li>
<li><p>ifconfig;</p></li>
<li><p>ifup; ifdown;</p></li>
<li><p>ifplugstatus: sudo apt-get install ifplugd</p></li>
<li><p>netstat -p; netstat -s;</p></li>
<li><p>dhclient (root privilege): free IP address, and get a new one from DHCP server;</p></li>
</ul>


<p>Ref: <a href="http://www.geekfan.net/7192/">如何用Linux命令行管理网络：11个你必须知道的命令</a></p>
]]></content>
  </entry>
  
</feed>
