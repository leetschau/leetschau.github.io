<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Ip | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/ip/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2016-11-11T15:03:30+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[理解IP地址和CIDR]]></title>
    <link href="http://leetschau.github.io/blog/2016/10/31/171345/"/>
    <updated>2016-10-31T17:13:45+08:00</updated>
    <id>http://leetschau.github.io/blog/2016/10/31/171345</id>
    <content type="html"><![CDATA[<p>以<code>172.16.0.0/12</code>为例，<code>12</code>表示网络ID的位数，由于IPv4地址由4个8位二进制数字组成，
所以后面20位就是主机ID了，也就是：</p>

<pre><code>0000 0000.0000 0000.0000 0000.0000 0000
-------------- ------------------------
   网络ID             主机ID
</code></pre>

<p><code>172.16.0.0/12</code>第二段<code>16</code>写成二进制是<code>0001 0000</code>，所以这个地址代表的主机IP地址
范围是：</p>

<pre><code>(172).0001 0000.0000 0000.0000 0000 ~ (172).0001 1111.1111 1111.1111 1111
</code></pre>

<p>也就是<code>172.16.0.0 ~ 172.31.255.255</code>.</p>

<p>同理可知：<code>172.16.0.0/24</code>表示的IP地址范围是：<code>172.16.0.0 ~ 172.16.0.255</code>.
<code>172.16.0.0/16</code>表示的IP地址范围是：<code>172.16.0.0 ~ 172.16.255.255</code>.</p>

<p>参考：
<a href="https://my.oschina.net/lgscofield/blog/110949">如何计算IP地址及CIDR</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Set Static IP on Linux]]></title>
    <link href="http://leetschau.github.io/blog/2014/05/04/173927/"/>
    <updated>2014-05-04T17:39:27+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/05/04/173927</id>
    <content type="html"><![CDATA[<h1>Ubuntu</h1>

<p>You need to know the static IP, netmask and gateway IP.
To test your network, set static IP temporarily:</p>

<pre><code># ip addr   // get the interface name: eth0
# ifconfig eth0 10.32.22.10 netmask 255.255.255.0
# route add default gw 10.32.22.254 eth0
</code></pre>

<p>Then test network with &ldquo;ping&rdquo; command. If it&rsquo;s OK, set it permanently:</p>

<pre><code># cat /etc/network/interfaces  // before modification: dhcp
auto eth0
iface eth0 inet dhcp
# cat /etc/network/interfaces  // after modification: static IP
auto eth0
iface eth0 inet static
address 10.32.22.10
netmask 255.255.255.0
gateway 10.32.22.254
</code></pre>

<p>Now reboot the static IP will take effect.</p>

<p>Note that the value of &ldquo;gateway&rdquo; is determined by <code>route -n</code>,
the value in column &ldquo;Gateway&rdquo; after destination &ldquo;0.0.0.0&rdquo;.</p>

<h1>Arch Linux</h1>

<pre><code># ip addr flush enp2s0
# ip addr add 10.32.22.10/24 dev enp2s0
# ip route add default via 10.32.22.254
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Change IP Address of NAT NIC in Vagrant VM]]></title>
    <link href="http://leetschau.github.io/blog/2014/02/27/142307/"/>
    <updated>2014-02-27T14:23:07+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/02/27/142307</id>
    <content type="html"><![CDATA[<p>The default IP address of Vagrant VM is 10.0.2.15. So you can&rsquo;t connect to a host with IP in range &ldquo;10.0.2.*&rdquo;. If you do want, you must change the IP address of NAT NIC (network interface card) via the modifyvm command of VBoxManage:</p>

<pre><code>VBoxManage modifyvm &lt;vm-name&gt; --natnet1 "10.3/16"
</code></pre>

<p>The <vm-name> here can be listed by command &ldquo;VBoxManage list vms&rdquo;.</p>

<p>In vagrant we can achieve this by adding &ldquo;config.customize ["modifyvm&rdquo;, :id, &ldquo;&ndash;natnet1&rdquo;, <ip-range>]&ldquo; into your vm config of Vagrantfile, for example, the following config will change the IP address of NAT NIC to "10.3.0.15&rdquo;:</p>

<pre><code>config.vm.define "bs" do |bvtserver|
  bvtserver.vm.hostname = "bvt-server"
  bvtserver.vm.network "private_network", ip: "192.168.50.3",
      virtualbox__intnet: "gcptest-network"
  bvtserver.vm.provider :virtualbox do |vbox|
    vbox.customize ["modifyvm", :id, "--natnet1", "10.3/16"]
  end
end
</code></pre>
]]></content>
  </entry>
  
</feed>
