<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Fireplace | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/fireplace/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-06-01T12:52:39+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Use Vim as Clojure Development Environment]]></title>
    <link href="http://leetschau.github.io/blog/2013/09/22/175355/"/>
    <updated>2013-09-22T17:53:55+08:00</updated>
    <id>http://leetschau.github.io/blog/2013/09/22/175355</id>
    <content type="html"><![CDATA[<h1>Build IDE in vim</h1>

<ol>
<li><p>Install leiningen 2.x;</p>

<p> verify: <code>lein repl</code> produces something like &ldquo;nREPL server started on port&hellip;&rdquo;;</p></li>
<li><p>Install <a href="https://github.com/tpope/vim-fireplace">vim-fireplace</a> with pathogen:</p>

<pre><code> cd ~/.vim/bundle
 git clone git://github.com/tpope/vim-fireplace.git 
 git clone git://github.com/tpope/vim-classpath.git 
 git clone git://github.com/guns/vim-clojure-static.git
</code></pre></li>
<li><p>Create a new clojure project: <code>lein new myproj</code>;</p></li>
<li><p>Run &ldquo;lein repl&rdquo; under myproj (to download necessary jar files), then quit repl (if you met some errors at next step, try not to quit repl);</p></li>
<li><p>edit a clojure file (*.clj) with vi, using &ldquo;:Eval&rdquo; to evaluate the expression under cursor, using &ldquo;:%Eval&rdquo; to evaluate current namespace;</p></li>
</ol>


<p>Note 1: the clj file must be one of the source files (under &ldquo;src&rdquo; folder)of a clojure project created by leiningen. And the first line of this file (a clojure module actually) must be &ldquo;(ns project-name.module-name)&rdquo;;</p>

<p>Note 2: <code>lein repl</code> (to start nREPL server when evaluating expression in vi) and adding &ldquo;[org.clojure/tools.nrepl "0.2.3&rdquo;]&ldquo; to project.clj are unnecessary;</p>

<p>Ref:</p>

<p><a href="http://clojure-doc.org/articles/tutorials/vim_fireplace.html">http://clojure-doc.org/articles/tutorials/vim_fireplace.html</a></p>

<p><a href="http://www.boxuk.com/blog/unboxing-vim-fireplace/">http://www.boxuk.com/blog/unboxing-vim-fireplace/</a></p>

<h1>Define Shortcuts for Efficiency</h1>

<p>Add &ldquo;autocmd FileType clojure nnoremap <buffer> <F5> :Eval<CR>&rdquo; in .vimrc (before &ldquo;filetype on&rdquo;).</p>

<p>Explanation: &ldquo;autocmd <event> <command>&rdquo; means when <event> happens, run command <command>. Here <event> is &ldquo;FileType clojure&rdquo;, <command> is &ldquo;nnoremap <buffer> <F5> :Eval<CR>&rdquo;. The <buffer> options here is &ldquo;buffer local map&rdquo;, which means this keymapping only take effect on the current buffer. See <a href="http://learnvimscriptthehardway.stevelosh.com/chapters/11.html">Buffer-Local Options and Mappings in Learn Vimscript the Hard Way</a> for explanations.</p>

<p>To determine FileType name (here is clojure), you should open a target file (here is any file with &ldquo;.clj&rdquo; extension) in vi, then run &ldquo;:set filetype&rdquo;.</p>
]]></content>
  </entry>
  
</feed>
