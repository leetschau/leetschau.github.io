<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Atom | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/atom/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2016-11-11T14:51:43+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Atom Notes]]></title>
    <link href="http://leetschau.github.io/blog/2016/03/04/230125/"/>
    <updated>2016-03-04T23:01:25+08:00</updated>
    <id>http://leetschau.github.io/blog/2016/03/04/230125</id>
    <content type="html"><![CDATA[<h1>Import Global Settings</h1>

<p>ctrl-.: toggle <a href="https://atom.io/packages/keybinding-resolver">Keybinding Resolver</a>;</p>

<p>ctrl-,: open &ldquo;Settings&rdquo; panel;</p>

<p>Search shortcuts in [Settings -> Keybindings]</p>

<h1>Important Packages</h1>

<h2>vim mode</h2>

<p>Frequently used shortcuts in <a href="https://github.com/atom/vim-mode">Vim Mode</a>:</p>

<p>ctrl-k s/v: split panel horizontal/vertical;</p>

<p>ctrl-w,w: switch focus between 2 panels;</p>

<p>ctrl-w, h/j/k/l: switch focus to left/down/up/right panel;</p>

<p>ctrl-w,q: close panel;</p>

<p>Get all shortcuts in vim mode in ~/.atom/packages/vim-mode/keymaps/vim-mode.cson</p>

<h2>vim-mode-clipboard-plus</h2>

<p>Use <code>yy</code> to copy from Atom to outside,
and use <code>p</code> to paste from outside into Atom.</p>

<h2>ex-mode</h2>

<p>Use <code>:w</code>, <code>:q</code>, <code>:sv</code>, <code>:sp</code>.</p>

<h2>Keyboard localization</h2>

<p>Purpose: use &ldquo;;&rdquo; instead of &ldquo;:&rdquo; in vim-mode to invoke ex-command.</p>

<p>Install this package, and create file
&ldquo;/home/leo/.atom/packages/keyboard-localization/mykeymaps.json&rdquo;:</p>

<pre><code>{
    "186": {
        "unshifted": 58
    }
}
</code></pre>

<p>Set above path value to [Settings -> Packages -> keyboard-localization]:
Settings, &ldquo;Use Keyboard Layout From Path&rdquo;.</p>

<p>See <a href="https://atom.io/packages/keyboard-localization">Keyboard localization</a>
for how to generate above json file.</p>

<h2>Git</h2>

<p><a href="https://atom.io/packages/git-plus">Git-Plus</a>.</p>

<p>For example: discard all changes from last commit:</p>

<pre><code>ctrl-shift-h
Run
reset --hard HEAD
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Setup Haskell Develop Environment in Atom]]></title>
    <link href="http://leetschau.github.io/blog/2016/03/04/113755/"/>
    <updated>2016-03-04T11:37:55+08:00</updated>
    <id>http://leetschau.github.io/blog/2016/03/04/113755</id>
    <content type="html"><![CDATA[<p><a href="https://atom.io/packages/ide-haskell">IDE-Haskell</a> is a good choice
for haskell editor.</p>

<h1>Installation</h1>

<pre><code>$ cabal update
$ cabal install ghc-mod stylish-haskell
$ ghc-mod --version
ghc-mod version 5.5.0.0 compiled by GHC 7.10.2
</code></pre>

<p>Download Atom 1.5 (atom-amd64.deb),
install it with <code>sudo dpkg -i atom-amd64.deb</code>, and run:</p>

<pre><code>$ apm install language-haskell haskell-ghc-mod ide-haskell-cabal ide-haskell autocomplete-haskell ide-haskell-repl
</code></pre>

<p>Open Atom, Ctrl-Shift-P, open &ldquo;View Installed Packages&rdquo;,
click &ldquo;Settings&rdquo; of haskell-ghc-mod,
input full path of ghc-mod and ghc-modi in &ldquo;Ghc Mod Path&rdquo; and &ldquo;Ghc Modi Path&rdquo;,
here &ldquo;/home/leo/.cabal/bin/ghc-mod&rdquo; and &ldquo;/home/leo/.cabal/bin/ghc-modi&rdquo;.</p>

<p>Click &ldquo;Settings&rdquo; of ide-haskell,
input full path of stylish-haskell in &ldquo;Stylish Haskell Path&rdquo;,
here it&rsquo;s &ldquo;/home/leo/.cabal/bin/stylish-haskell&rdquo;.</p>

<p>Restart Atom, open a folder contains haskell .hs files to use ide-haskell.</p>

<h2>GHCi in Atom</h2>

<p>Click &ldquo;Settings&rdquo; of ide-haskell-repl,
set &ldquo;Command Args&rdquo; to &ldquo;ghci&rdquo;, and &ldquo;Command Path&rdquo; to &ldquo;/usr/bin/stack&rdquo;,
when you use stack. (This works fine in Atom 1.5).
Set &ldquo;Command Args&rdquo; to &ldquo;repl&rdquo;, and &ldquo;Command Path&rdquo; to &ldquo;/home/leo/.local/bin/cabal&rdquo;,
when you use cabal. (This doesn&rsquo;t work in Atom 1.5).</p>

<p>To load chapter 2 of &ldquo;Learning Haskell Data Analysis&rdquo;
into ide-haskell-repl, you must install required libraries with stack:</p>

<pre><code>stack install csv HDBC sqlite HDBC-sqlite3
</code></pre>

<p>Then open file &ldquo;LearningDataAnalysis02.hs&rdquo; in Atom,
click [Haskell IDE -> Open REPL] in main menu,
now module &ldquo;LearningDataAnalysis02&rdquo; is loaded into ghci.
Input <code>parseCSVFromFile "all_week.csv"</code> in repl box,
press Shift+Enter to evluate it.</p>

<p>See all keybindings in &ldquo;Keybindings&rdquo; of ide-haskell-repl
in Atom package settings.</p>

<h1>Discussion</h1>

<p>Ensure ghc-mod version > 5.4.
Do NOT install it with <code>apt-get</code>, because its version is 3.x.
See <a href="https://github.com/atom-haskell/haskell-ghc-mod#configuration">https://github.com/atom-haskell/haskell-ghc-mod#configuration</a> for details.</p>

<p>If you only install stack instead of cabal, you can install Haskell package with
<code>stack install ghc-mod stylish-haskell</code>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Underscore Highlights Problem in Vim Markdown Documents]]></title>
    <link href="http://leetschau.github.io/blog/2015/08/19/100625/"/>
    <updated>2015-08-19T10:06:25+08:00</updated>
    <id>http://leetschau.github.io/blog/2015/08/19/100625</id>
    <content type="html"><![CDATA[<h1>Install GFM plugin for vim</h1>

<p>To fix the highlight problem,
use <code>Plugin 'jtratner/vim-flavored-markdown'</code> instead of
<code>Plugin 'plasticboy/vim-markdown'</code> in .vimrc,
and run <code>vim +PluginClean +PluginInstall +qall</code>.</p>

<h1>Use Atom as Editor</h1>

<p>Install <a href="https://atom.io/">Atom</a> and modify the value of &ldquo;EDITOR&rdquo; in $DSNOTE_HOME/notes.sh to &ldquo;atom -f&rdquo;.</p>

<h2>Run in foreground</h2>

<p>dsnot works in sync manner, while the default Atom working flow is async.
So use &ldquo;atom -f&rdquo; instead of &ldquo;vim&rdquo; for the value of variable &ldquo;EDITOR&rdquo;.</p>

<h2>Chinese character support</h2>

<p>Verified on Ubuntu 14.04 LTS.</p>

<p>First install font &ldquo;文泉驿正黑&rdquo;:</p>

<pre><code>sudo aptitude install ttf-wqy-microhei
sudo aptitude install ttf-wqy-zenhei
</code></pre>

<p>Then press &ldquo;Ctrl+,&rdquo; to open settings panel:</p>

<p>Set [Settings -> Editor Settings -> Font Family] as:</p>

<pre><code>DejaVu Sans Mono, 文泉驿正黑
</code></pre>

<p>But Chinese characters can&rsquo;t be displayed in preview window.</p>

<h2>Toggle Tree View</h2>

<p>Use <code>ctrl-\</code> to toggle tree view.
<code>alt-\</code> or <code>ctrl-0</code> to focus it.</p>

<h2>Markdown editing and preview</h2>

<p>Use <code>Ctrl-Shift-M</code> to toggle preview panel.
Install some advanced packages:</p>

<pre><code>apm search vim
apm install vim-mode
apm install markdown-scroll-sync
apm install markdown-writer
apm install markdown-preview-plus
apm install markdown-format
</code></pre>
]]></content>
  </entry>
  
</feed>
