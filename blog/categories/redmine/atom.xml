<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Redmine | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/redmine/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-04-18T14:12:11+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    <email><![CDATA[leetschau@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Redmine Notes]]></title>
    <link href="http://leetschau.github.io/blog/2014/02/21/163736/"/>
    <updated>2014-02-21T16:37:36+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/02/21/163736</id>
    <content type="html"><![CDATA[<ul>
<li><p>Mandatory authenticaion: login as Administrator, Settings -> Authentication -> Check &ldquo;Authentication required&rdquo;, set &ldquo;Autologin&rdquo; as &ldquo;disabled&rdquo;;</p></li>
<li><p>Hide Bitnami landing page: modify the <body> of file $REDMINE_HOME/apache2/htdocs/index.html as:</p>

<p>  &lt;!DOCTYPE  &hellip;>
  <html>
      <body onLoad = "parent.location = 'http://123.124.236.183/redmine/'">
          Redirection &hellip;
      </body>
  </html></p>

<p>Modify &ldquo;parent.location&rdquo; as your redmine location.</p></li>
<li><p>Modify Web UI font size: /opt/redmine-2.4.3-0/apps/redmine/htdocs/public/stylesheets/application.css, the 2nd line:</p>

<p>  body { &hellip; font-size: &hellip; }</p></li>
</ul>


<h1>Add Email Notification</h1>

<p>Edit file: /opt/redmine-2.4.3-0/apps/redmine/htdocs/config/configuration.yml</p>

<pre><code># default configuration options for all environments
default:
  # Outgoing emails configuration (see examples above)
  email_delivery:
   delivery_method: :smtp
   smtp_settings:

     address: 123.124.236.199
     port: 25
     domain: boco.com.cn
     authentication: :login
     user_name: lichao1@boco.com.cn
     password: abaqus67
</code></pre>

<p>then restart services: /opt/redmine-2.4.3-0/ctlscript.sh restart</p>

<p>Change host path as Administrator: [Administration -> Settings -> General -> Host name and path: 123&hellip;/redmine]
Note there is no &ldquo;<a href="http://">http://</a>&rdquo; before the string and no &ldquo;/&rdquo; after it, too.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Add Custom Fields on Issues of Project in Redmine]]></title>
    <link href="http://leetschau.github.io/blog/2014/02/13/163950/"/>
    <updated>2014-02-13T16:39:50+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/02/13/163950</id>
    <content type="html"><![CDATA[<p>Check items under &ldquo;Trackers&rdquo; to enable a custom field for a specific tracker.</p>

<p>Add this custom field to &ldquo;Selected columns&rdquo;.</p>

<p>That&rsquo;s it. When you create a new issue via [Project -> New Issue], this field will show in definition panel.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Install Redmine on Virtual Machine With Vagrant]]></title>
    <link href="http://leetschau.github.io/blog/2014/02/11/091423/"/>
    <updated>2014-02-11T09:14:23+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/02/11/091423</id>
    <content type="html"><![CDATA[<ol>
<li><p>Initialize VM:</p>

<p> chad@typcserver ~/docs/vagrant-prj $ vagrant &ndash;version
 Vagrant 1.4.3
 chad@typcserver ~/docs/vagrant-prj $ vagrant init
 chad@typcserver ~/docs/vagrant-prj $ cat Vagrantfile
 VAGRANTFILE_API_VERSION = &ldquo;2&rdquo;
 Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|
   config.vm.box = &ldquo;precise64&rdquo;
   config.vm.box_url = &ldquo;<a href="http://files.vagrantup.com/precise64.box">http://files.vagrantup.com/precise64.box</a>&rdquo;
 end</p></li>
<li><p>Startup VM:</p>

<p> chad@typcserver ~/docs/vagrant-prj $ vagrant up
 chad@typcserver ~/docs/vagrant-prj $ vagrant ssh</p></li>
<li><p>The preinstalled puppet version is 2.7:</p>

<p> vagrant@precise64:~$ puppet &ndash;version
 2.7.19</p></li>
<li><p>Install redmine module:</p>

<p> vagrant@precise64:~$ sudo mkdir -p /etc/puppet/modules
 vagrant@precise64:~$ sudo puppet module install johanek/redmine
 vagrant@precise64:~$ sudo apt-get update
 vagrant@precise64:~$ sudo puppet apply &ndash;modulepath=/etc/puppet/modules -e &ldquo;include stdlib&rdquo;
 vagrant@precise64:~$ sudo puppet apply &ndash;modulepath=/etc/puppet/modules -e &ldquo;include mysql::server&rdquo;
 warning: Could not retrieve fact fqdn</p></li>
</ol>


<p>Then it&rsquo;s stuck. I find there are network traffic with ifstat utility, which probably means puppet is installing mysql. But how can I get the current state of puppet? I can&rsquo;t stop it even with Ctrl-C.</p>

<p>Notes:</p>

<ol>
<li>Uninstall module: <code>puppet module uninstall puppetlabs-mysql</code></li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Install Redmine Server With Bitnami Installer]]></title>
    <link href="http://leetschau.github.io/blog/2013/12/27/154405/"/>
    <updated>2013-12-27T15:44:05+08:00</updated>
    <id>http://leetschau.github.io/blog/2013/12/27/154405</id>
    <content type="html"><![CDATA[<ol>
<li><p>Download bitnami installer: bitnami-redmine-2.4.1-1-linux-installer.run</p></li>
<li><p>$ chmod 755 bitnami&hellip;installer.run (run as a common user)</p></li>
<li><p>$ ./bitnami&hellip;install.run</p></li>
<li><p>you choose a installation destination (as $REDMINE_HOME) and some other configurations (like port number);</p></li>
<li><p>when installation complete, you can choose opening the admin panel;</p></li>
<li><p>close this panel;</p></li>
<li><p>use $REDMINE_HOME/ctlscript.sh to manage your redmine server, use &ldquo;./ctlscript.sh help&rdquo; or read README.txt for usage instructions; use &ldquo;./ctlscript status&rdquo; to get the current status of your server;</p></li>
</ol>


<p>You can use ctlscript start/stop/restart all or each service, use &ldquo;status&rdquo; to get status of all or each service.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Install Redmine on CentOS 6.4]]></title>
    <link href="http://leetschau.github.io/blog/2013/10/30/181122/"/>
    <updated>2013-10-30T18:11:22+08:00</updated>
    <id>http://leetschau.github.io/blog/2013/10/30/181122</id>
    <content type="html"><![CDATA[<p>Turn off SELinux and reboot (or apache can&rsquo;t find /var/www/redmine folder)
Turn off iptables service for others can login to Redmine server:
Use root: service iptables stop
Set yum proxy:
 /etc/yum.conf
 add: proxy=<a href="http://10.21.3.31:8087">http://10.21.3.31:8087</a>
Ref: <a href="http://www.centos.org/docs/5/html/yum/sn-yum-proxy-server.html">http://www.centos.org/docs/5/html/yum/sn-yum-proxy-server.html</a>
Install apache2 and mysql
<a href="http://www.howtoforge.com/installing-apache2-with-php5-and-mysql-support-on-centos-6.4-lamp">http://www.howtoforge.com/installing-apache2-with-php5-and-mysql-support-on-centos-6.4-lamp</a>
Install redmine</p>

<p><a href="http://www.centoscn.com/image-text/install/2013/0913/1620.html">CentOS6.2安装Redmine教程</a></p>

<p><a href="http://www.redmine.org/projects/redmine/wiki/Redmine_203_with_Subversion_and_LDAP_Authentication_%28for_Redmine_and_Subversion_through_Redmine%29_on_Centos_6_i386_-_detailed#Get-Redmine-and-install-it">Install Redmine 2.0.3 on Centos 6.3</a></p>

<p><a href="http://www.redmine.org/projects/redmine/wiki/How_to_Install_Redmine_on_CentOS_%28Detailed%29">http://www.redmine.org/projects/redmine/wiki/How_to_Install_Redmine_on_CentOS_%28Detailed%29</a>
$ yum install gcc g++ make automake autoconf curl-devel openssl-devel zlib-devel httpd-devel apr-devel apr-util-devel sqlite-devel
$ yum install ruby-rdoc ruby-devel
$ yum install rubygems</p>

<p>$ gem install &ndash;http-proxy <a href="http://10.21.3.31:8087">http://10.21.3.31:8087</a> rails
$ gem install &ndash;http-proxy <a href="http://10.21.3.31:8087">http://10.21.3.31:8087</a> passenger
 (very slow: about 10min)
$ passenger-install-apache2-module
$ vi /etc/httpd/conf/httpd.conf: add:
 LoadModule passenger_module /usr/lib/ruby/gems/1.8/gems/passenger-4.0.21/buildout/apache2/mod_passenger.so
 PassengerRoot /usr/lib/ruby/gems/1.8/gems/passenger-4.0.21
 PassengerDefaultRuby /usr/bin/ruby
$ yum install ImageMagick-devel
$ yum install mysql-devel
Create MySQL database
$ mysql -u root -p
 create database redmine character set utf8;
 create user &lsquo;redmine&rsquo;@&lsquo;localhost&rsquo; identified by &lsquo;very_secret&rsquo;;
 grant all privileges on redmine.* to &lsquo;redmine&rsquo;@&lsquo;localhost&rsquo;;
 quit;
Download redmine 2.3.3, tar zxvf to /var/www
rename redmine-2.3.3 to redmine
$ chown -R apache:apache /var/www/redmine/
verify user and group name in /etc/httpd/conf/httpd.conf line 242,243
$ cd /var/www/redmine/config
$ cp database.yml.example database.yml
$ vi /var/www/redmine/config/database.yml
 adapter: mysql
  database: redmine
  host: localhost
  username: redmine
  password: very_secret
  encoding: utf8
$ cd /var/www/redmine
$ gem install bundler
$ bundle install &ndash;without development test
$ RAILS_ENV=production rake db:migrate
$ RAILS_ENV=production rake redmine:load_default_data
$ ruby script/rails server webrick -e production</p>

<p>Then load <a href="http://localhost:3000">http://localhost:3000</a> (or <a href="http://10.21.3.69:3000">http://10.21.3.69:3000</a>) in web browser, the redmine is running.</p>

<h1>Load Redmine in Apache</h1>

<p>The following tests didn&rsquo;t success. Try it later.
Create /etc/httpd/conf.d/redmine.conf:</p>

<p> Listen *:3001
Activate FCGI and generate plugin directory
cd /var/www/redmine/public
mkdir plugin_assets
cp dispatch.fcgi.example dispatch.fcgi
cp htaccess.fcgi.example .htaccess
vi /var/www/redmine/public/dispatch.fcgi</p>
]]></content>
  </entry>
  
</feed>
