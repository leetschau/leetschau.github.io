<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Leinigen | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/leinigen/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-08-05T17:36:08+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[A Simple Ring Server]]></title>
    <link href="http://leetschau.github.io/blog/2014/09/27/113819/"/>
    <updated>2014-09-27T11:38:19+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/09/27/113819</id>
    <content type="html"><![CDATA[<p>The simple web server is based on example 16-1 in &ldquo;Clojure Programming&rdquo; by Chas Emerick. I add it into a clojure project created by leiningen.</p>

<pre><code>$ lein new app ring-server
$ cd ring-server
// Add "[ring "1.0.0"]" into ":dependencies" of project.clj
$ vi src/ring-server/core.clj
$ cat src/ring-server/core.clj
(ns ring-server.core
  (:gen-class))

(use '[ring.adapter.jetty :only (run-jetty)])
(defn app
  [{:keys [uri query-string]}]
  {:body (format "You requested %s with query %s" uri query-string)})
(defn -main
  "this is a ring server"
  [port]
  (run-jetty #'app {:port (bigdec port) :join? false}))

$ lein run -m ring-server.core 8082
</code></pre>

<p>Now open <a href="http://localhost:8082/hello?at=china">http://localhost:8082/hello?at=china</a> in your browser, you can see &ldquo;You requested /hello with query at=china&rdquo;.</p>
]]></content>
  </entry>
  
</feed>
