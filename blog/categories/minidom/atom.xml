<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Minidom | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/minidom/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-10-05T15:23:42+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[用minidom解析xml文档]]></title>
    <link href="http://leetschau.github.io/blog/2011/01/18/113744/"/>
    <updated>2011-01-18T11:37:44+08:00</updated>
    <id>http://leetschau.github.io/blog/2011/01/18/113744</id>
    <content type="html"><![CDATA[<p>原始xml文档（下划线部分是要解析的数据）：</p>

<p> &lt;?xml version=&ldquo;1.0&rdquo;?></p>

<p> &lt;!DOCTYPE coverage SYSTEM &ldquo;<a href="http://cobertura.sourceforge.net/xml/coverage-04.dtd">http://cobertura.sourceforge.net/xml/coverage-04.dtd</a>&rdquo;></p>

<p> <coverage  line-rate="0.0" branch-rate="0.0" lines-covered="0" lines-valid="4358" branches-covered="0" branches-valid="1280" complexity="1.538085255066387"  version="1.9.1" timestamp="1294906695765"></p>

<p> <packages /></p>

<p> </coverage></p>

<p>解析为list：</p>

<p> test_datasets = []</p>

<p> import xml.dom.minidom</p>

<p> dom = xml.dom.minidom.parse(&lsquo;e:\MyDoc\Project\GODU_BVT\build\2011-01-18\GODU_WEB\build\result\cov\coverage-summary.xml&rsquo;)</p>

<p> raw_test_res = dom.getElementsByTagName(&lsquo;coverage&rsquo;)[0]</p>

<p> test_datasets.append(raw_test_res.attributes[&lsquo;lines-covered&rsquo;].value)</p>

<p> test_datasets.append(raw_test_res.attributes[&lsquo;lines-valid&rsquo;].value)</p>

<p> test_datasets.append(raw_test_res.attributes[&lsquo;line-rate&rsquo;].value)</p>

<p> test_datasets.append(raw_test_res.attributes[&lsquo;branches-covered&rsquo;].value)</p>

<p> test_datasets.append(raw_test_res.attributes[&lsquo;branches-valid&rsquo;].value)</p>

<p> test_datasets.append(raw_test_res.attributes[&lsquo;branch-rate&rsquo;].value)</p>

<p> test_datasets.append(raw_test_res.attributes[&lsquo;complexity&rsquo;].value)</p>

<p> return test_datasets</p>

<p>解析为字典：</p>

<p> test_datasets = {}</p>

<p> import xml.dom.minidom</p>

<p> dom = xml.dom.minidom.parse(&lsquo;e:\MyDoc\Project\GODU_BVT\build\2011-01-18\GODU_WEB\build\result\cov\coverage-summary.xml&rsquo;)</p>

<p> raw_data_set = dom.getElementsByTagName(&lsquo;coverage&rsquo;)[0].attributes</p>

<p> for the_attr in raw_data_set.values():</p>

<p>  test_datasets[the_attr.name] = the_attr.value</p>

<p> return test_datasets</p>
]]></content>
  </entry>
  
</feed>
