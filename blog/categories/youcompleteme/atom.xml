<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Youcompleteme | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/youcompleteme/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2016-11-11T14:51:43+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Install YouCompleteMe for Vim]]></title>
    <link href="http://leetschau.github.io/blog/2016/10/01/164934/"/>
    <updated>2016-10-01T16:49:34+08:00</updated>
    <id>http://leetschau.github.io/blog/2016/10/01/164934</id>
    <content type="html"><![CDATA[<h1>Install</h1>

<p>Install YCM on Ubuntu 14.04:</p>

<pre><code>sudo apt install build-essential cmake 
sudo apt install python-dev python3-dev

# Add `Plugin 'Valloric/YouCompleteMe'` into .vimrc.
vim +PluginClean +PluginInstall
cd ~/.vim/bundle/YouCompleteMe
./install.py
</code></pre>

<p>Take about one hour (16:44 ~ 17:44 ) when running <code>vim +PluginClean +PluginInstall</code>
(about 200MB for the repo).</p>

<p>If your vim version is lower than 7.4.143, you must install a newer version vim:
<code>
sudo add-apt-repository ppa:pkg-vim/vim-daily
sudo apt-get update
sudo apt-get install vim
dpkg -s vim | grep 'Version'    # should be greater than 7.41
</code></p>

<p>Or the following error occurs:</p>

<pre><code>Error detected while processing function youcompleteme#Enable..&lt;SNR&gt;74_OnBufferRead:
line   17:
E117: Unknown function: UltiSnips#SnippetsInCurrentScope
Press ENTER or type command to continue
Error detected while processing function youcompleteme#Enable..&lt;SNR&gt;74_OnBufferRead:
line   17:
E15: Invalid expression: UltiSnips#SnippetsInCurrentScope( 1 )
</code></pre>

<p>Ref: <a href="https://github.com/Valloric/YouCompleteMe/issues/2335">https://github.com/Valloric/YouCompleteMe/issues/2335</a></p>

<h1>Config</h1>

<p>To change the default color of the autocomplete window of YCM,
add the following codes into .vimrc <strong>after</strong> <code>syntax on</code>:</p>

<pre><code>" autocomplete window color for plugin YouCompleteMe
highlight Pmenu ctermfg=white ctermbg=black
highlight PmenuSel ctermfg=green ctermbg=black
nnoremap &lt;leader&gt;y :let g:ycm_auto_trigger=0&lt;CR&gt;
nnoremap &lt;leader&gt;Y :let g:ycm_auto_trigger=1&lt;CR&gt;
</code></pre>

<p>Use <leader>Y/y to turn on/off autocomplete.</p>

<h1>Notes</h1>

<h2>Remove vim daily PPA</h2>

<p>Remove vim daily PPA with:
```
$ sudo add-apt-repository -r ppa:pkg-vim/vim-daily
$ apt-key list</p>

<h2>/etc/apt/trusted.gpg.d/pkg-vim-vim-daily.gpg</h2>

<p>pub   4096R/D31525A0 2014-10-15
uid                  Launchpad PPA for pkg-vim
$ sudo apt-key del D31525A0
```</p>

<h2>Use <code>apt-get</code> with proxy:</h2>

<p>When it&rsquo;s very slow when running <code>apt update</code>,
add <code>Defaults env_keep = "http_proxy https_proxy ftp_proxy"</code> after
<code>Defaults env_reset</code> with <code>sudo visudo</code>.
Then run:
<code>
export http_proxy=http://duotai:7jSF81tGRYK@conrad.h.xduotai.com:15617
export https_proxy=$http_proxy
sudo apt update
</code></p>

<p>The proxy url in above <code>export</code> command is provide by <a href="https://duotai.org/">多态</a>.</p>

<h2>Fix error in <code>apt update</code></h2>

<p>Fix the following error with <code>sudo apt update uk-keyring</code>:
<code>
Reading package lists... Done
W: GPG error: http://archive.ubuntukylin.com:10006 xenial InRelease: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 8D5A09DC9B929006
</code></p>

<p>This error is introduced by Sogou Pinyin, in file:
<code>/etc/apt/sources.list.d/sogoupinyin.list</code>.</p>

<p>Ref: <a href="http://www.ubuntukylin.com/ukylin/forum.php?mod=viewthread&amp;tid=25955">http://www.ubuntukylin.com/ukylin/forum.php?mod=viewthread&amp;tid=25955</a></p>
]]></content>
  </entry>
  
</feed>
