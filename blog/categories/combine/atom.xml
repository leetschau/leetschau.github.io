<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Combine | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/combine/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2016-11-11T15:03:30+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Combine History Commits With Git]]></title>
    <link href="http://leetschau.github.io/blog/2016/02/25/103348/"/>
    <updated>2016-02-25T10:33:48+08:00</updated>
    <id>http://leetschau.github.io/blog/2016/02/25/103348</id>
    <content type="html"><![CDATA[<h1>Question</h1>

<p>The commit history is:</p>

<pre><code>$ git log --pretty=oneline
52756ce25b26442a21ebfe52655dcf9c6ba9aa98 ch6 changed
41d49f2fbd12c00af99a90b6fbd1e4af18db0103 ch5 changed
c24b32555b5fe98d556acc7d32a2bd68346d40ba ch4 changed
4088dde16b47f39d1b5f9553bc902e2afc34bf9a ch3 changed
ea37405f9b59bef389ef6ca6a0c6ae8ad6365fb9 Fix some syntax problem
...
</code></pre>

<p>You want to combine changes in chapter 3, 4 and 5.</p>

<h1>Solution</h1>

<pre><code>git rebase -i ea37405f
</code></pre>

<p>Here &ldquo;ea37405f&rdquo; is the commit <strong>older</strong> than the commits you want to combine.</p>

<p>Now in an editor like:</p>

<pre><code>pick 4088dde ch3 changed
pick c24b325 ch4 changed
pick 41d49f2 ch5 changed
pick 52756ce ch6 changed
</code></pre>

<p>Notice the timeline order is <strong>reversed</strong> compared with that in <code>git log</code>:
the newest commit (&ldquo;ch6 changed&rdquo;) is now in the last line, instead of the first.</p>

<p>Modify the content like this:</p>

<pre><code>pick 4088dde ch3 changed
s c24b325 ch4 changed
s 41d49f2 ch5 changed
pick 52756ce ch6 changed
</code></pre>

<p>Here &ldquo;s&rdquo; means melding the commit into previous (<strong>older</strong>) commit.</p>

<p>Save and quit, you now in an editor for new commit message, input:</p>

<pre><code>chapter 3, 4 and 5 changed
</code></pre>

<p>Save and you get a message &ldquo;Successfully rebased and updated refs/heads/master&rdquo;.</p>

<h1>Discussion</h1>

<p>Check the history after rebase:</p>

<pre><code>$ git log --pretty=oneline
b4463e99ad221f270fd9f51d5bc7e8b348805804 ch6 changed
276932a252b9041085fb30d0d5e4082db8c03584 chapter 3, 4 and 5 changed
ea37405f9b59bef389ef6ca6a0c6ae8ad6365fb9 Fix some syntax problem
</code></pre>

<p>You can see the changes in files with <code>git diff &lt;older&gt; &lt;newer&gt;</code>, here it is:
<code>git diff HEAD~2 HEAD~</code>, or <code>git diff ea37405 276932a</code>.</p>

<p>If something wrong happens and your rebase process stopped,
come back to the place where you started with <code>git rebase --abort</code>.</p>
]]></content>
  </entry>
  
</feed>
