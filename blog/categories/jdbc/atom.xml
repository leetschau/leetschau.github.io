<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Jdbc | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/jdbc/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-10-29T20:11:07+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Manipulate Sonarqube Database in PostgreSQL With JDBC]]></title>
    <link href="http://leetschau.github.io/blog/2013/11/29/172706/"/>
    <updated>2013-11-29T17:27:06+08:00</updated>
    <id>http://leetschau.github.io/blog/2013/11/29/172706</id>
    <content type="html"><![CDATA[<p>Use the following Java class to manipulate Sonarqube database in postgresql.</p>

<h1>ManipulateSonarPost.java</h1>

<p> import java.sql.Connection;
 import java.sql.DatabaseMetaData;
 import java.sql.DriverManager;
 import java.sql.ResultSet;
 import java.sql.SQLException;
 import java.sql.Statement;
 public class TestPost {
  private static Connection connection = null;
  public static void main(String[] args) throws SQLException, java.lang.ClassNotFoundException {
   String url = &ldquo;jdbc:postgresql://localhost/sonar&rdquo;;
   String user = &ldquo;sonar&rdquo;;
   String password = &ldquo;sonar&rdquo;;
   String driver = &ldquo;org.postgresql.Driver&rdquo;;</p>

<p>   Class.forName(driver);
   connection = DriverManager.getConnection(url+&ldquo;?user=&rdquo;+user+&ldquo;&amp;password=&rdquo;+password);
   if ((connection == null) || (connection.isClosed())) return;
   System.out.println(&ldquo;Connection is: &rdquo;+connection);</p>

<p>   listTables();
   String table = &ldquo;projects&rdquo;;
   printTable(table);
   connection.close();</p>

<p>  }</p>

<p>  private static void listTables() throws SQLException {
   DatabaseMetaData md = connection.getMetaData();
   ResultSet rs = md.getTables(null, null, &ldquo;%&rdquo;, null);
   while (rs.next()) {
    System.out.println(rs.getString(3));
   }
   rs.close();</p>

<p>  }</p>

<p>  private static void printTable(String tableName) throws SQLException {
   Statement st = connection.createStatement();
   ResultSet rs = st.executeQuery(&ldquo;SELECT * FROM &rdquo; + tableName);
   while (rs.next()) {
     System.out.println(&ldquo;Column 1: &rdquo; + rs.getString(1));
     System.out.println(&ldquo;Column 2: &rdquo; + rs.getString(2));
     System.out.println(&ldquo;Column 3: &rdquo; + rs.getString(3));
   }
   rs.close();
   st.close();
  }
 }</p>

<h1>Compile and Run</h1>

<p>$ javac -cp ~/apps/sonar-3.6.1/extensions/jdbc-driver/postgresql/postgresql-9.1-901-1.jdbc4.jar ManipulateSonarPost.java</p>

<p>$ java -cp ~/apps/sonar-3.6.1/extensions/jdbc-driver/postgresql/postgresql-9.1-901-1.jdbc4.jar:. ManipulateSonarPost</p>
]]></content>
  </entry>
  
</feed>
