<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Rvm | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/rvm/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-09-25T20:12:36+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Manage Python Versions With Pyenv]]></title>
    <link href="http://leetschau.github.io/blog/2014/08/06/144020/"/>
    <updated>2014-08-06T14:40:20+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/08/06/144020</id>
    <content type="html"><![CDATA[<p><a href="https://github.com/yyuu/pyenv">pyenv</a> is python equivalent of rvm of ruby.
It can replace the virtualenvwrapper, and there&rsquo;s no need to install virtualenv before pyenv.
It will install virtualenv automatically.</p>

<p>On ArchLinux, you just install it according its documents on the website:</p>

<pre><code>$ curl -L https://raw.githubusercontent.com/yyuu/pyenv-installer/master/bin/pyenv-installer | bash
</code></pre>

<p>But on Mint 17, you have to install libraries beforehand:</p>

<pre><code>$ sudo apt-get install make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl
</code></pre>

<p>Then run &ldquo;curl &hellip;&rdquo; to install it.</p>

<p>Then add &ldquo;export &hellip; eval &hellip;&rdquo; into ~/.zshrc according to its prompt at the end of the installation.</p>

<h1>Usage</h1>

<pre><code>$ pyenv commands         // list all available commands
$ pyenv install -l       // list all available versions to install
$ pyenv install 2.6.6
$ pyenv rehash           // run this command after install a new version
$ pyenv versions         // list all installed versions
$ pyenv shell 2.6.6      // set python version to 2.6.6 in this session (shell)
$ pyenv local 2.6.6      // create a .python-version file under CWD, it will use 2.6.6 afterwards according to this file
$ pyenv shell system     // go back to use the system python version
$ pyevn which python     // check the python path in current environment
$ pyenv uninstall 2.6.6
</code></pre>

<h2>No Special Package Nedded</h2>

<p>If your python project need no special dependency packages, use <code>pyenv local 2.6.6</code> is a good idea.
It only create a .python-version under the folder. Very clean.</p>

<h2>Need Install Package</h2>

<p>If your project need some package, which you don&rsquo;t want to put into system environment, use</p>

<pre><code>$ pyenv virtualenv 2.6.6 myproj
</code></pre>

<p>Now you have a INDEPENDENT python environment based on 2.6.6. You can verify this by run:</p>

<pre><code>$ cd myproj
$ pyenv activate myproj
$ pyenv which python
/home/chad/.pyenv/versions/myproj/bin/python
$ pyenv deactivate
</code></pre>

<h1>Fabric on ArchLinux</h1>

<p>Fabric uses library paramiko, which is incompatible with Python 3.x.
After fabric installed on ArchLinux with pip, when you run <code>fab test</code>, a &ldquo;cannot import name isMappingType&rdquo; error occurs.
So we need install a Python 2.7, then install fabric based on it:
<code>
pyenv install 2.7.8
pyenv shell 2.7.8
pip install fabric
</code>
Now create a test fabfile.py:
<code>
def test():
    print("hello world")
</code>
And run it: <code>fab test</code>.</p>

<p>In a new shell, run fabric with <code>pyenv shell 2.7.8; fab test</code>.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[RVM Notes]]></title>
    <link href="http://leetschau.github.io/blog/2014/01/16/093905/"/>
    <updated>2014-01-16T09:39:05+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/01/16/093905</id>
    <content type="html"><![CDATA[<h1>Installation</h1>

<pre><code>$ curl -sSL https://git.rvm.io | bash -s stable
$ rvm list known
$ rvm install 1.9.3
</code></pre>

<p>No root privilege needed.</p>

<p>If you install it as root, it will be saved in /usr/local/rvm, and after installation all users can use rvm.</p>

<h2>Install on Linux Mint 14 32bit</h2>

<p>There&rsquo;s no compiled ruby package for Mint 14 32bit. So <code>rvm install 1.9.3</code> failed. This is a workaround:</p>

<ol>
<li><p>Download <a href="https://rvm.io/binaries/ubuntu/12.04/i386/ruby-2.1.0.tar.bz2">ruby-2.1.0.tar.bz2</a> for ubuntu 12.04;</p></li>
<li><p>$ rvm mount -r /path/to/ruby-2.1.0.tar.bz2</p></li>
<li><p>$ rvm alias create default ruby-2.1.0</p></li>
<li><p>$ rvm use default</p></li>
</ol>


<h2>Enable Ruby</h2>

<p>Add rvm environments definition into ~/.zshrc or ~/.bashrc:</p>

<pre><code>echo 'source ~/.rvm/scripts/rvm' &gt;&gt; ~/.zshrc
</code></pre>

<h1>Usage</h1>

<p>Run &ldquo;irb&rdquo; or &ldquo;ruby <script-name>&rdquo; in console directly.</p>

<p>List installed ruby: <code>rvm list</code></p>
]]></content>
  </entry>
  
</feed>
