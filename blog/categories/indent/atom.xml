<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Indent | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/indent/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-01-04T11:42:13+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    <email><![CDATA[leetschau@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[制表符控制与行首缩进]]></title>
    <link href="http://leetschau.github.io/blog/2011/03/29/172327/"/>
    <updated>2011-03-29T17:23:27+08:00</updated>
    <id>http://leetschau.github.io/blog/2011/03/29/172327</id>
    <content type="html"><![CDATA[<p>以Notepad2为例，在【Settings->Tab Settings】中，有&#8221;Tabulator&#8221;（有些软件叫“Tab Stop Value”）和&#8221;Indentation&#8221;（有些软件叫“Indent Spaces”）两个值需要设置。tab stop value的意思是：（这里都 假设tab stop设为6，indent space设为3）首先顶格（行首无空格，第1列）输入&#8221;a&#8221;，然后按tab键，再输入b&#8221;，这时&#8221;is&#8221;将出现在第7列上，再按tab并输入c，这时c将出现在第13列上，再按tab并输入d，d出现在第19列上。也就是tab后面的文字总出现在6*i+1的列上，但如果输入abcdefg，再按tab并输入h，则h出现在第13列上。这说明 tabulator的含义实际上是“列宽” ，一段文字后面的tab将填满列宽的整数倍，以保证下一段文字出现在列宽的倍数上，这样就实现了表格式的对齐。在行首上按tab，发现跳到了第4列，说明 indent spaces指定了行首缩进的宽度是多少 。为了直观地体验tab和indent的含义，打开notepad2，将 tab stop设为6，indent space设为3，输入：a{tab}b{tab}c{tab}d{tab}e{tab}f{enter}a{tab}bc {tab}def {tab}ghijklmn{tab}o{enter}{tab}abcde{tab}fg，效果如下：</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Vim的代码缩进]]></title>
    <link href="http://leetschau.github.io/blog/2010/08/03/144601/"/>
    <updated>2010-08-03T14:46:01+08:00</updated>
    <id>http://leetschau.github.io/blog/2010/08/03/144601</id>
    <content type="html"><![CDATA[<p>例如下面一段代码：
<manifest>
<attribute name="Vendor" value="${vendor.name}" />
<attribute name="Product-Name" value="${project.name}_core" />
<attribute name="Build-Date" value="${build.date}" />
<attribute name="Build-Time" value="${build.time}" />
<attribute name="Build-Number" value="${build.number}" />
</manifest>
现在要统一缩进6个tab，在UltraEdit里首先要选中文本，然后按6次tab，VIM中的操作是：首先按V（shift+v）进入行visual模式，然后按7次j选中这段文本（或者7j也行），然后按“6>”（shift+.），如果不确定几个tab，可先>一次，这时自动退出了visual模式，再次缩进不需要重复上述操作，只要按点号（“.”，重复前次命令）即可。</p>

<hr />

<p>2013-01-10更新：上面的方法太麻烦了，gg>G即可。如果只缩进第2～6行：2G>6G</p>

<p>下面的代码vim有更智能的缩进方法：</p>

<p> public static int rank(int key, int[] a) {
  int lo = 0;
  int hi = a.length - 1;
  while (lo &lt;= hi) {
   // Key is in a[lo..hi] or not present.
   int mid = lo + (hi - lo) / 2;
   if  (key &lt; a[mid]) hi = mid - 1;
   else if (key > a[mid]) lo = mid + 1;
   else return mid;
  }
  return -1;
 }</p>

<p>假设光标在while循环内的某处，用>aB就可以缩进，&lt;aB反缩进，其中a表示包括分隔符（这里是{和}），B表示block，即代码块（参考<a href="http://www.viemu.com/a-why-vi-vim.html%EF%BC%89%E3%80%82">http://www.viemu.com/a-why-vi-vim.html%EF%BC%89%E3%80%82</a></p>

<p>上面的方法移动整个代码块，如果只想把嵌套部分向内缩进，将光标放在块内的任意行首，然后用>iB，重复这个缩进动作用“.”命令。</p>

<hr />

<p>2013-10-28更新：</p>

<p>上面的方法是手工缩进，但vim支持大部分编程语言的自动缩进（用&#8221;=&ldquo;键），即根据打开文件的扩展名决定缩进方法，上面的缩进一条指令搞定：ggvG=</p>

<p>与手工缩进相比，自动缩进受文件扩展名的限制，例如无法在xml文件的buffer里修改C代码的缩进；</p>
]]></content>
  </entry>
  
</feed>
