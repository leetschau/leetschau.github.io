<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Layout | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/layout/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2014-11-28T08:48:37+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    <email><![CDATA[leetschau@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[定制Gradle的项目文件目录结构]]></title>
    <link href="http://leetschau.github.io/blog/2013/05/09/100304/"/>
    <updated>2013-05-09T10:03:04+08:00</updated>
    <id>http://leetschau.github.io/blog/2013/05/09/100304</id>
    <content type="html"><![CDATA[<p>参考Gradle文档chapter 23: The Java Plugin, 23.4: Project Layout, 23.4.1: Changing the project layout。
根据此说明，基于文档自带的$GRADLE-1.5_HOME\samples\java\quickstart进行的一个实验：</p>

<p>首先将原示例的项目文件结构修改为如下形式：</p>

<pre><code>$ tree 
. 
|-- build.gradle 
|-- conf 
| `-- db.properties 
|-- src 
| `-- org 
|  `-- gradle 
|   `-- Person.java 
`-- test 
 `-- org 
  `-- gradle 
   `-- PersonTest.java 
</code></pre>

<p>然后在build.gradle中增加如下对sourceSets的定制：</p>

<pre><code>... 
apply plugin: 'eclipse' 
sourceSets { 
    main { 
        java { 
            srcDir 'src' 
        } 
        resources { 
            srcDir 'conf' 
        } 
    } 
    test { 
        java { 
            srcDir 'test' 
        } 
    } 
} 
sourceCompatibility = 1.5 
... 
</code></pre>

<p>然后就可以用gradle build或者gradle uploadArchives执行构建任务了。</p>

<hr />

<p>2014-8-11更新：</p>

<p>基于Grale 2.0，创建一个新Java项目的方法是在一个空文件夹中运行<code>gradle init --type basic</code>，然后修改build.gradle文件，去掉其中的全文注释，添加&#8221;apply plugin: &lsquo;eclipse&rsquo;&ldquo;和目录结构定义，然后运行<code>gradle eclipse</code>，并在Eclipse中导入这个项目。如果是为一个已有(Eclipse)项目增加Gradle管理，则只要在项目根目录下创建build.gradle文件，然后就可以用<code>gradle build</code>等命令构建项目了。</p>

<p>与在Eclipse中安装Gradle插件，然后完全在Eclipse中完成Grale构建相比，这种方法不需要在Eclipse中安装Gradle插件，在命令行中进行项目的构建，Eclipse只是一个代码编写和调试环境，相对更灵活一些。</p>
]]></content>
  </entry>
  
</feed>
