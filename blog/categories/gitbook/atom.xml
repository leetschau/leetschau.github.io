<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Gitbook | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/gitbook/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2016-11-11T15:03:30+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Build Technical Blog Website From Dsnote]]></title>
    <link href="http://leetschau.github.io/blog/2014/07/10/154816/"/>
    <updated>2014-07-10T15:48:16+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/07/10/154816</id>
    <content type="html"><![CDATA[<h1>GitBook</h1>

<p>Login to <a href="https://www.gitbook.com/">GitBook</a>, create a book.
Clone to local, modify (all markdown files), push.
That&rsquo;s it!</p>

<p>But now it&rsquo;s unstable. Some notes can&rsquo;t be converted. The build ofen fails.</p>

<h1>Octopress</h1>

<h2>Install</h2>

<p>Ref: <a href="http://octopress.org/docs/setup/">Octopress Setup</a>.</p>

<pre><code>sudo apt-get update
curl -L https://get.rvm.io | bash -s stable --ruby
rvm install 2.2 
rvm rubygems latest
</code></pre>

<p>Then install nvm, here I use node.js v6.9.1.</p>

<pre><code>cd ~/apps
git clone git://github.com/imathis/octopress.git octopress
cd octopress
gem install bundler
bundle install
rake install
</code></pre>

<p>Note1: Do NOT use ruby 2.1.1, it can&rsquo;t install bundler, while ruby 2.1.2 is OK.</p>

<p>Note2: Ruby 1.9.3 in pre-installed on Ubuntu 14.04.
An &ldquo;Permission denied&rdquo; error occurs when <code>gem install bundler</code>.
You have to <code>rvm install 2.1.2</code> to build a non-root ruby environment to install bundler.</p>

<p>Note3: If <code>bundle install</code> runs slow or stucked
(in common case it takes less than 5s for installing a component),
cancel it with Ctrl-C and rerun this command.</p>

<h2>Usage</h2>

<h3>Setup</h3>

<p>First create a new repo named &ldquo;<username>.github.io&rdquo; on <a href="https://github.com/">GitHub</a>,
&ldquo;leetschau.github.io&rdquo; for example.</p>

<p>Then build the blog website framework: <code>rake setup_github_pages</code>.
When asked for the repository URL, provide the SSH one for convenient.</p>

<h3>Configuration</h3>

<p>Modify <code>_config.yml</code> to customize blog&rsquo;s title, subtitle, author and blog descriptions.</p>

<p>Under &ldquo;3rd Party Settings&rdquo;, set &ldquo;github_user&rdquo; as &ldquo;<username>&rdquo;.</p>

<h3>Post new blog</h3>

<p>Run the following command to create a new post, and edit post content:</p>

<pre><code>rake new_post["Hello World"]
vi source/_posts/2014-08-18-hello-world.markdown
</code></pre>

<h3>Preview blog website</h3>

<p>Run the following command to generate new post and preview them:</p>

<pre><code>rake generate
rake watch    // optional
rake preview
</code></pre>

<p>If it complains no javascript rumtime found, run <code>nvm use 0.10</code>,
where version number &ldquo;0.10&rdquo; is determined by <code>nvm list</code>.
Now preview with url &ldquo;<a href="http://localhost:4000">http://localhost:4000</a>&rdquo;.</p>

<h3>Deploy to Github</h3>

<p>Run generate and deploy tasks:</p>

<pre><code>rake generate
</code></pre>

<p>If it complains no javascript rumtime found, run <code>nvm use 0.10</code>.</p>

<pre><code>rake deploy
</code></pre>

<p>You need provide username (without @gmail.com) and password of your github account.</p>

<p>If you use a new octopress, but deploy to an existing github blog,
you&rsquo;ll encounter a push failure when <code>rake deploy</code>.</p>

<p>Go to <code>$OCTOPRESS_HOME/_deploy</code> and run:</p>

<pre><code>git pull origin master
git add -A
git ci -m "merge conflict manually"
</code></pre>

<p>Run <code>rake deploy</code> again in $OCTOPRESS_HOME,
your blogs should be synchronized to github.</p>

<p>There are many other <a href="http://www.mzlinux.org/?q=node/415">Static site generators</a>.
Some based on Python such as <a href="https://github.com/getpelican/pelican">Pelican</a>
looks lighter than Octopress.</p>
]]></content>
  </entry>
  
</feed>
