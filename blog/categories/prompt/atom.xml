<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Prompt | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/prompt/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2016-11-11T14:51:43+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Build a Beautiful Oh-my-zsh Themes]]></title>
    <link href="http://leetschau.github.io/blog/2013/07/12/092133/"/>
    <updated>2013-07-12T09:21:33+08:00</updated>
    <id>http://leetschau.github.io/blog/2013/07/12/092133</id>
    <content type="html"><![CDATA[<h1>What is a beautiful prompt</h1>

<ul>
<li><p>double line;</p></li>
<li><p>provide username, hostname, current directory;</p></li>
<li><p>provide information of git branch and commit status;</p></li>
<li><p>provide command exit code;</p></li>
<li><p>prompt is easy to distinguished from command results;</p></li>
<li><p>optional: provide command order number, current time;</p></li>
</ul>


<h1>Customize zsh prompt</h1>

<p>Some important escape sequences in zsh prompt:</p>

<ul>
<li><p>%n: username;</p></li>
<li><p>%m: hostname;</p></li>
<li><p>%~: current directory;</p></li>
<li><p>%t: current time;</p></li>
<li><p>%?: return code of last command;</p></li>
</ul>


<p>Customization of font and color see the following demonstration.</p>

<p>Ref:</p>

<ul>
<li><p>&ldquo;3.9 Customizing the prompt&rdquo; on <a href="https://wiki.archlinux.org/index.php/Zsh">zsh on archlinux</a></p></li>
<li><p><a href="http://www.acm.uiuc.edu/workshops/zsh/prompt/escapes.html">Using escape sequences in prompts</a></p></li>
</ul>


<h2>Put it together</h2>

<ol>
<li><p>Create a new file: ~/.oh-my-zsh/themes/lichao.zsh-theme:</p>

<p> rc=$reset_color
 cy=$fg_bold[cyan]
 bl=$fg_bold[blue]
 re=$fg_bold[red]
 wh=$fg_bold[white]
 ye=$fg_bold[yellow]
 gr=$fg_bold[green]
 ma=$fg_bold[magenta]</p>

<p> ZSH_THEME_GIT_PROMPT_PREFIX=&ldquo;git(&rdquo;
 ZSH_THEME_GIT_PROMPT_SUFFIX=&ldquo;):&rdquo;
 ZSH_THEME_GIT_PROMPT_CLEAN=&ldquo;✔&rdquo;
 ZSH_THEME_GIT_PROMPT_DIRTY=&ldquo;✗&rdquo;
 ZSH_THEME_GIT_PROMPT_ADDED=&ldquo;%{$fg[green]%} ✚&rdquo;
 ZSH_THEME_GIT_PROMPT_MODIFIED=&ldquo;%{$fg[blue]%} M&rdquo;
 ZSH_THEME_GIT_PROMPT_DELETED=&ldquo;%{$fg[red]%} ✖&rdquo;
 ZSH_THEME_GIT_PROMPT_RENAMED=&ldquo;%{$fg[magenta]%} ➜&rdquo;
 ZSH_THEME_GIT_PROMPT_UNMERGED=&ldquo;%{$fg[yellow]%} ═&rdquo;
 ZSH_THEME_GIT_PROMPT_UNTRACKED=&ldquo;%{$fg[cyan]%} U&rdquo;</p>

<p> PROMPT=&lsquo;$ye%n$rc @ $cy%m $gr%~ $re$(git_prompt_info)$(git_prompt_status)$rc $wh%t$rc
 [%?] &rsquo;</p></li>
<li><p>Modify &ldquo;ZSH_THEME&rdquo; in ~/.zshrc as:</p>

<p> ZSH_THEME=&ldquo;lichao&rdquo;</p></li>
</ol>


<p>Note: If you want add any color or highlight in the 2nd line of the prompt,
  remember escape the color directives with &ldquo;%{&rdquo; and &ldquo;%}&rdquo;.
  For example, if your prompt is like this:</p>

<pre><code>PROMPT='$ye%n$rc @ $cy%m $gr%~ $re$(git_prompt_info)$(git_prompt_status)$rc $wh%t$rc
${wh}[%?]${rc} '
</code></pre>

<p>you have to define variables like this:</p>

<pre><code>wh=%{$fg_bold[white]%}
rc=%{$reset_color%}
</code></pre>

<p>If you keep using variables without escape, when you use tab-completion, your command line will be messed up.</p>

<p>Ref:
<a href="http://stackoverflow.com/questions/13546672/custom-oh-my-zsh-theme-long-prompts-disappear-cut-off/14179542#14179542">http://stackoverflow.com/questions/13546672/custom-oh-my-zsh-theme-long-prompts-disappear-cut-off/14179542#14179542</a>
<a href="http://stackoverflow.com/questions/7957435/zsh-auto-complete-screws-up-command-name/10644062#10644062">http://stackoverflow.com/questions/7957435/zsh-auto-complete-screws-up-command-name/10644062#10644062</a></p>

<h1>Recommended Themes</h1>

<p>kphoen: double line, display user, host, CWD, command exit code when it&rsquo;s nonzero,
  git branch and status, no time, its title line is darker than &ldquo;ys&rdquo;,
  but the command and command output is the same;</p>

<p>ys: double line, display user, host, CWD, time, partial git information, no exit code;</p>

<p>bureau: double line, display user, host, CWD, time, complete git information, no exit code;</p>

<p>steeef: double line, display user, host, CWD, complete git information, no exit code;</p>

<p>rkj: double line, display user, host, CWD, time, command exit code, no git information;</p>

<p>duellj: double line, display user, host, CWD, command order number, time, no git information;</p>

<p>some other good themes includes: frisk, candy, blinks</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[定制bash命令提示符]]></title>
    <link href="http://leetschau.github.io/blog/2011/10/12/190217/"/>
    <updated>2011-10-12T19:02:17+08:00</updated>
    <id>http://leetschau.github.io/blog/2011/10/12/190217</id>
    <content type="html"><![CDATA[<p>使用shell时经常要知道当前路径，如果将它写在提示符里很节省很多敲pwd的动作，方法是在启动文件(.bash_profile, .bashrc)里加上：</p>

<p>export PS1=&ldquo;[\u@\h \w]\$ &rdquo;</p>

<p>效果如下：</p>

<p>[godu@NOP2-HWXX /opt/godu/terracotta-2.7.2]$ pwd
/opt/godu/terracotta-2.7.2</p>

<p>如果想持久化此效果，在~/.bash_profile文件（如果没有新建之）里追加上面的export语句。</p>

<p>说明：</p>

<p>PS1是bash里表示命令提示符的环境变量，\u表示用户名，\h表示host name，\w表示完整路径名，\W表示当前路径名，\$表示提示符（更多选项google"bash prompt ps1"）。以上在Solaris 10和CentOS 6中验证。</p>
]]></content>
  </entry>
  
</feed>
