<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Linux | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/linux/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-01-04T11:42:13+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    <email><![CDATA[leetschau@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[清理/usr/local/bin目录]]></title>
    <link href="http://leetschau.github.io/blog/2014/12/29/112803/"/>
    <updated>2014-12-29T11:28:03+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/12/29/112803</id>
    <content type="html"><![CDATA[<p>为一个用户增加可执行文件通常有两种方法，
第一种是将可执行文件所在的目录添加到命令行自启动文件中（例如~/.profile，~/.bashrc，~/.zshenv等），
这种方法的优点是无需root权限，绿色无污染，
缺点是只对命令行有效，只对一个用户有效，
并且不适用于从全局启动目录（如i3wm的dmenu命令行）中启动图形界面程序；</p>

<p>另一种是把可执行文件添加到/usr/local/bin目录中，这个目录一般用来存放用户自定义的全局可执行命令，
优缺点与上面修改自启动文件的方式相反；</p>

<p>一段时间后/usr/local/bin下可能会有很多文件，清理的方法根据来源不同而不同：
对于链接，直接删除；
对非链接文件，用<code>dpkg -l</code>确认是否为apt-get或者dpkg安装的，然后用<code>apt-get remove</code>删除；
如果不是上面的情况，用<code>pip list|grep &lt;filename&gt;</code>检查是否用pip安装的，若是，用<code>pip uninstall</code>删除。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Linux System Memory Probe]]></title>
    <link href="http://leetschau.github.io/blog/2014/12/25/100018/"/>
    <updated>2014-12-25T10:00:18+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/12/25/100018</id>
    <content type="html"><![CDATA[<p><a href="http://www.selenic.com/smem/">smem</a>  is a tool that can give numerous reports on memory usage on Linux systems.
Install it with <code>sudo apt-get install smem</code>.</p>

<p>List all process&rsquo;s memory consumption of a user with smem.</p>

<h1>Using smem</h1>

<p>Copy from <a href="http://www.selenic.com/smem/:">http://www.selenic.com/smem/:</a></p>

<ul>
<li><p>Show basic process information: <code>smem</code></p></li>
<li><p>Show library-oriented view: <code>smem -m</code></p></li>
<li><p>Show user-oriented view: <code>smem -u</code></p></li>
<li><p>Show system view: <code>smem -R 4G -K /path/to/vmlinux -w</code></p></li>
<li><p>Show totals and percentages: <code>smem -t -p</code></p></li>
<li><p>Show different columns: <code>smem -c "name user pss"</code></p></li>
<li><p>Sort by reverse RSS: <code>smem -s rss -r</code></p></li>
<li><p>Show processes filtered by mapping: <code>smem -M libxml</code></p></li>
<li><p>Show mappings filtered by process: <code>smem -m -P [e]volution</code></p></li>
<li><p>Read data from capture tarball: <code>smem --source capture.tar.gz</code></p></li>
<li><p>Show a bar chart labeled by pid: <code>smem --bar pid -c "pss uss"</code></p></li>
<li><p>Show a pie chart of RSS labeled by name: <code>smem --pie name -s rss</code></p></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Connect Windows Remote Desktop From Linux Mint]]></title>
    <link href="http://leetschau.github.io/blog/2014/12/09/171332/"/>
    <updated>2014-12-09T17:13:32+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/12/09/171332</id>
    <content type="html"><![CDATA[<p>On Windows server, check &ldquo;Allow connections only from computers running Remote Desktop with Network Level Authentication (more secure).&rdquo; in Remote desktop settings.</p>

<p>On client, run <code>sudo aptitude install remmina-plugin-rdp</code>.
Make sure package &ldquo;remmina&rdquo; and &ldquo;freerdp-x11&rdquo; is installed with <code>dpkg -l|grep remmina</code> and <code>dpkg -l|grep rdp</code>.</p>

<p>Start Remmina, create a new connection, the &ldquo;Server&rdquo; is the IP address, &ldquo;User name&rdquo; and &ldquo;Password&rdquo; is the Windows account name and password.
Leave &ldquo;Domain&rdquo; blank, and set &ldquo;Color depth&rdquo; to &ldquo;True color (24bpp)&rdquo;.
Set &ldquo;Resolution&rdquo; to &ldquo;Use client resolution&rdquo;.
And click &ldquo;Connect&rdquo; button.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Using Empathy as Local Network Instant Messaging Tool]]></title>
    <link href="http://leetschau.github.io/blog/2014/11/20/100341/"/>
    <updated>2014-11-20T10:03:41+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/11/20/100341</id>
    <content type="html"><![CDATA[<h1>LinuxMint</h1>

<p>sudo aptitude install empathy telepathy-gabble telepathy-salut telepathy-rakia</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Virtualizations Based on XenServer]]></title>
    <link href="http://leetschau.github.io/blog/2014/11/07/111321/"/>
    <updated>2014-11-07T11:13:21+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/11/07/111321</id>
    <content type="html"><![CDATA[<p>Today I tried to build a vm groups on my PC with XenServer.</p>

<h1>Server</h1>

<p>Download XenServer 6.2.0 installation iso (XenServer-6.2.0-install-cd.iso) from <a href="http://xenserver.org/">XenServer.org</a>.
Use this iso to install on the bare metal OS of VM host.
Setup network with dhcp.</p>

<p>After installation and reboot, the Configuration window of XenServer 6.2 appears.
Under &ldquo;Network and Management Interface&rdquo;, I got the IP of the host is 10.31.4.89.</p>

<h1>Client</h1>

<p>So far the linux client is much poor than its Windows couterpart.
For example, the &ldquo;console&rdquo; tab and context menu (right click menu) can&rsquo;t work properly on OpenXenManager.
It&rsquo;s recommended to use XenCenter on Windows as GUI tool,
and <code>xe</code> command on host as CLI tool to perform VM management,
Use <code>xe help --all</code> to list all available subcommands.
<code>xl</code> is also a good tool.</p>

<h2>Linux Client</h2>

<p>On LinuxMint 17, install <a href="http://sourceforge.net/projects/openxenmanager/">OpenXenManager</a> with <code>sudo aptitude install openxenmanager</code>;</p>

<p>Start it with <code>openxenmanager</code>, create a new server with &ldquo;Hostname&rdquo; 10.31.4.89, &ldquo;User name&rdquo; root, and &ldquo;Password&rdquo; the one set previously.
Connect to this server.</p>

<p>On my laptop, run following commands to add a new SR (storage repository) to provide guest installation ISO files.</p>

<pre><code>$ ssh root@10.31.4.89
# mkdir /vms
# xe sr-create name-label=Local type=iso device-config:legacy_mode=true content-type=iso device-config:location=/vms
# exit
$ scp ~/warez/OS/CentOS-6.5-x86_64-minimal.iso root@10.31.4.89:~/vms/
$ ssh root@10.31.4.89
# openxenmanager
</code></pre>

<p>You can use <code>xe sr-detach</code>, then <code>xe sr-forget</code> to remove SR.
Use <code>lvs</code> to list LVM information about vm&rsquo;s disks.</p>

<h2>Windows Client</h2>

<p>Download XenCenter Windows Management Console (XenServer-6.2.0-XenCenter.msi) from Download page of <a href="http://xenserver.org/">XenServer.org</a>.
Install and start it.</p>
]]></content>
  </entry>
  
</feed>
