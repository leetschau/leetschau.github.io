<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: 外部程序 | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/wai-bu-cheng-xu/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2016-11-11T14:51:43+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[在python中调用可执行程序时如何设置环境变量]]></title>
    <link href="http://leetschau.github.io/blog/2011/01/04/161706/"/>
    <updated>2011-01-04T16:17:06+08:00</updated>
    <id>http://leetschau.github.io/blog/2011/01/04/161706</id>
    <content type="html"><![CDATA[<p>首先以ant为例说明： 设置环境变量
首先要设ANT_HOME，其次要设path（只设path不设ANT_HOME，ant会报错，所以ANT_HOME必须设）。</p>

<p>os.environ[&lsquo;ANT_HOME&rsquo;] = os.path.join(root_path,&lsquo;tools&rsquo;,&lsquo;apache-ant-1.8.1&rsquo;)</p>

<p>os.environ[&lsquo;path&rsquo;] = os.path.join(root_path,&lsquo;tools&rsquo;,&lsquo;apache-ant-1.8.1&rsquo;,&lsquo;bin&rsquo;)
 调用格式
output = os.popen(r'ant init').read()</p>

<p>print(output)</p>

<p> 这里要注意的是 不能用 sys.path.append(ant_path)代替 os.environ[&lsquo;path&rsquo;]=&hellip;这一句，因为sys.path中虽然有ant的路径，但使用os.popen(&hellip;)时python只在系统的path里找可执行程序名，不会去sys.path里找（sys.path仅用于python找包，见博文“python添加新包的方法”），如果path中指定的ant路径不存在，python不会继续找sys.path，而是直接给出一个空结果（不会返回“程序名不存在”这样的提示信息，因为python直接调用操作系统底层的C API，而提示信息是cmd.exe加上的）。</p>
]]></content>
  </entry>
  
</feed>
