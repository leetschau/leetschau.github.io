<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Jython | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/jython/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-04-18T20:45:37+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    <email><![CDATA[leetschau@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Notes About Jython]]></title>
    <link href="http://leetschau.github.io/blog/2013/03/19/115142/"/>
    <updated>2013-03-19T11:51:42+08:00</updated>
    <id>http://leetschau.github.io/blog/2013/03/19/115142</id>
    <content type="html"><![CDATA[<p>下面的程序（telnetClient.py）登录telnet服务器，执行ls命令然后退出：</p>

<p> import telnetlib
 HOST = &ldquo;192.168.1.178&rdquo;
 #user = raw_input(&ldquo;Enter your remote account: &rdquo;)
 #password = getpass.getpass()
 user = &ldquo;user&rdquo;
 password = &ldquo;000&rdquo;
 tn = telnetlib.Telnet(HOST)
 tn.read_until(&ldquo;ogin: &rdquo;)
 tn.write(user + &ldquo;\n&rdquo;)
 if password:
  tn.read_until(&ldquo;assword: &rdquo;)
  tn.write(password + &ldquo;\n&rdquo;)
 tn.write(&ldquo;ls\n&rdquo;)
 tn.write(&ldquo;exit\n&rdquo;)
 print tn.read_all()</p>

<p>下面是分别用python和jython运行这个脚本的命令：</p>

<p> python telnetClient.py</p>

<p> java -jar f:\warez\dev\Jython\jython-standalone-2.5.3.jar telnetClient.py</p>

<p>在Jython的3个下载包中，jython-standalone-2.5.3.jar是比较portable的，不需要预处理jdk（jython-2.5.3.jar），不需要安装（jython-installer-2.5.3.jar）。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[中文Windows上安装Jython字符串处理异常的解决办法]]></title>
    <link href="http://leetschau.github.io/blog/2010/11/23/152842/"/>
    <updated>2010-11-23T15:28:42+08:00</updated>
    <id>http://leetschau.github.io/blog/2010/11/23/152842</id>
    <content type="html"><![CDATA[<p>The Jython console didn&rsquo;t work properly on my Chinese version Windows XP. It can not interprete the strings properly.</p>

<p>e.g.</p>

<blockquote><blockquote><blockquote><p>print &ldquo;hello world&rdquo;</p></blockquote></blockquote></blockquote>

<p>&hellip;.</p>

<p>Looks like it&rsquo;s looking for a futher input. After I input a &lsquo;\n&rsquo;, ther console crashed and complains</p>

<p>LookupError: unknown encoding &lsquo;gb18030&rsquo;.</p>

<p>This error never happens on the English version Windows XP. So, this problem definitely caused by the system default encoding.</p>

<p>With a few hours study for the JVM &amp; the Jython encoding setting, I found 2 solutions.</p>

<p>1) Change the JVM default character encoding</p>

<p>Start up the jython with option -Dfile.encoding=UTF8,then the Jython console&rsquo;s encoding will be UTF8 as well.</p>

<p>e.g.</p>

<pre><code>jython -Dfile.encoding=UTF8 
</code></pre>

<p>For change the JVM encoding automatically, you can also create one environment variable JAVA_TOOL_OPTIONS to -Dfile.encoding=UTF8.</p>

<p>e.g.</p>

<pre><code>set JAVA_TOOL_OPTIONS="-Dfile.encoding=UTF8" 
</code></pre>

<p>2) Change the Jython console character encoding</p>

<p>Start up the jython with option -Dpython.console.encoding=UTF8</p>

<p>e.g.</p>

<pre><code>jython -Dpython.console.encoding=UTF8
</code></pre>

<p>Or add this setting in the Jython registry file. On my laptop, the file is C:\jython25\registry</p>

<p>Now, you enjoy.</p>

<hr />

<p>2013-03-19更新</p>

<h1>命令行输出</h1>

<p>java -jar -Dpython.console.encoding=UTF-8 jython-2.5.3.jar</p>

<h1>执行文件</h1>

<p>java -jar -Dfile.encoding=UTF-8 jython-2.5.3.jar test.txt</p>

<p>目前都不能输入汉字</p>
]]></content>
  </entry>
  
</feed>
