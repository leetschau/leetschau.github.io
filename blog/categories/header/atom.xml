<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Header | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/header/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2016-11-11T14:51:43+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[基于Bootstrap 3的页眉页脚控制]]></title>
    <link href="http://leetschau.github.io/blog/2015/01/18/020909/"/>
    <updated>2015-01-18T02:09:09+08:00</updated>
    <id>http://leetschau.github.io/blog/2015/01/18/020909</id>
    <content type="html"><![CDATA[<p>对网页上页眉(header)、页脚(footer)的位置要求是：</p>

<ol>
<li><p>当网页正文内容短于一页时，不论浏览器窗口尺寸如何，页眉要在顶端，页脚在底端，不能出现页脚下面还有空白的情况；</p></li>
<li><p>当网页正文内容长于一页时，不论浏览器窗口尺寸如何，页眉页脚不能遮挡住正文内容，当使用滚轮上下滚动时，页眉页脚要随之滚动；</p></li>
</ol>


<p>也就是sticky header/footer效果。下面是符合此要求的一个精简Meteor实现：</p>

<pre><code>$ meteor create stickyHeaderFooter
$ cd stickyHeaderFooter
$ ln -s ../client
$ tree client
client
├── css
│   └── bootstrap.min.css
└── lib
    └── bootstrap.min.js
$ cat &lt;&lt; EOF &gt; stickyHeaderFooter.html
&lt;head&gt;
  &lt;title&gt;Sticky Header &amp; Footer&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;nav class="navbar navbar-default navbar-static-top"&gt;
    &lt;div class="container"&gt;Here is Header&lt;/div&gt;
  &lt;/nav&gt;
  &lt;h1&gt;Sticky Header &amp; Footer&lt;/h1&gt;

  &lt;div id="content" class="container"&gt;
    {{&gt; hello}}
  &lt;/div&gt;

  &lt;div id="footer"&gt;
    &lt;div class="navbar navbar-fixed-bottom"&gt;
      &lt;div class="container"&gt;Here is the Footer&lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/body&gt;

&lt;template name="hello"&gt;
  &lt;button id="addline"&gt;Add a line&lt;/button&gt;
  &lt;button id="rmline"&gt;Remove a line&lt;/button&gt;
  &lt;div&gt;
    {{#each samples}}
      &lt;li&gt;Item No: {{this}}&lt;/li&gt;
    {{/each}}
  &lt;/div&gt;
&lt;/template&gt;
EOF

$ cat &lt;&lt; EOF &gt; stickyHeaderFooter.css
html {
  position: relative;
  min-height: 100%;
}

#content { padding-bottom: 70px; }

#footer .navbar {
  position: absolute;
}
EOF

$ cat &lt;&lt; EOF &gt; stickyHeaderFooter.js
if (Meteor.isClient) {
  Session.setDefault("sample", [1,2,3]);

  Template.hello.helpers({
    samples: function () {
      return Session.get("sample");
    }
  });

  Template.hello.events({
    'click #addline': function () {
      var sl = Session.get("sample");
      sl.push(sl[sl.length - 1] + 1);
      Session.set("sample", sl);
    },
    'click #rmline': function () {
      var sl = Session.get("sample");
      if (sl.length &gt; 1) {
        sl.pop();
      }
      Session.set("sample", sl);
    }
  });
}
$ meteor
</code></pre>

<p>Meteor服务启动完毕后，运行<code>firefox localhost:3000</code>，通过点击"Add a line"增加正文长度，点击"Remove a line"减小正文长度，同时改变浏览器窗口大小，验证代码是否符合上面的要求。</p>

<p>这里面页眉的设置相对简单，用Bootstrap 3的navbar-static-top就能够达到要求。</p>

<p>页脚基于Bootstrap 3的"navbar navbar-fixed-bottom"实现，但这个类本身的功能是把页脚固定在浏览器底部，而不论正文内容长短，
所以要通过在css文件中设置格式的方法实现sticky footer效果，
在css文件的3段设置中，前两段负责避免正文与页脚重叠，第3段的作用是保证页脚始终在正文之后，而不是固定在浏览器窗口底端。</p>

<p>Html文件中的container属性是bootstrap 3网格系统的容器，用来对齐各个行元素中的各列，并自动控制行、列元素的页边距，
这里使用container是为了避免在css中手工设定padding值。</p>

<p>本文的实现方法借鉴了<a href="http://stackoverflow.com/questions/10099422/flushing-footer-to-bottom-of-the-page-twitter-bootstrap">Flushing footer to bottom of the page, twitter bootstrap</a>中Régis B.的回答，
但对其答案进行了精简。</p>

<p>container部分基于<a href="http://stackoverflow.com/questions/19983857/when-should-i-use-class-container-and-row">When should I use class container and row?</a>。</p>

<p>说明：实例代码用软链接引入Bootstrap文件，是为了节约空间，也可以直接把client文件夹拷贝到当前目录中。</p>
]]></content>
  </entry>
  
</feed>
