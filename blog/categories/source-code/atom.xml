<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Source Code | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/source-code/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-07-15T11:08:23+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[比较不同文件夹下源代码的内容差异]]></title>
    <link href="http://leetschau.github.io/blog/2012/12/07/111330/"/>
    <updated>2012-12-07T11:13:30+08:00</updated>
    <id>http://leetschau.github.io/blog/2012/12/07/111330</id>
    <content type="html"><![CDATA[<h1>场景</h1>

<p>现有两个源代码文件夹："d:\workspace\GoduServer3.0\src"和"d:\workspace\Godu_Server_2.3\src"，分别包含多级子目录，需要比较所有子目录中文件内容的差异（不能只比较文件的大小和修改时间）。</p>

<h1>Linux</h1>

<p>diff -rq, see &ldquo; Diff Notes &rdquo;;</p>

<h1>解决方案</h1>

<h2>Windows</h2>

<h3>TotalCmd</h3>

<ol>
<li><p>分别打开要比较的两个文件夹，[Commands -> Synchronize dirs] (Shift+F12);</p></li>
<li><p>取消"Asymmetric"，选中"subdirs", &ldquo;by content&rdquo; and &ldquo;ignore date"，点击"compare&rdquo;;</p></li>
<li><p>TotalCmd会列出所有不同的文件，要比较不同的文件，选中然后右键 -> Compare Left &amp; Right (Ctrl+F3);</p></li>
<li><p>根据文件内容确定同步的方向，点击"Synchronize"；</p></li>
</ol>


<h3>UltraCompare</h3>

<p>用<a href="http://www.ultraedit.com/products/ultracompare.html">UltraCompare Pro</a>的绿色版，解压后在uc.exe所在目录下运行：
uc -d -r -ne -dmf -B d:\workspace\GoduServer3.0\src d:\workspace\Godu_Server_2.3\src</p>

<p>指令格式：uc [options] dir1 dir2</p>

<p>选项含义：</p>

<p>-d：文件夹比较模式（而不是文本比较）；</p>

<p>-r：包含所有子文件夹；</p>

<p>-ne：只显示不同的文件；</p>

<p>-dmf：文本比较模式（逐字节比较，另外还有：-dmb：基本比较模式，只比较文件大小和日期；-dms：智能比较模式）</p>

<p>-B：文本比较时忽略空行；</p>

<p>详见UltraCompare帮助文档“命令行选项”一节。</p>

<p>UC支持界面操作，上面各个选项在工具栏上都有图标，选中后点击两个路径输入框中间的绿色三角按钮就开始比较了（Ctrl+F5），比较完之后可以用工具栏上的各种合并按钮进行合并操作。</p>

<h3>备选方案</h3>

<ul>
<li>免费软件FreeFileSync也具备比较文件内容和子文件夹循环比较的能力，但只能找到不用的文件，不能对选定的文件进行文本比较。</li>
</ul>

]]></content>
  </entry>
  
</feed>
