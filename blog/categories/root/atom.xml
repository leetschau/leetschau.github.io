<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Root | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/root/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2014-11-03T17:15:36+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    <email><![CDATA[leetschau@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Fix Only Root Can Login on ArchLinux]]></title>
    <link href="http://leetschau.github.io/blog/2014/07/15/143554/"/>
    <updated>2014-07-15T14:35:54+08:00</updated>
    <id>http://leetschau.github.io/blog/2014/07/15/143554</id>
    <content type="html"><![CDATA[<p>After a new installation of ArchLinux, I created a user &ldquo;chad&rdquo;, and set his password via command passwd. But when the system start, I can only login as root. If I login as chad, it complains the password is incorrect, which it IS correct.</p>

<p>Through some search on Internet, I realize it&rsquo;s maybe caused by wrong path of initial shell of chad. So I re-define his initial shell via root:</p>

<pre><code>chsh -s /bin/bash chad
</code></pre>

<p>Now everything is OK.</p>

<p>To avoid this problem, run <code>useradd -D</code>. If the path of &ldquo;SHELL&rdquo; is &ldquo;/bin/bash&rdquo;, then you can use &ldquo;useradd -m chad&rdquo; to create user. If you create user with <code>useradd -s /usr/bin/bash -m chad</code>, chad can&rsquo;t login, because the path of bash can only be &ldquo;/bin/bash&rdquo;.</p>
]]></content>
  </entry>
  
</feed>
