<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Noclassdeffounderror | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/noclassdeffounderror/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-09-20T21:23:24+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[NoClassDefFoundError与ClassNotFoundException的区别]]></title>
    <link href="http://leetschau.github.io/blog/2013/04/01/150952/"/>
    <updated>2013-04-01T15:09:52+08:00</updated>
    <id>http://leetschau.github.io/blog/2013/04/01/150952</id>
    <content type="html"><![CDATA[<p>NoClassDefFoundError是一个Error，严重级别高，它导致JVM加载失败，通常是由于class loader在classpath中找不到被引用的class文件引起；</p>

<p>ClassNotFoundException是一个异常，严重级别低（相比于Error），通常在利用反射机制加载类时找不到指定的类引起，由于是异常，是可以被catch语句扑捉然后在代码中进行处理的。</p>

<p>参考：<a href="http://stackoverflow.com/questions/1457863/what-is-the-difference-between-noclassdeffounderror-and-classnotfoundexception">http://stackoverflow.com/questions/1457863/what-is-the-difference-between-noclassdeffounderror-and-classnotfoundexception</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Ant + JUnit: NoClassDefFoundError问题解决办法]]></title>
    <link href="http://leetschau.github.io/blog/2010/12/15/113825/"/>
    <updated>2010-12-15T11:38:25+08:00</updated>
    <id>http://leetschau.github.io/blog/2010/12/15/113825</id>
    <content type="html"><![CDATA[<p>使用Ant+JUnit跑测试用例时如果出现“NoClassDefFoundError”问题，注意一下classpath里的JUnit版本是否为4.5，如果是将其替换为4.0或者4.8。
 参见：
  <a href="http://stackoverflow.com/questions/1171264/ant-junit-noclassdeffounderror">http://stackoverflow.com/questions/1171264/ant-junit-noclassdeffounderror</a></p>

<p> 使用<test>标签运行JUnit测试时，test的name属性要写类的全名，否则会报“ NoClassDefFoundError”错误，例如：
 <test name="com.boco.godu.gapi.AdminFilterTest" todir="${test.xml.result}">
  <formatter type="xml" /></p>

<p> </test>
 如果name写成“ AdminFilterTest ”，则出 “ NoClassDefFoundError”错误 。</p>

<p> <junit>的子标签<classpath>中，若需要引用class文件，使用<pathelement path="${test.class.dir}"/>，其中test.class.dir定义为：
 <property name="test.class.dir" value="${build.dir}/test"/>
 若需要引用jar文件，则使用<path refid="lib.path"/>，其中"lib.path"定义为：
 <path id="lib.path"></p>

<p>  <fileset dir="${build.lib.dir}"></p>

<p>  <include name="**/*.jar"/></p>

<p>  </fileset></p>

<p>  </path></p>

<p> 完整的测试任务实例如下：
  <target name="unit_test" depends="compile">
   <javac srcdir="${test.src.dir}" destdir="${test.class.dir}"
    classpathref="lib.path" classpath="${build.class.dir}"
    encoding="GBK" optimize="off" debug="on"/>
   <junit printsummary="yes" haltonfailure="no">
    <classpath>
     <pathelement path="${test.class.dir}"/>
     <pathelement path="${build.class.dir}"/>
     <path refid="lib.path"/>
    </classpath>
    <test name="com.boco.godu.gapi.AdminFilterTest" todir="${test.xml.result}">
     <formatter type="xml" />
    </test>
   </junit>
   <junitreport todir="${test.report.dir}">
    <fileset dir="${test.xml.result}">
     <include name="TEST-*.xml" />
    </fileset>
    <report format="noframes" todir="${test.report.dir}" />
   </junitreport>
  </target></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[使用sftp连接Ivy库时缺包异常的处理方法]]></title>
    <link href="http://leetschau.github.io/blog/2010/10/26/172942/"/>
    <updated>2010-10-26T17:29:42+08:00</updated>
    <id>http://leetschau.github.io/blog/2010/10/26/172942</id>
    <content type="html"><![CDATA[<p>使用sftp resolver时出现 java.lang. NoClassDefFoundError : com/jcraft/jsch/JSchExceptio 异常的处理方法：</p>

<p> 命令行：将${IVY_HOME}/lib/jsch-0.1.31.jar拷贝到${ANT_HOME}/lib下；</p>

<p> Eclipse中：用Window->Preference->Ant->Runtime->Global Entries->Add External JARs加 jsch-0.1.31.jar；</p>

<p> 异常出现的ivy文件（文件名：ivysettings.xml）：</p>

<p> <ivysettings>
  <settings defaultCache="${ivy.settings.dir}/ivy-cache" defaultResolver="projects"/>
  <resolvers>
   <sftp name="projects">
    <artifact pattern="sftp://boco:bocogodu@10.0.2.47:22/home/boco/dist-repo/repository/[artifact]-[revision].[ext]" />
    <ivy pattern="sftp://boco:bocogodu@10.0.2.47:22/home/boco/dist-repo/repository/[module]-[revision].xml" />
   </sftp>
  </resolvers>
</ivysettings></p>
]]></content>
  </entry>
  
</feed>
