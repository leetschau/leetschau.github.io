<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Key | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/key/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2016-11-11T15:03:30+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Remove Key From Known_hosts]]></title>
    <link href="http://leetschau.github.io/blog/2016/01/19/231213/"/>
    <updated>2016-01-19T23:12:13+08:00</updated>
    <id>http://leetschau.github.io/blog/2016/01/19/231213</id>
    <content type="html"><![CDATA[<p>If you use some virtual host with the same IP,
you will always see messages below:</p>

<pre><code>$ ssh ansible@console.newfairs-inc.com
Warning: the ECDSA host key for 'console.newfairs-inc.com' differs
from the key for the IP address '192.168.100.201'
Offending key for IP in /home/user/.ssh/known_hosts:48
Matching host key in /home/user/.ssh/known_hosts:39
Are you sure you want to continue connecting (yes/no)? 
</code></pre>

<p>Or something like this:</p>

<pre><code>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@       WARNING: POSSIBLE DNS SPOOFING DETECTED!          @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
The RSA host key for foo-bar.net has changed,
and the key for the corresponding IP address 127.0.0.1
is unchanged. This could either mean that
DNS SPOOFING is happening or the IP address for the host
and its host key have changed at the same time.
Offending key for IP in /home/user/.ssh/known_hosts:6
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@    WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!     @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!
</code></pre>

<p>Notice the line &ldquo;Offending key for IP in /home/user/.ssh/known_hosts:48&rdquo;
in the first example, and &ldquo;&hellip;/known_hosts:6&rdquo; in the second,
it shows the 48th (or 6th) line should be removed from $HOME/.ssh/known_hosts:</p>

<pre><code>sed -i '48d' ~/.ssh/known_hosts
</code></pre>

<p>Ref:
<a href="http://superuser.com/questions/30087/remove-key-from-known-hosts">Remove key from known_hosts</a></p>
]]></content>
  </entry>
  
</feed>
