<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Text Search | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/text-search/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-09-25T20:12:36+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Full Text Search for Meteor App]]></title>
    <link href="http://leetschau.github.io/blog/2015/02/01/134829/"/>
    <updated>2015-02-01T13:48:29+08:00</updated>
    <id>http://leetschau.github.io/blog/2015/02/01/134829</id>
    <content type="html"><![CDATA[<p>For Meteor 1.0.3, the built-in database is mongodb 2.4, which is not support full text search by default.
So we need install a stand-alone MongoDB 2.6, create a &ldquo;meteor&rdquo; database, and let Meteor to use it as backend database:</p>

<p>First start MongoDB server: <code>mongod --dbpath ~/docs/mongodb-repo</code>;</p>

<p>Then create a new database &ldquo;meteor&rdquo; for Meteor app backend:</p>

<pre><code>$ mongo
&gt; show dbs
&gt; use meteor
</code></pre>

<p>Next start Meteor server and connect it with the Mongodb server:</p>

<pre><code>$ MONGO_URL="mongodb://localhost:27017/meteor" meteor
&gt; db.zips.getIndexes()
&gt; db.zips.dropIndex("forsearch_text")
&gt; db.zips.ensureIndex( {city: "text", state: "text"} )
&gt; db.zips.find( {$text: {$search: "lee ma"}} ).count()
488
</code></pre>

<p>Here <code>use meteor</code> create a new database in MongoDB (if it doesn&rsquo;t exists yet)
and use it as the current database.
Use <code>db</code> to get the current database name.</p>

<p>Ref:</p>

<p><a href="http://docs.mongodb.org/manual/tutorial/getting-started/">Getting Started with MongoDB</a></p>

<p><a href="http://docs.mongodb.org/manual/administration/indexes-text/">Text Search Tutorials of MongoDB 2.6.7</a>;</p>

<p><a href="http://docs.mongodb.org/manual/reference/operator/query/text/">$text query operator of MongoDB 2.6.7</a></p>

<p><a href="http://stackoverflow.com/questions/10610131/checking-if-a-field-contains-a-string">Checking if a field contains a string</a></p>
]]></content>
  </entry>
  
</feed>
