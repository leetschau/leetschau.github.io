<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Linter | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/linter/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2016-11-11T14:51:43+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Clojure Linter in Vim]]></title>
    <link href="http://leetschau.github.io/blog/2016/05/28/121437/"/>
    <updated>2016-05-28T12:14:37+08:00</updated>
    <id>http://leetschau.github.io/blog/2016/05/28/121437</id>
    <content type="html"><![CDATA[<p>Clojure Style Guide:
<a href="https://github.com/bbatsov/clojure-style-guide#source-code-layout--organization">bbatsov/clojure-style-guide</a></p>

<p>Linter:</p>

<p><a href="https://github.com/venantius/vim-cljfmt">venantius/vim-cljfmt</a>
and <a href="https://github.com/venantius/vim-eastwood">venantius/vim-eastwood</a>.</p>

<pre><code>{:user {:plugins [[lein-try "0.4.3"]
                  [cider/cider-nrepl "0.12.0"]
                  [jonase/eastwood "0.2.3"]
                  [cljfmt "0.5.1"]]}}
</code></pre>

<p>Add <code>:plugins [[lein-cljfmt "0.5.3"]]</code> into your leiningen project, run:</p>

<pre><code>lein eastwood
lein cljfmt check
</code></pre>

<p>Install their vim plugins:</p>

<p>Add <code>Plugin 'venantius/vim-cljfmt'</code> in .vimrc and install it
with <code>vim +PluginClean +PluginInstall</code>.</p>

<p><code>project.clj</code> file:</p>

<pre><code>(defproject sync-with-recur-order "0.1.0-SNAPSHOT"
  :description "FIXME: write description"
  :url "http://example.com/FIXME"
  :license {:name "Eclipse Public License"
            :url "http://www.eclipse.org/legal/epl-v10.html"}
  :dependencies [[org.clojure/clojure "1.8.0"]
                 [org.clojure/data.json "0.2.6"]
                 [lein-cljfmt "0.5.3"]]
  :plugins [[lein-cljfmt "0.5.3"]])
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[使用flake8做Python Linter]]></title>
    <link href="http://leetschau.github.io/blog/2016/05/24/204911/"/>
    <updated>2016-05-24T20:49:11+08:00</updated>
    <id>http://leetschau.github.io/blog/2016/05/24/204911</id>
    <content type="html"><![CDATA[<p>今天写Python脚本时遇到一个问题，重构代码时，修改了一个变量名，
但只改了正常分支中的，忘了改错误处理分支中的，由于没有Linter做未定义变量检查，
bug在本机测试时并没有被发现，直到被push到remote repo，
在Jenkins job里运行几次出错后才被发现。
解决方案是安装flake8以及vim插件。</p>

<p>For Python 2.x: <code>pip install flake8</code>，
vim的syntastic插件不需要配置。</p>

<p>For Python 3.x，首先要安装flake8 for Python 3.x:</p>

<pre><code>sudo apt-get install python3-pip
sudo pip3 install flake8
</code></pre>

<p>命令行中检查文件命令：<code>python3 -m pyflakes syncRecurrences.py</code>.</p>

<p>配置vim语法检查的方法是在.vimrc文件里增加一下配置项：</p>

<pre><code>let g:syntastic_python_python_exec = '/usr/bin/python3'
let g:syntastic_python_flake8_exec = 'python3'
let g:syntastic_python_flake8_args = ['-m', 'flake8']
</code></pre>

<p>配置好后用vim打开python脚本，保存文件后，在未声明的变量行上会出现下面的错误信息：</p>

<pre><code>undefined name 'objId' [F821]
</code></pre>
]]></content>
  </entry>
  
</feed>
