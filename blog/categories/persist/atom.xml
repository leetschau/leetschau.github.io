<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Persist | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/persist/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2016-11-11T15:03:30+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Persist Tmux]]></title>
    <link href="http://leetschau.github.io/blog/2016/03/21/004603/"/>
    <updated>2016-03-21T00:46:03+08:00</updated>
    <id>http://leetschau.github.io/blog/2016/03/21/004603</id>
    <content type="html"><![CDATA[<h1>Work Flow</h1>

<ol>
<li><p>Persist tmux status automatically or manually;</p></li>
<li><p>After restarting the computer, all sessions, windows and panes can
comes back.</p></li>
</ol>


<h1>Solution</h1>

<p>First make sure your tmux version >= 1.9 with <code>tmux -V</code>. If not, run:
 <code>
proxychains wget https://github.com/tmux/tmux/releases/download/2.3/tmux-2.3.tar.gz
tar zxf tmux-2.3.tar.gz
cd tmux-2.3
./configure &amp;&amp; make
sudo apt-get install libevent-dev libncurses5-dev libncursesw5-dev
sudo apt-get remove tmux
sudo make install
</code></p>

<p>Then install <a href="https://github.com/tmux-plugins/tpm">Tmux Plugin Manager</a>,
<a href="https://github.com/tmux-plugins/tmux-resurrect">Tmux Resurrect</a> and
<a href="https://github.com/tmux-plugins/tmux-continuum">tmux-continuum</a>:</p>

<pre><code>git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm
</code></pre>

<p>Adding the following lines in the end of ~/.tmux.conf (without running tmux server):</p>

<pre><code># List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @continuum-restore 'on'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
</code></pre>

<p>and run <code>tmux source-file .tmux.conf</code>.
Start tmux and press <code>prefix + I</code> to install all the plugins.
When finished, press <code>prefix + Ctrl-S</code> (key shortcut for saving tmux session)
to verifiy the installation.</p>

<p>Now the tmux status will be saved to disk every 15 minutes,
or save it manually with <code>prefix, Ctrl-S</code>.</p>

<p>After restarting computer, run <code>tmux</code> in console,
all tmux sessions, windows and panes will be restored automatically
(or you can restore them manually with <code>prefix, Ctrl-R</code>).</p>

<p>You can remove the temporary session with <code>tmux kill-session -t 0</code>,
where &ldquo;0&rdquo; is the name of the temporary session.</p>

<p>Note:</p>

<p>For more details about tmux plugin manager (update, remove plugin, for example),
see README.md of <a href="https://github.com/tmux-plugins/tpm">Tmux Plugin Manager</a>.</p>

<p>If not install with <code>apt-get</code>, you can install <a href="http://libevent.org/">libevent</a>
with downloading libevent-2.0.22-stable.tar.gz and install it from source.</p>
]]></content>
  </entry>
  
</feed>
