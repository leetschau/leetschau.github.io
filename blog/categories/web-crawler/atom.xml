<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Web Crawler | Dark Matter in Cyberspace]]></title>
  <link href="http://leetschau.github.io/blog/categories/web-crawler/atom.xml" rel="self"/>
  <link href="http://leetschau.github.io/"/>
  <updated>2015-09-20T21:23:24+08:00</updated>
  <id>http://leetschau.github.io/</id>
  <author>
    <name><![CDATA[Li Chao]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Scrapy Notes]]></title>
    <link href="http://leetschau.github.io/blog/2015/03/30/175224/"/>
    <updated>2015-03-30T17:52:24+08:00</updated>
    <id>http://leetschau.github.io/blog/2015/03/30/175224</id>
    <content type="html"><![CDATA[<p>Install on Ubuntu/Mint:</p>

<pre><code>sudo apt-get install python-twisted python-libxml2 python-simplejson
sudo pip install scrapy
</code></pre>

<p>Create an alias in ~/.bash_aliases for convenience: <code>alias sa='scrapy'</code>.</p>

<p>Crawl website in shell:</p>

<pre><code>$ scrapy shell http://myexpo.com/exhibition/32191.html
...
[1] name = response.xpath('//h1/text()').extract()[0]
[2] time = response.xpath('//div[@class="location"]/span[1]/text()').extract()[0].split('\r\n')[1].strip()
[3] addr = response.xpath('//div[@class="location"]/span[2]/text()').extract()[0].split('\r\n')[1].strip()
</code></pre>

<h1>Crawl my blog</h1>

<p>$ sa startproject myblog</p>

<p>Ref:</p>

<p><a href="http://blog.csdn.net/u012150179/article/details/32911511">scrapy研究探索（二）——爬w3school.com.cn</a></p>

<h1>Unicode character in Python 2.x</h1>

<p>You have to add u'&lsquo; prefix to a unicode string in Python 2.x.
Their raw value is in &rsquo;\u' format.
To see them in human friendly format, use <code>print()</code> function.</p>

<pre><code>In [85]: ex = u'中国2015年3月'

In [86]: ex
Out[86]: u'\u4e2d\u56fd2015\u5e743\u6708'

In [87]: print(ex)
中国2015年3月

In [88]: ex.find(u'年')
Out[88]: 6
</code></pre>

<p>See more detailed contents about this topic in note &ldquo;Unicode and File I/O in Python 2.X and 3.X&rdquo;.</p>

<h1>XPath Grammar</h1>

<p>Ref: <a href="http://www.w3school.com.cn/xpath/xpath_syntax.asp">XPath 语法</a></p>
]]></content>
  </entry>
  
</feed>
