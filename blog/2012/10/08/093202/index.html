
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>SVN服务搭建笔记 - Dark Matter in Cyberspace</title>
  <meta name="author" content="Li Chao">

  
  <meta name="description" content="Windows平台 SVN官网只提供源代码，不提供binary安装包，但Subversion Windows Installer是一个不错的windows安装包站点，从上面下载zip版（svn-win32-1.7.6.zip），里面的svn.exe是客户端， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://leetschau.github.io/blog/2012/10/08/093202">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Dark Matter in Cyberspace" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Dark Matter in Cyberspace</a></h1>
  
    <h2>A note repository aims at Data Mining, Spark, Linux, Python.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:leetschau.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">SVN服务搭建笔记</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2012-10-08T09:32:02+08:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>9:32 am</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><h1>Windows平台</h1>

<p><a href="http://subversion.apache.org/">SVN官网</a>只提供源代码，不提供binary安装包，但<a href="http://alagazam.net/">Subversion Windows Installer</a>是一个不错的windows安装包站点，从上面下载zip版（svn-win32-1.7.6.zip），里面的svn.exe是客户端，要图形界面则可以使用TortoiseSVN-1.7.9.23248-win32-svn-1.7.6.msi（来自<a href="http://tortoisesvn.tigris.org/">TortoiseSVN</a>），安装过程如下：</p>

<ol>
<li><p>解压服务端包；</p></li>
<li><p>用"svnadmin create e:\svnRepo"在svnRepo下创建一个代码仓库；</p></li>
<li><p>修改e:\svnRepo\conf中的svnserve.conf（取消注释"password-db = passwd"这一行）和passwd两个文件；</p></li>
<li><p>用"svnserve -d -r e:\svnRepo"启动svn服务器，或者用"start /min cmd /c svnserve -d -r e:\svnRepo"将其以单独窗口的方式启动；</p></li>
</ol>


<p>验证：svn list svn://localhost （或者加-R，列出所有子目录，或者安装tortoiseSVN，启动tortoiseSVN浏览器，在地址里写"svn://10.31.1.189"）；</p>

<p>注：</p>

<ul>
<li><p>不需要安装apache httpd，svn服务的默认监听端口是3690，可以用netstat指令验证启动是否成功；</p></li>
<li><p>&ldquo;svnserve -d"服务由于系统重启或者其他原因停止后，可以用该指令重启SVN服务，库中的记录在重启后保持有效；</p></li>
</ul>


<p>参考<a href="http://www.subversion.org.cn/?action-viewnews-itemid-1">Subversion快速入门教程</a>。</p>

<p>另：</p>

<ul>
<li>下载了<a href="http://www.sliksvn.com">silk Svn</a>，发现只有客户端，放弃。</li>
</ul>


<hr />

<p>2014-4-24更新</p>

<p>在Windows Server 2003上Apache + Subversion服务中添加一个新库：</p>

<ol>
<li><p>K:\svn>&ldquo;c:\Program Files\Subversion\bin\svnadmin.exe&rdquo; create GFrame</p></li>
<li><p>Add the following lines in &ldquo;c:\Program Files\Apache Group\Apache2\svnaccessfile&rdquo;:</p>

<p> gframe-dev=&hellip;</p>

<p> [gframe:/ ]
 @gframe-dev = rw
 @QA = rw
 @Manager = r
 bvt_common = r</p>

<ul>
<li>=</li>
</ul>
</li>
</ol>


<p>Note that group definition &ldquo;gframe-dev=&hellip;&rdquo; MUST before ALL the repo definitions, or the whole Subversion service will down because of the parse error of this access file. When you modify the access file to right format, you can access svn service at once without restart Apache service.</p>

<ol>
<li>Now you can access the new repo with URL &ldquo;<a href="http://10.0.2.59:8118/svn/gframe">http://10.0.2.59:8118/svn/gframe</a>&rdquo; in TortoiseSVN, add some basic folders, such as &ldquo;Development-Area&rdquo;, &ldquo;Test-Area&rdquo;, etc.</li>
</ol>


<h1>Ubuntu</h1>

<ol>
<li><p>sudo apt-get install subversion</p></li>
<li><p>sudo svnadmin create {repo_path}</p></li>
<li><p>nohup svnserve -d -r {repo_path} 1>{log_path} 2>{log_path} &amp;</p></li>
</ol>


<h1>CentOS</h1>

<p>安装后连接不上，且机器可以ping其他机器，但无法连接internet，放弃。</p>

<ol>
<li><p>安装subversion-1.7.4-0.1.el6.rfx.i686.rpm（来自<a href="http://subversion.apache.org/">Apache Subversion官网</a>）；</p></li>
<li><p>创建代码仓库：svnadmin /home/chad/Documents/svnRepo</p></li>
<li><p>修改/home/chad/Documents/svnRepo/conf中的svnserve.conf和passwd两个文件；</p></li>
<li><p>更改用户仓库的写权限以便用户提交代码：chown -R chad:chad /home/chad/Documents/svnRepo</p></li>
<li><p>客户端：在当前目录下检出代码仓库：新建一个目录作为working dir，在下面执行：svn co svn://localhost</p></li>
<li><p>新建一个文件aa；</p></li>
<li><p>svn add aa</p></li>
<li><p>svn ci -m &ldquo;comments for this check in&rdquo;</p></li>
</ol>


<p>遗留问题：只能在本机使用，由于虚拟机NAT方式，无法通过外部svn客户端连接；</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Li Chao</span></span>

      




<time class='entry-date' datetime='2012-10-08T09:32:02+08:00'><span class='date'><span class='date-month'>Oct</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2012</span></span> <span class='time'>9:32 am</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/svn/'>svn</a>, <a class='category' href='/blog/categories/fu-wu-qi/'>服务器</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://leetschau.github.io/blog/2012/10/08/093202/" data-via="" data-counturl="http://leetschau.github.io/blog/2012/10/08/093202/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/09/29/095503/" title="Previous Post: Linux系统CPU信息查询方法">&laquo; Linux系统CPU信息查询方法</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/10/15/160339/" title="Next Post: 安装Linux系统时的磁盘空间分配方法">安装Linux系统时的磁盘空间分配方法 &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/02/01/134829/">Full Text Search for Meteor App</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/30/183509/">基于Search Source的简单查询实现方法</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/29/141348/">Git-flow Notes</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/26/174649/">Meteor Development Styles</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/26/173952/">离线保存网页</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/leetschau">@leetschau</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'leetschau',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Li Chao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
