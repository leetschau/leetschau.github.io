
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>VIM命令格式说明 - Dark Matter in Cyberspace</title>
  <meta name="author" content="Li Chao">

  
  <meta name="description" content="VIM 的命令格式由 4 部分组成： [ 操作次数 ] 动作名称 [ 目标的数量 ] 目标名称 其中操作次数和目标的数量两项如不指明，则视为 1 。 原文来自网络，其中“ Vi Syntax ”一节写的尤其好，对什么是动作、什么是目标解释的非常清楚。 The vi is a text &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://leetschau.github.io/blog/2010/06/25/135711">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Dark Matter in Cyberspace" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Dark Matter in Cyberspace</a></h1>
  
    <h2>A note repository aims at Data Mining, Spark, Linux, Python.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:leetschau.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">VIM命令格式说明</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2010-06-25T13:57:11+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2010</span></span> <span class='time'>1:57 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><dl>
<dt>VIM 的命令格式由 4 部分组成： </dt>
<dt> [ 操作次数 ] 动作名称 [ 目标的数量 ] 目标名称 </dt>
<dt> 其中操作次数和目标的数量两项如不指明，则视为 1 。 </dt>
<dt> 原文来自网络，其中“ Vi Syntax ”一节写的尤其好，对什么是动作、什么是目标解释的非常清楚。 </dt>
<dt> The vi is a text editor. It is small, powerful, and standard on most UNIX systems. The vi often frustrates new users with a unique distinction between its two modes: Command Mode and Insert/Overtype Mode. This distinction, although difficult to become accustomed to for many users, provides great power and ability to the editor. Insert/Overtype Mode is designed for inserting text only. All text manipulations and cursor moving should be done from with in Command Mode. </dt>
<dt> Entering the vi </dt>
<dt> prompt$ vi </dt>
<dt> prompt$ vi file1 file2 … </dt>
<dt> prompt$ vi -r file #Recover file from crash </dt>
<dt> prompt$ vi +string file #Execute ex command “ string ” </dt>
<dt> prompt$ vi @rcfile #Read commands from rcfile </dt>
<dt>  Insert/Overtype Mode </dt>
<dt> Insert/Overtype Mode is solely for entering text. To leave one of these two modes press the [ESC] key. if you wish to enter the ESC character or any other control character while in insert mode: type [CONTROL]-V and then the control sequence. The only difference between Insert Mode and Overtype Mode is that characters are placed in front of the text after the cursor in Insert Mode, where as existing characters are overwritten in Overtype Mode. </dt>
<dt> Command Mode </dt>
<dt> Entering Insert Mode: </dt>
<dt> a — append text, after the cursor </dt>
<dt> i — insert text, before the cursor </dt>
<dt> R — enter Overtype Mode </dt>
<dt> A — append text, after end of line </dt>
<dt> I — insert text, before first non-whitespace character </dt>
<dt> o — open new line below cursor in Insert Mode </dt>
<dt> O — open new line above cursor in Insert Mode </dt>
<dt> vi Syntax </dt>
<dt> vi commands follow the general form: </dt>
<dt> n operator m object </dt>
<dt> which means: </dt>
<dt> execute operator n times on m objects. If n and/or m are omitted, they default to 1. </dt>
<dt> Operators which take objects are(if the operator is pressed twice then the object is the current line) </dt>
<dt> c — Change </dt>
<dt> d — Deletion </dt>
<dt> “ cy — Yank, if “ c is omitted, uses general buffer. </dt>
<dt> &lt; — shift lines left by shiftwidth variable </dt>
<dt> > — shift lines right by shiftwidth variable </dt>
<dt> !cmd — filter trough cmd </dt>
<dt> #The operators &lt; , >, and ! are line based so the set of objects is diminished greatly. </dt>
<dt> Operators which do not take objects : </dt>
<dt> s — Substitute </dt>
<dt> x — Delete character </dt>
<dt> r — Replace character </dt>
<dt> ~ — change case of character </dt>
<dt> Objects (if given with out an operator are interpreted as a cursor motion command): </dt>
<dt> w — forward until beginning of word </dt>
<dt> e — forward until end of word </dt>
<dt> b — backward until beginning of word </dt>
<dt> $ — forward until end of line </dt>
<dt> ^ — backward until first non-whitespace character </dt>
<dt> 0 — backward until first column of line </dt>
<dt> nG — line number n </dt>
<dt> n| — column n of current line </dt>
<dt> /pat — forward until beginning of pat, search </dt>
<dt> ?pat — backward until beginning of pat, backward search </dt>
<dt> n — repeat last search </dt>
<dt> N — repeat last search/backward search, but in opposite direction </dt>
<dt> % — until match of parenthesis, brace, or bracket </dt>
<dt> tc — until next appearance of c on current line </dt>
<dt> Tc — backward until next appearance of c on current line </dt>
<dt> fc — until and including next appearance of c on current line </dt>
<dt> Fc — backward until and including next appearance of c on current line </dt>
<dt> ; — repeat last f, F, t, or T </dt>
<dt> , — repeat last f, F, t, or T in reverse </dt>
<dt> } — forward until end of paragraph </dt>
<dt> { — backward until end of paragraph </dt>
<dt> ) — forward until end of sentence </dt>
<dt> ( — backward until end of sentence </dt>
<dt> ]] — forward until end of section </dt>
<dt> [[ — backward until end of section </dt>
<dt> nH — n lines before first line on screen; n defaults to 0 </dt>
<dt> nL — n lines before last line on screen; n defaults to 0 </dt>
<dt> M — the middle line of the screen </dt>
<dt> j — down one line </dt>
<dt> k — up one line </dt>
<dt> h — left one character </dt>
<dt> l — right one character </dt>
<dt> [BS] — left one character, backspace usually equals H </dt>
<dt> [SPACE] — right one character </dt>
<dt> _ — the entire current line </dt>
<dt> - — until first non-whitespace character on previous line </dt>
<dt> + — until first non-whitespace character on next line </dt>
<dt> [RETURN] — until first non-whitespace character on next line </dt>
<dt> Miscellaneous </dt>
<dt> u — undo last change </dt>
<dt> U — undo entire line </dt>
<dt> “ cp — put “ c or general buffer after the cursor </dt>
<dt> “ cP — put “ c or general buffer before the cursor </dt>
<dt> mc — set mark with character c </dt>
<dt> `c — goto mark c </dt>
<dt> ‘ c — goto beginning of line with mark c </dt>
<dt> `` — return to position before mark jump or search </dt>
<dt> ’’— return to beginning of line before mark jump or search </dt>
<dt> J — join two lines </dt>
<dt> D — delete rest of line </dt>
<dt> C — change rest of line </dt>
<dt> Y — yank current line into general buffer </dt>
<dt> &amp; — execute last ex-style substitution </dt>
<dt> . — execute last modification </dt>
<dt> ! object command — send object as stdin to command and replace with stdout </dt>
<dt> [Ctrl]G - print information about file </dt>
<dd>map x y — when character x is pressed, execute y</dd>
<dd>map! x y — map input mode character x to string y</dd>
<dd>ab x y — x is an abbreviation for y, changes are made on the fly</dd>
<dd>su — Suspend the current editor session</dd>
<dd>sh — run a shell</dd>
<dt> ex Commands </dt>
<dt> ex syntax </dt>
<dt> ex commands in the vi follow this general form: </dt>
<dd>address command</dd>
<dt> which means: </dt>
<dt> Execute command on specific lines obtained from the address part of the general form. If address is omitted, current line is used. Keep in mind that the ex is a line based editor, so all actions are line based. </dt>
<dt> addresses: </dt>
<dt> % — all lines in file </dt>
<dt> x,y — lines x to y </dt>
<dt> . — current line </dt>
<dt> n — line number: n </dt>
<dt> $ — last line of file </dt>
<dt> x-n — n lines before line x </dt>
<dt> x+n — n lines after line x </dt>
<dt> /pat/ — forward to line containing pat </dt>
<dt> ?pat? — backward to line containing pat </dt>
<dt> Some commands are: </dt>
<dt> s/pat/text/ — substitute 1st match of pat with text </dt>
<dt> s/pat/text/g — substitute every match of pat with text </dt>
<dt> s/pat/text/n — substitute the nth occurrence of pat with text </dt>
<dt> ya c — yank into buffer c or the general buffer if c is omitted </dt>
<dt> g address cmd — execute cmd on all lines which satisfy address </dt>
<dt> > — shift right </dt>
<dt> &lt; — shift left </dt>
<dt> d — delete line </dt>
<dt> ! UNIX-cmd — execute UNIX-cmd on line </dt>
<dt> m address — move lines to address </dt>
<dt> refer to ex manual page for more commands </dt>
<dt> The vi environment variables </dt>
<dt> set </dt>
<dt> You can customize your environment with this command by typing set var=value, this will set the specified var to value for a scalar variable. For boolean variables, use set var to set and set novar to unset. You can see which variables are set by just typing the set by its self. You can see a list of all variables by typing set all. Some environment variables are specific to the ex editor and some are specific to the vi editor. I have included both. </dt>
<dt> boolean variables: </dt>
<dt> autoindent(ai) — begin editing next line at same level of indent-ion as this one. </dt>
<dt> autowrite(aw) — write current buffer before leaving </dt>
<dt> exrc(ex) — tells vi/ex if it should read the .exrc file in the current directory. </dt>
<dt> errorbells — editor sends a beep to the terminal when an incorrect </dt>
<dt> ignorecase(ic) — ignore case of characters in searches. </dt>
<dt> list — place a $ at the end of each line and a ^I on each tab. </dt>
<dt> magic — allow ., [, and * to be interpreted as special characters in RE ’ s. </dt>
<dt> number(nu) — number lines in left margin </dt>
<dt> showmatch(sm) — when closing a paren., brace or bracket; move the visual cursor to opening item to check scope </dt>
<dt> showmode(smd) — show type of insert mode </dt>
<dt> wrapscan(ws) — when searching and at bottom of file, continue searching from the top </dt>
<dt> scalar variables: </dt>
<dt> shiftwidth — number of spaces to to insert on a shift operation </dt>
<dt> File Saving and Loading </dt>
<dd>wq — write file and quit</dd>
<dd>w — write file</dd>
<dd>w file — write to specified file</dd>
<dd>w! — overwrite existing file</dd>
<dd>e file — edit new file</dd>
<dd>r file — put contents of file</dd>
<dd>q — quit the editor</dd>
<dd>q! — force quit the editor, do not save changes</dd>
<dd>x — quit the editor, save file if it was modified</dd>
<dt> ZZ — quit the editor, save file if it was modified </dt>
<dd>n — start editing next file in list</dd>
<dd>rew — rewind file list, start editing 1st file on argument list again</dd>
<dt> Q — quit vi and enter ex </dt>
<dd>pre — Preserve file.</dd>
<dd>rec file — recover file
Examples
j — move cursor down
k — move cursor up
h = [BS] — move cursor left
l = [SPACE] — move cursor right</dd>
</dl>

<ul>
<li>= [RETURN] — first non-whitespace character on next line
cw — change word
dd = d<em> — delete line
yy = y</em> — yank current line into the general buffer
“ ayj — yank current line and one below into buffer a
yfc — yank until next occurrence of c on current line into the general buffer
3dl = d3l — delete next 3 characters
4c( = 2c2( = c4( — change next 4 sentences

<blockquote><p>% — while on a brace, paren., or bracket; shift right until closing brace, etc.
:%!sort = :1,$!sort — sort current file
:5,10s/foo/bar/2 — change the second occurrence of foo with bar on lines 5-10
3J — Join next 2 lines to current one
3,9m$ — move lines 3 through 9 to the end of the file
ab w/o with out — when w/o is typed change to with out
:?foo?,/bar/d — delete from the reverse match of foo until the next match of bar
g/{/,/}/&lt; — shift all lines between, and including, a “ { ” and a “ } ” left
:$4,$d - delete last five lines of buffer
:%s/(.) (.)$/2 1/ — swap everything before and after the first space</p></blockquote></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Li Chao</span></span>

      




<time class='entry-date' datetime='2010-06-25T13:57:11+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2010</span></span> <span class='time'>1:57 pm</span></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/vim/'>vim</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://leetschau.github.io/blog/2010/06/25/135711/" data-via="" data-counturl="http://leetschau.github.io/blog/2010/06/25/135711/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2010/06/17/110050/" title="Previous Post: UML中关联(association)和依赖(dependency)的区别">&laquo; UML中关联(association)和依赖(dependency)的区别</a>
      
      
        <a class="basic-alignment right" href="/blog/2010/06/27/135846/" title="Next Post: 第一行为文件名保存的文件的实现方法（VIM版）">第一行为文件名保存的文件的实现方法（VIM版） &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/03/30/181242/">Convert MS Word File to PDF Files</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/30/175224/">Scrapy Notes</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/27/173224/">优化网站加载速度的方法</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/26/203002/">Deploy Meteor Application Manually</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/25/195307/">Deploy Meteor App With MUP</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/leetschau">@leetschau</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'leetschau',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Li Chao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
