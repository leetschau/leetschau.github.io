<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Li Chao" />
        <meta name="copyright" content="Li Chao" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="zsh, shell, autojump, Tech, " />

<meta property="og:title" content="Notes about zsh"/>
<meta property="og:url" content="http://leetschau.github.io/notes-about-zsh.html" />
<meta property="og:description" content="Install zsh (apt-get install zsh) and oh-my-zsh. Set zsh as default shell: chsh -s /bin/zsh; The way plugins of oh-my-zsh work is like vim-pathogen. To use a plugin of zsh, clone a git repo into the plugin folder ($ZSH_CUSTOM, the default value is ~/.oh-my-zsh/custom), and add its name …" />
<meta property="og:site_name" content="DarkMatter in Cyberspace" />
<meta property="og:article:author" content="Li Chao" />
<meta property="og:article:published_time" content="2013-07-06T10:32:33+08:00" />
<meta property="" content="2019-06-27T10:39:27+08:00" />
<meta name="twitter:title" content="Notes about zsh">
<meta name="twitter:description" content="Install zsh (apt-get install zsh) and oh-my-zsh. Set zsh as default shell: chsh -s /bin/zsh; The way plugins of oh-my-zsh work is like vim-pathogen. To use a plugin of zsh, clone a git repo into the plugin folder ($ZSH_CUSTOM, the default value is ~/.oh-my-zsh/custom), and add its name …">

        <title>Notes about zsh · DarkMatter in Cyberspace
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://leetschau.github.io/"><span class=site-name>DarkMatter in Cyberspace</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://leetschau.github.io">Home</a></li>
                            <li ><a href="http://leetschau.github.io/categories.html">Categories</a></li>
                            <li ><a href="http://leetschau.github.io/tags.html">Tags</a></li>
                            <li ><a href="http://leetschau.github.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://leetschau.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://leetschau.github.io/notes-about-zsh.html"> Notes about zsh </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <hr>
<p>Install zsh (<code>apt-get install zsh</code>) and <a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a>.
Set zsh as default shell: <code>chsh -s /bin/zsh</code>;</p>
<p>The way plugins of <em>oh-my-zsh</em> work is like vim-pathogen.
To use a <em>plugin</em> of zsh, clone a git repo into the <em>plugin folder</em>
($ZSH_CUSTOM, the default value is ~/.oh-my-zsh/custom),
and add its name into the <em>plugin list</em> in ~/.zshrc,
and restart the zshell.</p>
<p>So you needn't add many <code>source /usr/share/autojump/autojump.zsh</code>,
<code>source $HOME/.asdf/asdf.sh</code>, etc into ~/.zshrc manually.</p>
<h1>Useful plugins</h1>
<p>Install the following packages:</p>
<div class="highlight"><pre><span></span><code><span class="err">apt install fonts-powerline autojump</span>
</code></pre></div>


<p>Change color and prompt style by changing the value of "ZSH_THEME" in .zshrc.
Or add your own theme file (say <em>lichao.zsh-theme</em>) in <code>$ZSH_CUSTOM</code>.</p>
<p>Finally add the following lines into ~/.zshrc:</p>
<div class="highlight"><pre><span></span><code><span class="err">export ZSH=$HOME/.oh-my-zsh</span>
<span class="err">ZSH_THEME=&quot;lichao&quot;</span>
<span class="err">plugins=(asdf git gitfast httpie web-search vi-mode autojump copyfile</span>
<span class="err">         colored-man-pages zsh-autosuggestions zsh-syntax-highlighting)</span>
</code></pre></div>


<p>For installation details see:</p>
<ul>
<li>
<p><a href="https://github.com/zsh-users/zsh-syntax-highlighting">zsh-syntax-highlighting</a></p>
</li>
<li>
<p><a href="https://github.com/zsh-users/zsh-autosuggestions">zsh-autosuggestions</a></p>
</li>
<li>
<p><a href="https://github.com/robbyrussell/oh-my-zsh/wiki/Plugins">oh-my-zsh plugin list</a></p>
</li>
</ul>
<h1>Usage</h1>
<h2>path navigation</h2>
<p>The tab-completion function of bash can only auto-complete one path name at a time.
While that of zsh auto complete multi-levels path at a time.
So if you want go to ~/dir1/SubDir2/SubSubdir3/Target,
instead of type "cd blah blah blah",
just type "~/d/s/s/t<tab><cr>" and you got there.
Note that path recognition in zsh is <strong>not</strong> case sensitive,
so no need to care about capital letters.
This make path navigation really fast and meaningful.</p>
<p>You can ommit "cd" command before change current directory (make sure option AUTO_CD is turned on).
So if you want go to parent folder, ".." is ok.
If you want come back, "-" or "1".
If you want go to ./apps/eclipse-java-juno-SR2-linux-gtk/p2/org.eclipse.equinox.p2.core/cache/binary,
just type: "apps<tab>" then a list will be displayed and you can use <tab> to select among them.</p>
<p>Use "Alt+Backspace" to delete a path name (not a character).</p>
<p>Use d to list all visited folders.
Use 1~9 to navigate to folders in the recent visited list.
Because 0 is always the current folder, you can just use "1" to switch between two folders.</p>
<h2>autojump</h2>
<p>With autojump, you can use <code>j folder_name_part1 part2 ...</code> to jump to
a directory you have previously visited.
For example: "j gaia" will jump to "/home/bvt/.jenkins/jobs/GAIA",
or "j gaia/works" to "/home/bvt/.jenkins/jobs/GAIA/workspace".</p>
<p>Use <code>autojump -s</code> or <code>j -s</code> to show all entries in autojump database with their weight.
Use "j" to jump to the item with highest weight.
So you can have a "favorite list" based on the weight.</p>
<p>If you want change a item to another folder,
say the old destination of <code>j work</code> is to ~/docs/jshome/workspace,
and now you want it to ~/docs/haskell/workspace.</p>
<p>First find out their weight respectively: <code>j -s|grep workspace</code>.
For now the weight of jshome is 122.3, and that of the haskell is 90.4.
So this can be achieved by decrease the weight of jshome less than that of haskell:</p>
<div class="highlight"><pre><span></span><code><span class="err">j work</span>
<span class="err">j -d 50</span>
</code></pre></div>


<p>This makes the weight of jshome to 72.3.
Use <code>j -s|grep ...</code> above, you can find now haskell has the highest weight.
And <code>j work</code> take you to ~/docs/haskell/workspace now.</p>
<p>If you have 2 "newfairs" folder, one for source codes and one for devops:
"~/docs/website/v3/codes/newfairs" and
"~/docs/website/v3/devOps/ansible/newfairs",
use <code>j co new</code> to jump to the former, and <code>j ops new</code> to jump to latter.</p>
<p>Use <code>j --purege</code> to remove invalid path due to path changes.</p>
<p>See <code>j -h</code> or <code>autojump --help</code> for details.</p>
<h2>find files</h2>
<p>use <code>ls **/*.zip</code> instead of <code>find . -name *.zip</code>;</p>
<h2>edit files</h2>
<p>use "vi <strong>/gaia/</strong>/build.xml" instead of giving the actual path of the file;</p>
<h2>command history search</h2>
<p>use "Ctrl + R" to activate command search mode;</p>
<h2>other type-saving tricks</h2>
<p>"less REMDME" -&gt; "&lt;README"</p>
<h2>open file in zsh</h2>
<p><code>alias -s pdf=exo-open</code> will use exo-open to open pdf files.
Now you can use ./book.pdf to open it in Document Viewer as if it's a executable command.</p>
<p><code>alias -s pdf=evince</code> has the same effect with previous "exo-open" method on Ubuntu,
except that pdf application (Document Viewer, or evince) runs in foreground,
which means zsh hangs when evince runs.
So "exo-open" is a better choice for it acts like double click file in GUI file manager (like Thunar).</p>
<p>But on Ubuntu, evince is builtin app, while exo-open not.</p>
<p>If you only want this in a session, define it in command line. If you want system remember this, add it into .zshrc.</p>
<p>To open all file associations already defined in system, put the following lines in .zshrc:</p>
<div class="highlight"><pre><span></span><code><span class="n">autoload</span> <span class="o">-</span><span class="n">U</span> <span class="n">zsh</span><span class="o">-</span><span class="n">mime</span><span class="o">-</span><span class="n">setup</span>

<span class="n">zsh</span><span class="o">-</span><span class="n">mime</span><span class="o">-</span><span class="n">setup</span>
</code></pre></div>


<p>Ref: <a href="http://www.bash2zsh.com/essays/essay1_file_manager.html">Replacing the File Manager in Zsh</a></p>
<p>Use <code>alias -s</code> to list all file extension associations defined.</p>
<p>Use <code>unalias -s pdf</code> to remove the association (or remove alias command from .zshrc).</p>
<h2>Cheatsheet</h2>
<ul>
<li>
<p>take: "take myfolder" equals to "mkdir myfolder;cd myfolder";</p>
</li>
<li>
<p>x: extract some file, including zip, tar, gz, bz2, tgz, 7z, etc file;</p>
</li>
<li>
<p>zsh_stats: print top 20 frequently used commands under zsh;</p>
</li>
<li>
<p>upgrade_oh_my_zsh: upgrade Oh-my-zsh;</p>
</li>
<li>
<p>uninstall_oh_my_zsh: uninstall Oh-my-zsh;</p>
</li>
</ul>
            
            
            <hr/>
            <script src="https://utteranc.es/client.js"
                    repo="leetschau/leetschau.github.io"
                    issue-term="pathname"
                    theme="github-light"
                    crossorigin="anonymous"
                    async>
            </script>
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2013-07-06T10:32:33+08:00">Jul 6, 2013</time>

<h4>Last Updated</h4>
<time datetime="2019-06-27T10:39:27+08:00">Jun 27, 2019</time>

            <h4>Category</h4>
            <a class="category-link" href="http://leetschau.github.io/categories.html#tech-ref">Tech</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="http://leetschau.github.io/tags.html#autojump-ref">autojump
                    <span>3</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#shell-ref">shell
                    <span>46</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#zsh-ref">zsh
                    <span>5</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>