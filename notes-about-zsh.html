<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Li Chao" />
        <meta name="copyright" content="Li Chao" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="zsh, shell, autojump, Tech, " />

<meta property="og:title" content="notes about zsh "/>
<meta property="og:url" content="/notes-about-zsh.html" />
<meta property="og:description" content="Setup Install zsh: apt-get install zsh; Install oh-my-zsh with &#34;git clone ...&#34;; Now you can change color and prompt style by changing the value of &#34;ZSH_THEME&#34; in .zshrc; Install autojump plugin with apt-get install autojump. Add it to &#34;plugins&#34; variable in .zshrc to enable it (add it after &#34;git&#34;): plugin=(git …" />
<meta property="og:site_name" content="DarkMatter in Cyberspace" />
<meta property="og:article:author" content="Li Chao" />
<meta property="og:article:published_time" content="2013-07-06T10:32:33+08:00" />
<meta property="" content="2013-07-06T10:32:33+08:00" />
<meta name="twitter:title" content="notes about zsh ">
<meta name="twitter:description" content="Setup Install zsh: apt-get install zsh; Install oh-my-zsh with &#34;git clone ...&#34;; Now you can change color and prompt style by changing the value of &#34;ZSH_THEME&#34; in .zshrc; Install autojump plugin with apt-get install autojump. Add it to &#34;plugins&#34; variable in .zshrc to enable it (add it after &#34;git&#34;): plugin=(git …">

        <title>notes about zsh  · DarkMatter in Cyberspace
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="/"><span class=site-name>DarkMatter in Cyberspace</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="">Home</a></li>
                            <li ><a href="/categories.html">Categories</a></li>
                            <li ><a href="/tags.html">Tags</a></li>
                            <li ><a href="/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="/notes-about-zsh.html"> notes about zsh  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <hr>
<h1>Setup</h1>
<p>Install zsh: <code>apt-get install zsh</code>;</p>
<p>Install <a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a> with "git clone ...";</p>
<p>Now you can change color and prompt style by changing the value of "ZSH_THEME" in .zshrc;</p>
<p>Install autojump plugin with <code>apt-get install autojump</code>.
Add it to "plugins" variable in .zshrc to enable it (add it after "git"):</p>
<div class="highlight"><pre><span></span>plugin=(git, autojump)
</pre></div>


<p>Set zsh as default shell: <code>chsh -s /bin/zsh</code>;</p>
<p>In ~/.zshrc, add:</p>
<div class="highlight"><pre><span></span>ZSH=$HOME/.oh-my-zsh
ZSH_THEME=rkj
</pre></div>


<h1>Usage</h1>
<h2>path navigation</h2>
<p>The tab-completion function of bash can only auto-complete one path name at a time.
While that of zsh auto complete multi-levels path at a time.
So if you want go to ~/dir1/SubDir2/SubSubdir3/Target,
instead of type "cd blah blah blah",
just type "~/d/s/s/t<tab><cr>" and you got there.
Note that path recognition in zsh is <strong>not</strong> case sensitive,
so no need to care about capital letters.
This make path navigation really fast and meaningful.</p>
<p>You can ommit "cd" command before change current directory (make sure option AUTO_CD is turned on).
So if you want go to parent folder, ".." is ok.
If you want come back, "-" or "1".
If you want go to ./apps/eclipse-java-juno-SR2-linux-gtk/p2/org.eclipse.equinox.p2.core/cache/binary,
just type: "apps<tab>" then a list will be displayed and you can use <tab> to select among them.</p>
<p>Use "Alt+Backspace" to delete a path name (not a character).</p>
<p>Use d to list all visited folders.
Use 1~9 to navigate to folders in the recent visited list.
Because 0 is always the current folder, you can just use "1" to switch between two folders.</p>
<h2>autojump</h2>
<p>With autojump, you can use <code>j folder_name_part1 part2 ...</code> to jump to
a directory you have previously visited.
For example: "j gaia" will jump to "/home/bvt/.jenkins/jobs/GAIA",
or "j gaia/works" to "/home/bvt/.jenkins/jobs/GAIA/workspace".</p>
<p>Use <code>autojump -s</code> or <code>j -s</code> to show all entries in autojump database with their weight.
Use "j" to jump to the item with highest weight.
So you can have a "favorite list" based on the weight.</p>
<p>If you want change a item to another folder,
say the old destination of <code>j work</code> is to ~/docs/jshome/workspace,
and now you want it to ~/docs/haskell/workspace.</p>
<p>First find out their weight respectively: <code>j -s|grep workspace</code>.
For now the weight of jshome is 122.3, and that of the haskell is 90.4.
So this can be achieved by decrease the weight of jshome less than that of haskell:</p>
<div class="highlight"><pre><span></span>j work
j -d 50
</pre></div>


<p>This makes the weight of jshome to 72.3.
Use <code>j -s|grep ...</code> above, you can find now haskell has the highest weight.
And <code>j work</code> take you to ~/docs/haskell/workspace now.</p>
<p>If you have 2 "newfairs" folder, one for source codes and one for devops:
"~/docs/website/v3/codes/newfairs" and
"~/docs/website/v3/devOps/ansible/newfairs",
use <code>j co new</code> to jump to the former, and <code>j ops new</code> to jump to latter.</p>
<p>Use <code>j --purege</code> to remove invalid path due to path changes.</p>
<p>See <code>j -h</code> or <code>autojump --help</code> for details.</p>
<h2>find files</h2>
<p>use <code>ls **/*.zip</code> instead of <code>find . -name *.zip</code>;</p>
<h2>edit files</h2>
<p>use "vi <strong>/gaia/</strong>/build.xml" instead of giving the actual path of the file;</p>
<h2>command history search</h2>
<p>use "Ctrl + R" to activate command search mode;</p>
<h2>other type-saving tricks</h2>
<p>"less REMDME" -&gt; "&lt;README"</p>
<h2>open file in zsh</h2>
<p><code>alias -s pdf=exo-open</code> will use exo-open to open pdf files.
Now you can use ./book.pdf to open it in Document Viewer as if it's a executable command.</p>
<p><code>alias -s pdf=evince</code> has the same effect with previous "exo-open" method on Ubuntu,
except that pdf application (Document Viewer, or evince) runs in foreground,
which means zsh hangs when evince runs.
So "exo-open" is a better choice for it acts like double click file in GUI file manager (like Thunar).</p>
<p>But on Ubuntu, evince is builtin app, while exo-open not.</p>
<p>If you only want this in a session, define it in command line. If you want system remember this, add it into .zshrc.</p>
<p>To open all file associations already defined in system, put the following lines in .zshrc:</p>
<div class="highlight"><pre><span></span>autoload -U zsh-mime-setup

zsh-mime-setup
</pre></div>


<p>Ref: <a href="http://www.bash2zsh.com/essays/essay1_file_manager.html">Replacing the File Manager in Zsh</a></p>
<p>Use <code>alias -s</code> to list all file extension associations defined.</p>
<p>Use <code>unalias -s pdf</code> to remove the association (or remove alias command from .zshrc).</p>
<h2>Cheatsheet</h2>
<ul>
<li>
<p>take: "take myfolder" equals to "mkdir myfolder;cd myfolder";</p>
</li>
<li>
<p>x: extract some file, including zip, tar, gz, bz2, tgz, 7z, etc file;</p>
</li>
<li>
<p>zsh_stats: print top 20 frequently used commands under zsh;</p>
</li>
<li>
<p>upgrade_oh_my_zsh: upgrade Oh-my-zsh;</p>
</li>
<li>
<p>uninstall_oh_my_zsh: uninstall Oh-my-zsh;</p>
</li>
</ul>
            
            
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2013-07-06T10:32:33+08:00">Jul 6, 2013</time>

<h4>Last Updated</h4>
<time datetime="2013-07-06T10:32:33+08:00">Jul 6, 2013</time>

            <h4>Category</h4>
            <a class="category-link" href="/categories.html#tech-ref">Tech</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="/tags.html#autojump-ref">autojump
                    <span>3</span>
</a></li>
                <li><a href="/tags.html#shell-ref">shell
                    <span>41</span>
</a></li>
                <li><a href="/tags.html#zsh-ref">zsh
                    <span>5</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>