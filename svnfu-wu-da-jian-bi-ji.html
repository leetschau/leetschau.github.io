<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Li Chao" />
        <meta name="copyright" content="Li Chao" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="SVN, 服务器, Tech, " />

<meta property="og:title" content="SVN服务搭建笔记 "/>
<meta property="og:url" content="/svnfu-wu-da-jian-bi-ji.html" />
<meta property="og:description" content="Windows平台 SVN官网只提供源代码，不提供binary安装包，但Subversion Windows Installer是一个不错的windows安装包站点，从上面下载zip版（svn-win32-1.7.6.zip），里面的svn.exe是客户端，要图形界面则可以使用TortoiseSVN-1.7.9.23248-win32-svn-1.7.6.msi（来自TortoiseSVN），安装过程如下： 解压服务端包； 用&#34;svnadmin create e:\svnRepo&#34;在svnRepo下创建一个代码仓库； 修改e:\svnRepo\conf中的svnserve.conf: 取消注释&#34;password-db = passwd&#34;这一行 在e:\svnRepo\conf\passwd文件中添加用户和对应密码； 用&#34;svnserve -d -r e …" />
<meta property="og:site_name" content="DarkMatter in Cyberspace" />
<meta property="og:article:author" content="Li Chao" />
<meta property="og:article:published_time" content="2012-10-08T09:32:02+08:00" />
<meta property="" content="2012-10-08T09:32:02+08:00" />
<meta name="twitter:title" content="SVN服务搭建笔记 ">
<meta name="twitter:description" content="Windows平台 SVN官网只提供源代码，不提供binary安装包，但Subversion Windows Installer是一个不错的windows安装包站点，从上面下载zip版（svn-win32-1.7.6.zip），里面的svn.exe是客户端，要图形界面则可以使用TortoiseSVN-1.7.9.23248-win32-svn-1.7.6.msi（来自TortoiseSVN），安装过程如下： 解压服务端包； 用&#34;svnadmin create e:\svnRepo&#34;在svnRepo下创建一个代码仓库； 修改e:\svnRepo\conf中的svnserve.conf: 取消注释&#34;password-db = passwd&#34;这一行 在e:\svnRepo\conf\passwd文件中添加用户和对应密码； 用&#34;svnserve -d -r e …">

        <title>SVN服务搭建笔记  · DarkMatter in Cyberspace
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="/"><span class=site-name>DarkMatter in Cyberspace</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="">Home</a></li>
                            <li ><a href="/categories.html">Categories</a></li>
                            <li ><a href="/tags.html">Tags</a></li>
                            <li ><a href="/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="/svnfu-wu-da-jian-bi-ji.html"> SVN服务搭建笔记  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <hr>
<h1>Windows平台</h1>
<p><a href="http://subversion.apache.org/">SVN官网</a>只提供源代码，不提供binary安装包，但<a href="http://alagazam.net/">Subversion Windows Installer</a>是一个不错的windows安装包站点，从上面下载zip版（svn-win32-1.7.6.zip），里面的svn.exe是客户端，要图形界面则可以使用TortoiseSVN-1.7.9.23248-win32-svn-1.7.6.msi（来自<a href="http://tortoisesvn.tigris.org/">TortoiseSVN</a>），安装过程如下：</p>
<ol>
<li>
<p>解压服务端包；</p>
</li>
<li>
<p>用"svnadmin create e:\svnRepo"在svnRepo下创建一个代码仓库；</p>
</li>
<li>
<p>修改e:\svnRepo\conf中的svnserve.conf: 取消注释"password-db = passwd"这一行</p>
</li>
<li>
<p>在e:\svnRepo\conf\passwd文件中添加用户和对应密码；</p>
</li>
<li>
<p>用"svnserve -d -r e:\svnRepo"启动svn服务器，或者用"start /min cmd /c svnserve -d -r e:\svnRepo"将其以单独窗口的方式启动；</p>
</li>
</ol>
<h2>验证</h2>
<p>运行<code>svn ls svn://localhost</code>查看库中代码目录和文件，
或者加-R，列出所有子目录，
或者安装tortoiseSVN，启动tortoiseSVN浏览器，在地址里写"svn://10.31.1.189"；</p>
<p>用<code>svn ls</code>选择好目录后，用<code>svn co</code>检出一个目录，在目录中添加一个测试文件"test"，
然后<code>svn add test</code>，<code>svn ci -m "test commit"</code>，客户端提示输入用户名和密码，
输入在$SVN_REPO/conf/passwd中配置的用户名密码，完成提交。</p>
<h2>说明</h2>
<ul>
<li>
<p>不需要安装apache httpd，svn服务的默认监听端口是3690，可以用netstat指令验证启动是否成功；</p>
</li>
<li>
<p>"svnserve -d"服务由于系统重启或者其他原因停止后，可以用该指令重启SVN服务，库中的记录在重启后保持有效；</p>
</li>
<li>
<p>参考<a href="http://www.subversion.org.cn/?action-viewnews-itemid-1">Subversion快速入门教程</a>。</p>
</li>
</ul>
<p>另外下载了<a href="http://www.sliksvn.com">silk Svn</a>，发现只有客户端，放弃。</p>
<hr>
<p>2014-4-24更新</p>
<p>在Windows Server 2003上Apache + Subversion服务中添加一个新库：</p>
<ol>
<li>
<p>K:\svn&gt;"c:\Program Files\Subversion\bin\svnadmin.exe" create GFrame</p>
</li>
<li>
<p>Add the following lines in "c:\Program Files\Apache Group\Apache2\svnaccessfile":</p>
<p>gframe-dev=...</p>
<p>[gframe:/ ]
@gframe-dev = rw
@QA = rw
@Manager = r
bvt_common = r
* =</p>
</li>
</ol>
<p>Note that group definition "gframe-dev=..." MUST before ALL the repo definitions, or the whole Subversion service will down because of the parse error of this access file. When you modify the access file to right format, you can access svn service at once without restart Apache service.</p>
<ol>
<li>Now you can access the new repo with URL "http://10.0.2.59:8118/svn/gframe" in TortoiseSVN, add some basic folders, such as "Development-Area", "Test-Area", etc.</li>
</ol>
<h1>Ubuntu</h1>
<ol>
<li>
<p>sudo apt-get install subversion</p>
</li>
<li>
<p>sudo svnadmin create {repo_path}</p>
</li>
<li>
<p>nohup svnserve -d -r {repo_path} 1&gt;{log_path} 2&gt;{log_path} &amp;</p>
</li>
</ol>
<h1>CentOS</h1>
<p>安装后连接不上，且机器可以ping其他机器，但无法连接internet，放弃。</p>
<ol>
<li>
<p>安装subversion-1.7.4-0.1.el6.rfx.i686.rpm（来自<a href="http://subversion.apache.org/">Apache Subversion官网</a>）；</p>
</li>
<li>
<p>创建代码仓库：svnadmin /home/chad/Documents/svnRepo</p>
</li>
<li>
<p>修改/home/chad/Documents/svnRepo/conf中的svnserve.conf和passwd两个文件；</p>
</li>
<li>
<p>更改用户仓库的写权限以便用户提交代码：chown -R chad:chad /home/chad/Documents/svnRepo</p>
</li>
<li>
<p>客户端：在当前目录下检出代码仓库：新建一个目录作为working dir，在下面执行：svn co svn://localhost</p>
</li>
<li>
<p>新建一个文件aa；</p>
</li>
<li>
<p>svn add aa</p>
</li>
<li>
<p>svn ci -m "comments for this check in"</p>
</li>
</ol>
<p>遗留问题：只能在本机使用，由于虚拟机NAT方式，无法通过外部svn客户端连接；</p>
            
            
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2012-10-08T09:32:02+08:00">Oct 8, 2012</time>

<h4>Last Updated</h4>
<time datetime="2012-10-08T09:32:02+08:00">Oct 8, 2012</time>

            <h4>Category</h4>
            <a class="category-link" href="/categories.html#tech-ref">Tech</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="/tags.html#fu-wu-qi-ref">服务器
                    <span>2</span>
</a></li>
                <li><a href="/tags.html#svn-ref">SVN
                    <span>12</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>