<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Li Chao" />
        <meta name="copyright" content="Li Chao" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="python, ide, vim, Tech, " />

<meta property="og:title" content="Python IDE based on vim "/>
<meta property="og:url" content="/python-ide-based-on-vim.html" />
<meta property="og:description" content="Using python-mode + supertab python-mode check the code code style with PEP8 and syntax with PyFlakes (via pylama), such as unassigned variables, incomplete statements, etc. However it use rope to complete words, while rope doesn&#39;t support Python 3 by now. So I choose supertab to replace rope. super-tab search words in …" />
<meta property="og:site_name" content="DarkMatter in Cyberspace" />
<meta property="og:article:author" content="Li Chao" />
<meta property="og:article:published_time" content="2017-09-14T15:37:30+08:00" />
<meta property="" content="2018-02-28T17:33:00+08:00" />
<meta name="twitter:title" content="Python IDE based on vim ">
<meta name="twitter:description" content="Using python-mode + supertab python-mode check the code code style with PEP8 and syntax with PyFlakes (via pylama), such as unassigned variables, incomplete statements, etc. However it use rope to complete words, while rope doesn&#39;t support Python 3 by now. So I choose supertab to replace rope. super-tab search words in …">

        <title>Python IDE based on vim  · DarkMatter in Cyberspace
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="/"><span class=site-name>DarkMatter in Cyberspace</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="">Home</a></li>
                            <li ><a href="/categories.html">Categories</a></li>
                            <li ><a href="/tags.html">Tags</a></li>
                            <li ><a href="/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="/python-ide-based-on-vim.html"> Python IDE based on vim  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <hr>
<h1>Using python-mode + supertab</h1>
<p>python-mode check the code code style with PEP8 and syntax with
<a href="https://github.com/PyCQA/pyflakes">PyFlakes</a> (via <a href="https://github.com/klen/pylama">pylama</a>),
such as unassigned variables, incomplete statements, etc.
However it use <a href="https://pypi.python.org/pypi/rope">rope</a> to complete words,
while rope doesn't support Python 3 by now. So I choose supertab to replace rope.
super-tab search words in all the project files, which is very
practical and smart.</p>
<p>Add the following lines into ~/.vimrc and install with Vundle:</p>
<div class="highlight"><pre><span></span>let g:pymode_lint_on_fly = 0
let g:pymode_breakpoint = 1
let g:pymode_breakpoint_bind = &#39;&lt;leader&gt;b&#39;
let g:pymode_folding = 0
cabbrev af PymodeLintAuto&lt;CR&gt;

Plugin &#39;python-mode/python-mode&#39;
Plugin &#39;ervandew/supertab&#39;
</pre></div>


<p>Now you can:</p>
<ul>
<li>
<p>Auto lint and syntax check after saving file;</p>
</li>
<li>
<p>Auto format codes according to PEP8 with <code>:af</code>;</p>
</li>
<li>
<p>Run current buffer with <code>&lt;leader&gt;r</code>;</p>
</li>
<li>
<p>Show doc of the current word with <code>K</code>;</p>
</li>
</ul>
<p>See <code>:h pymode-features</code> for details.</p>
<p>Note:
* python-mode now (2018.1.17) uses git submodules to organize codes,
which Vundle can handle automatically for you.</p>
<ul>
<li>python-mode seems conflict with jedi-vim according to
<a href="https://github.com/davidhalter/jedi-vim#caveats">jedi-vim doc</a>.
So remove jedi-vim after installing python-mode.</li>
</ul>
<h2>Ignore Specific Lint Errors and Warnings</h2>
<p>The problem is describe in "PEP8 – import not at top of file with sys.path" in
SO (stackoverflow.com).</p>
<p>Option 1: ignore in your editor:</p>
<p>Add <code>let g:pymode_lint_ignore = ["E501", "W",]</code> into ~/.vimrc to ignore <em>E501</em>
and all warnings when linting the Python source files.
Search <code>ignore</code> in <code>:h pymode</code> for more details.</p>
<p>Option 2: ignore for specific line:</p>
<p>Add <code># nopep8</code> or <code># noqa</code> at the end of the line where raise the error.</p>
<p>Ref: "How to disable a pep8 error in a specific file?" in SO.</p>
<h2>Go to Definitions</h2>
<p>I want to get tags for whole project without opening all files one by one.
But xolox/vim-easytags and majutsushi/tagbar can only create tags for the
opening file. So I choose to build the tag file manually with ctags.</p>
<p>First install ctags with <code>sudo apt install exuberant-ctags</code>.</p>
<p>The default tag file name is <code>tags</code>, I prefer the name <code>.tags</code>.
So in $MYVIMRC, add <code>set tags=.tags;</code>.
Notice the semicolon at the end, it will make vim search for <em>.tags</em>
in parent folder of each level until it find one.
Without it, you can only use tags when the working directory of the editor
is the project root.</p>
<p>In the root folder of the Python project, run <code>ctags -R -f .tags .</code>.
Add <code>.tags</code> in file <em>.gitignore</em>.</p>
<p>Now you can use <em>Ctrl-]</em> to go to function definition,
and <em>Ctrl-o</em> to jump back.</p>
<p>Note: you can config ctags in file ~/.ctags:</p>
<div class="highlight"><pre><span></span>--python-kinds=-iv
--exclude=build
--exclude=dist
</pre></div>


<p>according to <a href="http://tartley.com/?p=1277">‘Go to Definition’ in Vim for Python using Ctags, Done Right</a>.</p>
<h2>Find and Replace</h2>
<p>Using plugin <em>brooth/far.vim</em>, find the word under cursor with
<code>:F Ctrl-r Ctrl-w **/*.py</code>. Here <code>Ctrl-r Ctrl-w</code> is the key shortcut for getting
the word under cursor in command line mode.</p>
<p>Note:</p>
<p>In command line mode (start with pressing <code>:</code> in normal mode),
using <code>Ctrl-r %</code> to get the current file name;
<code>Ctrl-r /</code> to get the last search pattern, etc.
See details of key shortcuts in command line mode with <code>:h c_CTRL-R</code>.</p>
<hr>
<p>Origin post in 2017:</p>
<h1>命令执行</h1>
<p>前提：vim有 <em>python</em> 标志：<code>vim --version|ag python</code></p>
<p>安装 <a href="https://github.com/leetschau/vim-cellmode">vim-cellmode</a> 插件，在.vimrc中加入：</p>
<div class="highlight"><pre><span></span>&quot; vimux cellmode
let g:cellmode_tmux_panenumber=&#39;2&#39;
let g:cellmode_default_mappings=&#39;0&#39;
vnoremap &lt;silent&gt; &lt;leader&gt;v :call RunTmuxPythonChunk()&lt;CR&gt;
nnoremap &lt;silent&gt; &lt;leader&gt;l :call RunTmuxPythonLine()&lt;CR&gt;
noremap &lt;silent&gt; &lt;leader&gt;nc :call RunTmuxPythonCell(0)&lt;CR&gt;
noremap &lt;silent&gt; &lt;leader&gt;c :call RunTmuxPythonCell(1)&lt;CR&gt;
noremap &lt;silent&gt; &lt;leader&gt;ut :call RunTmuxPythonAllCellsAbove()&lt;CR&gt;

Plugin &#39;benmills/vimux&#39;
Plugin &#39;julienr/vim-cellmode&#39;
</pre></div>


<p>关于vimscript的语法，例如<code>function! MyFunc() range</code> 中，
<code>!</code> 的含义（覆盖同名函数），<code>range</code> 关键字的含义（函数自己处理范围），
参考 <code>:h :function</code></p>
<h1>自动补全</h1>
<p>前提：
<em> 安装jedi：<code>pip install --user jedi</code>
</em> vim有 <em>conceal</em> 标志：<code>vim --version|ag conceal</code></p>
<p>安装 <a href="https://github.com/davidhalter/jedi-vim">jedi-vim</a> 插件：
在.vimrc中加入<code>Plugin 'davidhalter/jedi-vim'</code></p>
            
            
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2017-09-14T15:37:30+08:00">Sep 14, 2017</time>

<h4>Last Updated</h4>
<time datetime="2018-02-28T17:33:00+08:00">Feb 28, 2018</time>

            <h4>Category</h4>
            <a class="category-link" href="/categories.html#tech-ref">Tech</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="/tags.html#ide-ref">ide
                    <span>26</span>
</a></li>
                <li><a href="/tags.html#python-ref">python
                    <span>110</span>
</a></li>
                <li><a href="/tags.html#vim-ref">vim
                    <span>87</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>