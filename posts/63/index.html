
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dark Matter in Cyberspace</title>
  <meta name="author" content="Li Chao">

  
  <meta name="description" content="download packages with apt-get: sudo apt-get -d install mysql-server;
verify downloaded packages: ls -lht /var/cache/apt/archives | grep mysql;
copy &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://leetschau.github.io/posts/63/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Dark Matter in Cyberspace" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Dark Matter in Cyberspace</a></h1>
  
    <h2>A notes repository for Meteor.js, data mining, Linux, etc.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="leetschau.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/06/121456/">Manually Install Packages With Apt-get</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-06T12:14:56+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>12:14 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><ol>
<li><p>download packages with apt-get: <code>sudo apt-get -d install mysql-server</code>;</p></li>
<li><p>verify downloaded packages: <code>ls -lht /var/cache/apt/archives | grep mysql</code>;</p></li>
<li><p>copy packages to destination machine;</p></li>
<li><p>install packages: dpkg -i *.deb&hellip;</p></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/05/163150/">Cursor Move in Vi</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-05T16:31:50+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>4:31 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>参考:h scrolling 或者 google: vi scroll</p>

<h1>光标移动（屏幕内容变化）</h1>

<ul>
<li><p>以字符为单位：h,j,k,l；以单词为单位：w/W,e/E,b/B</p></li>
<li><p>移动到行首：0，到行内第一个非空字符：^，到行尾：$</p></li>
<li><p>移动到文档首/尾：gg, G</p></li>
<li><p>跳转到第<k>行行首：<k>G，不写k则跳转到最后一行</p></li>
<li><p>移动到第n行：nG或者ngg</p></li>
<li><p>移动到屏幕中间行的行首: M</p></li>
<li><p>移动到第n列：n|</p></li>
<li><p>移动到一行的屏幕中心位置：gm</p></li>
<li><p>移动到屏幕上的行首、行尾：g0, g$</p></li>
<li><p>移动到文档的80%处：80%</p></li>
<li><p>跳转到光标上次停靠的地方：'&lsquo;（两个单引号）</p></li>
<li><p>跳转到相匹配的括号处：%</p></li>
<li><p>跳转到局部变量定义处：gD</p></li>
<li><p>向前/后翻一整页：ctrl+b/f</p></li>
<li><p>向前/后翻指定行：ctrl+u/d（浏览文件的时候很有用！可用:set scroll=n设置行数值）</p></li>
</ul>


<h1>光标移动（屏幕内容不变）</h1>

<ul>
<li><p>移动到当前窗口顶端/中间/底部的行首：H/M/L</p></li>
<li><p>移动到第n行：nH</p></li>
<li><p>移动到倒数第n行：nL</p></li>
</ul>


<h1>相对于光标滚动（光标不动，屏幕内容变化）</h1>

<h2>水平滚动</h2>

<p>让光标处在屏幕左/右边（相对于看光标的右/左侧文字）：zs, ze;</p>

<h2>垂直滚动</h2>

<p>光标处于屏幕底部(bottom）/顶部（top）/中部：zb, zt, zz;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/05/153741/">Note About Marks in Vi</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-05T15:37:41+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>3:37 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>:h marks or <a href="http://vim.wikia.com/wiki/Using_marks">Using marks</a> for detailed info.</p>

<h1>Type of marks</h1>

<p>a ~ z: valid within one file, erased when file closed;</p>

<p>A ~ Z: valid between files, you can use these marks jump between files;</p>

<p>0 ~ 9: reserved for vi use;</p>

<h1>Frequently used actions</h1>

<p>(use &ldquo;a&rdquo; as mark name)</p>

<p>set marks: ma</p>

<p>jump to marks(line and column): `a</p>

<p>junp to marks(line head): &lsquo;a</p>

<p>list all marks: :marks</p>

<p>delete all marks: :delm!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/06/04/111553/">Directories Sync Utility on Mint</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-06-04T11:15:53+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>11:15 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Meld (GUI App)</h1>

<p>TotalCommander&rsquo;s Mint(Ubuntu) counterpart is &ldquo;Meld&rdquo;. It supports command-line invocation, much slower than TotalCmd, and its visual filters and backup policies are all weaker than that of TotalCmd(See note &ldquo; Auto Dir Sync Script Based on Total Commander &rdquo; for details). Use it from command line:</p>

<pre><code>meld dir1 dir2
</code></pre>

<p>Note: Gnome-commander is much like TotalCmd, and it can use Meld as sync tools.</p>

<h1>rsync</h1>

<pre><code>rsync -rtvu --delete &lt;src_folder&gt; &lt;dst_folder&gt;
</code></pre>

<p>for example:</p>

<pre><code>rsync -rtvu --delete ~/Documents/CalibreLib/ 'chad@10.21.3.31:/home/chad/Calibre Library'
</code></pre>

<p>very slow. Maybe you can fast it with adding a &ldquo;-c&rdquo; parameter(checksum): <code>rsync -rtuvc ...</code></p>

<p>In parameter list, r means recursive (including subdirs); t meas preserve modification time of the files; v means verbose; u means update, if the file in dst is newer than that in src, it will not be copied; &ndash;delete means delete files in destination folder which not exist in source folder.</p>

<p>Note: never forget the trailing slash of src_folder (that after dst_folder is unnecessary), or src_folder will be copied <strong>into</strong> the dst_folder.</p>

<p>Ref: <a href="http://www.jveweb.net/en/archives/2010/11/synchronizing-folders-with-rsync.html">Synchronizing folders with rsync</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/31/133829/">Note About `Learn You Some Erlang for Great Good`</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-05-31T13:38:29+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>31</span><span class='date-suffix'>st</span>, <span class='date-year'>2013</span></span> <span class='time'>1:38 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Chapter 8</h1>

<p>In road.erl, to demonstrate the process of folding on path tuple, you can add the following sentence after the line <code>OptB2=...</code> in method &ldquo;shortest_step&rdquo;:</p>

<pre><code>io:format("OptA1=~p, OptA2=~p, OptB1=~p, OptB2=~p~n", [OptA1, OptA2, OptB1, OptB2]),
</code></pre>

<p>The last sentence of road.erl in main method could also be <code>erlang:halt().</code>, while in book it&rsquo;s <code>erlang:halt(0).</code>. Both work ok.</p>

<h1>chapter 13</h1>

<ul>
<li><p>In event.erl and evserv.erl, you can add the following line before every <code>Pid ! Message</code> to trace message flows between processes:</p>

<p>  io:format(&ldquo;~p send msg ~p to ~p~n&rdquo;, [self(), Message, Pid]),</p></li>
<li><p>In sup.erl, if you modify <code>{'EXIT', _From, shutdown} -&gt;</code> to <code>{'EXIT', _From, shutup} -&gt;</code> in loop/1, you will have to use &ldquo;exit(SupPid, shutup).&rdquo; instead of &ldquo;exit(SupPid, shutdown).&rdquo; to shutdown the sup process. See process_flag/2 and exit/2 for explanations;</p></li>
</ul>


<h1>Chapter 14</h1>

<ul>
<li><p>In kitty_server.erl, return_cat/2 put a cat in the shop (actually the list Cats, the parameter of loop/1). While order_cat/4 do 2 things: if shop is empty, create and return a new cat (then you can use return_cat to add this cat to shop), otherwise return the head of Cats. You can use folloing codes to verify(tom and bob are both set free):</p>

<p>  Pid = kitty_server:start_link().
  C1 = kitty_server:order_cat(Pid, tom, yellow, &ldquo;shinny&rdquo;).
  rr(kitty_server).
  C2 = #cat{name=bob}.
  kitty_server:return_cat(Pid, C1).
  kitty_server:return_cat(Pid, C2).
  kitty_server:close_shop(Pid).</p></li>
<li><p>monitor technique in above kitty_server.erl: When <code>Ref = erlang:monitor(process, Pid).</code>, the calling process is &ldquo;monitoring&rdquo; Pid, which means 2 things:</p>

<ol>
<li><p>when Pid is down, the calling process will receive a &lsquo;DOWN&rsquo; message;</p></li>
<li><p>if the monitored target is a naming process, adding the Ref in message can guarantee correctness after target restarted (see &ldquo;Naming Process&rdquo; of chapter 12 for details);</p></li>
</ol>
</li>
<li><p>You can use <code>i().</code> or <code>etop:start().</code> in erlang shell to list all processes; use <code>process_info(Pid)</code> to print detailed information about the Pid; use <code>regs().</code> to list all registered processes;</p></li>
</ul>


<h1>Chapter 15</h1>

<p>Use <code>trade_calls:main_ab().</code> to demonstrate the use of trade_fsm;</p>

<h1>Chapter 16</h1>

<p>&ldquo;curling_scoreboard&rdquo; is a callback module (a handler in gen_event context). The return value of its init/1 function is {ok, State} (see erlang doc: gen_event: Module:init/1). So curling_scoreboard store the PID of client in its internal State variable (from ToPid in curling:join_feed/2, which called by <code>curling:join_feed(Pid, self()).</code>). At <code>curling:add_points(Pid, "T1", 2).</code>, <strong>both</strong> registered handlers receive message {add_points, Team, N}). Handler curling_scoreboard prints two message to show points are added. While handler curling_feed send a message it received to client process (the Pid in its handle_event/2 function, see erlang doc gen_event:Module:handle_event/2 for API specification);</p>

<h1>Chapter 21</h1>

<p>On p341, when set target directory as &ldquo;~/docs/erlang/ppool-1.0&rdquo; there is a exception. But when set it as &ldquo;~/docs/erlang&rdquo; everything goes fine:</p>

<pre><code>$ ./erts-5.9.1/bin/erl -boot releases/1.0.0/start -erlcount directory '"/home/lichao/docs/erlang/"' -noshell
</code></pre>

<p>systools is simple than Reltool, which is much powerful than systools. Rebar can do release job, too. See <a href="http://www.metabrew.com/article/erlang-rebar-tutorial-generating-releases-upgrades">Erlang rebar tutorial: generating releases and upgrades</a> by Richard Jones;</p>

<h1>Chapter 22</h1>

<p>On p361, you have to modify the value of &ldquo;lib_dirs&rdquo; in file processquest-1.0.0.config at the root directory of processquest to the path where your &ldquo;apps&rdquo; directory resides, in my computer it&rsquo;s &ldquo;/home/lichao/docs/erlang/processquest/apps&rdquo; because I copy processquest to /home/lichao/docs/erlang. Then you can execute &ldquo;{ok, Conf} = &hellip; reltool:eval_target_spec&hellip;&rdquo;, and a bunch of files will be created under the &ldquo;rel&rdquo; directory under processquest.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/30/195201/">Multimedia Functions of Mint</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-05-30T19:52:01+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>7:52 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We can use Calibre to manage e-books, gThumb to Pictures. Only Calibre need to be installed.</p>

<h1>Music</h1>

<p>Use banshee to sync between laptop and ipod. Banshee is a build-in application of Mint 14. It can copy songs on ipod to laptop (default music library on disk is ~/Music). So if you want add some songs to ipod:</p>

<ol>
<li><p>Plug ipod to USB port of your laptop;</p></li>
<li><p>Start banshee, you can see your ipod name (&ldquo;chadpod&rdquo; for me) under the &ldquo;Devices&rdquo; on the left column of banshee panel;</p></li>
<li><p>Make sure all the songs on your ipod have been added to banshee library. If not, drag the songs from ipod to &ldquo;Libraries -> Music&rdquo;;</p></li>
<li><p>Select your ipod, under &ldquo;Sync Preferences&rdquo;, modify the value of &ldquo;Music&rdquo; from &ldquo;Manage manually&rdquo; to &ldquo;Sync from ???Recently Added???&rdquo;, then click &ldquo;Sync&rdquo; button at the upper-right corner of the panel;</p></li>
<li><p>Click &ldquo;Disconnect&rdquo; button nearby the &ldquo;Sync&rdquo; button, then unplug the ipod from USB port of your laptop;</p></li>
</ol>


<p>Note: Use &ldquo;EasyTag&rdquo; to modify file tags;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/30/113911/">The Essential of HIght Order Functions</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-05-30T11:39:11+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>11:39 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The ordinary function: fun(x, y) = x + y, x * y, &hellip;</p>

<p>High order function： fun(x, y) = x(y), &hellip; (where x is a function)</p>

<p>So the essential power of high order function is combining its parameters in the form: x(y), which is impossible appeared in ordinary functions.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/29/183259/">Code Metrics Management With Sonar</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-05-29T18:32:59+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>29</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>6:32 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I added coverage test with cobertura and test the demo project built yesterday. Then I add Sonar Ant task in the ant script and saved test result into Sonar database.</p>

<p>The following is a standard build script(add junit-4.*.jar and cobertura.jar to $ANT_HOME/lib, in Ubuntu it is /usr/share/ant/lib):</p>

<pre><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project name="MyJavaProj" basedir="./" default="coverage_report"&gt;
    &lt;property name="build.dir" value="${basedir}/build" /&gt;
    &lt;target name="init"&gt;
        &lt;delete dir="${build.dir}"/&gt;
        &lt;mkdir dir="${build.dir}"/&gt;
    &lt;/target&gt;

    &lt;property name="src.dir" value="${basedir}/src" /&gt;
    &lt;property name="src.class.dir" value="${build.dir}/class" /&gt;
    &lt;target name="compile-src" depends="init"&gt;
        &lt;mkdir dir="${src.class.dir}"/&gt;
        &lt;javac srcdir="${src.dir}" destdir="${src.class.dir}" encoding="UTF-8" debug="true"/&gt;
    &lt;/target&gt;
    &lt;taskdef classpath="cobertura.jar" resource="tasks.properties" /&gt;
    &lt;property name="instrumented.class.dir" value="${build.dir}/instrumented-class" /&gt;
    &lt;property name="cobertura.data.file" value="${instrumented.class.dir}/cobertura.ser" /&gt;

    &lt;target name="instrument" depends="compile-src"&gt;
        &lt;cobertura-instrument datafile="${cobertura.data.file}" todir="${instrumented.class.dir}"&gt;
        &lt;fileset dir="${src.class.dir}"&gt;
            &lt;include name="**/*.class" /&gt;
        &lt;/fileset&gt;
        &lt;/cobertura-instrument&gt;
    &lt;/target&gt;

    &lt;property name="test.dir" value="${basedir}/test" /&gt;
    &lt;property name="test.class.dir" value="${build.dir}/test" /&gt;
    &lt;target name="compile-test" depends="instrument"&gt;
        &lt;mkdir dir="${test.class.dir}"/&gt;
        &lt;javac srcdir="${test.dir}" destdir="${test.class.dir}"&gt;
            &lt;classpath&gt;
                &lt;pathelement location="${instrumented.class.dir}"/&gt;
                &lt;pathelement location="${src.class.dir}"/&gt;
            &lt;/classpath&gt;
        &lt;/javac&gt;
    &lt;/target&gt;

    &lt;property name="unittest.report.dir" value="${build.dir}/unittest_report" /&gt;
    &lt;property name="lib.dir" value="${basedir}/lib" /&gt;
    &lt;target name="unittest" depends="compile-test"&gt;
        &lt;mkdir dir="${unittest.report.dir}"/&gt;
        &lt;junit printsummary="yes" fork="yes"&gt;
            &lt;sysproperty key="net.sourceforge.cobertura.datafile" file="${cobertura.data.file}" /&gt;
            &lt;classpath&gt;
                &lt;pathelement location="${instrumented.class.dir}"/&gt;
                &lt;pathelement location="${src.class.dir}"/&gt;
                &lt;pathelement location="${test.class.dir}"/&gt;
                &lt;pathelement location="${src.dir}"/&gt;
                &lt;path refid="lib.path"/&gt;
            &lt;/classpath&gt;
            &lt;formatter type="xml"/&gt;
            &lt;batchtest todir="${unittest.report.dir}" haltonerror="no"&gt;
                &lt;fileset dir="${test.dir}"&gt;
                    &lt;include name="**/*.java" /&gt;
                &lt;/fileset&gt;
            &lt;/batchtest&gt;
        &lt;/junit&gt;
    &lt;/target&gt;

    &lt;property name="coverage.report.dir" value="${build.dir}/coverage_report" /&gt;
    &lt;target name="coverage-report" depends="unittest"&gt;
        &lt;cobertura-report datafile="${cobertura.data.file}" srcdir="${src.dir}" destdir="${coverage.report.dir}" format="xml" /&gt;
    &lt;/target&gt;

    &lt;property name="sonar.jdbc.url" value="jdbc:h2:tcp://localhost:9092/sonar" /&gt;
    &lt;property name="sonar.jdbc.username" value="sonar" /&gt;
    &lt;property name="sonar.jdbc.password" value="sonar" /&gt;
    &lt;property name="sonar.projectKey" value="com.doco.gif.MyModule" /&gt;
    &lt;property name="sonar.projectName" value="My Unit Test Project Demo" /&gt;
    &lt;property name="sonar.projectVersion" value="2.1" /&gt;
    &lt;property name="sonar.language" value="java" /&gt;
    &lt;property name="sonar.sources" value="src" /&gt;
    &lt;property name="sonar.tests" value="test" /&gt;
    &lt;property name="sonar.binaries" value="${src.class.dir},${test.class.dir},${build.instrument.dir}" /&gt;
    &lt;property name="sonar.dynamicAnalysis" value="reuseReports" /&gt;
    &lt;property name="sonar.surefire.reportsPath" value="${unittest.report.dir}" /&gt;
    &lt;property name="sonar.core.codeCoveragePlugin" value="cobertura" /&gt;
    &lt;property name="sonar.cobertura.reportPath" value="${coverage.report.dir}/coverage.xml" /&gt;
    &lt;target name="sonar" depends="coverage-report"&gt;
        &lt;taskdef uri="antlib:org.sonar.ant" resource="org/sonar/ant/antlib.xml"&gt;
            &lt;classpath path="/usr/share/ant/lib/sonar-ant-task-2.1.jar" /&gt;
        &lt;/taskdef&gt;
        &lt;sonar:sonar xmlns:sonar="antlib:org.sonar.ant" /&gt;
    &lt;/target&gt;
&lt;/project&gt;
</code></pre>

<p>To run this script successfully:</p>

<ol>
<li><p>build a demo java project and put this script at project root;</p></li>
<li><p>copy sonar-ant-task-2.1.jar and junit-4.11.jar to $ANT_HOME/lib;</p></li>
<li><p>start Sonar server: $SONAR_HOME/bin/sonar.sh console;</p></li>
<li><p>run this script: ant sonar;</p></li>
</ol>


<p>Note1: you have to add &ldquo;sonar.core.codeCoveragePlugin&rdquo; or coverage result can&rsquo;t be collected by Sonar. This is not mentioned in official documents<a href="http://docs.codehaus.org/display/SONAR/Code+Coverage+by+Unit+Tests+for+Java+Project">Code Coverage by Unit Tests for Java Project</a>;</p>

<p>Note2: take care of the spelling: &ldquo;sonar.surefire.report<strong>s</strong>Path&rdquo; while &ldquo;sonar.cobertura.reportPath&rdquo;;</p>

<p>Note3: the &ldquo;xmlns:sonar="antlib:org.sonar.ant&rdquo; in &ldquo;sonar:sonar&rdquo; is necessary or the prefix &ldquo;sonar&rdquo; would be unbound;</p>

<p>Note4: if unit test results can&rsquo;t be collected by Sonar, try to specify &ldquo;sonar.binaries&rdquo; carefully as above shows;</p>

<p>Note5: the value of junit report path &ldquo;sonar.surefire.reportsPath&rdquo; is a <strong>directory</strong>(because there are lots of reports under this folder), while the value of cobertura report is a <strong>file</strong>, if sonar can not get junit or cobertura report, verify these settings;</p>

<p>Note6: if there are &ldquo;class &hellip; is not accessible through the ClassLoader.&rdquo; in output of sonar task, there are two solutions:</p>

<ol>
<li><p>remove property &ldquo;sonar.binaries&rdquo;, where Sonar will not check bytecode;</p></li>
<li><p>in case you want Sonar check bytecodes, add property &ldquo;sonar.libraries&rdquo; like follows:</p>

<p> <property name="sonar.libraries" value="src/lib/*.jar,src/lib/dom4j/*.jar"/></p></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/29/145502/">Note About Cobertura</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-05-29T14:55:02+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>29</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>2:55 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Workflow of Unit Test without Cobertura</h1>

<ol>
<li><p>compile source code;</p></li>
<li><p>compile test code;</p></li>
<li><p>run unit test;</p></li>
</ol>


<h1>Workflow of Uniit Test with Cobertura</h1>

<ol>
<li><p>compile source code;</p></li>
<li><p>instrument source code;</p></li>
<li><p>compile test code based on <strong>instrumented</strong> source code(instrumented class file of source code in fact);</p></li>
<li><p>run unit test;</p></li>
<li><p>build unit test and coverage report;</p></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/05/29/081941/">Goagent 3.0.1 on Mint 14</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-05-29T08:19:41+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>29</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>8:19 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><ol>
<li><p>download goagent-goagent-v3.0.1-11-gfaa05a1.zip;</p></li>
<li><p><code>unzip goagent-goagent-v3.0.1-11-gfaa05a1.zip -d apps</code></p></li>
<li><p><code>cd $GOAGENT_HOME/server; python uploader.zip</code>, you have to enter you app id (ltsc), email address and password;</p></li>
<li><p><code>vi $GOAGENT_HOME/local/proxy.ini</code>; modify appid;</p></li>
<li><p><code>python goagent-gtk.py &amp;</code>, then close terminal;</p></li>
</ol>


<p>bingo.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/64">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/62">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/04/09/204200/">Note About Rest Client</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/29/183444/">MongoDB Schema Analysis</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/21/075937/">Toggle Syntastic Mode to Speedup Vim</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/21/004603/">Persist Tmux</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/03/17/140426/">Git Submodule的同步问题</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/leetschau">@leetschau</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'leetschau',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Li Chao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
