
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dark Matter in Cyberspace</title>
  <meta name="author" content="Li Chao">

  
  <meta name="description" content="Say your partner is Tom. Fork Tom&rsquo;s repository;
Clone your forked repository to your laptop;
Commit modificatioins to your laptop repository; &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://leetschau.github.io/posts/3/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Dark Matter in Cyberspace" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Dark Matter in Cyberspace</a></h1>
  
    <h2>A notes repository for Meteor.js, data mining, Linux, etc.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="leetschau.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/07/23/121622/">Development Collaboration With Pull Request</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-07-23T12:16:22+08:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>23</span><span class='date-suffix'>rd</span>, <span class='date-year'>2015</span></span> <span class='time'>12:16 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Say your partner is Tom.</p>

<ol>
<li><p>Fork Tom&rsquo;s repository;</p></li>
<li><p>Clone your forked repository to your laptop;</p></li>
<li><p>Commit modificatioins to your laptop repository;</p></li>
<li><p>Push modifications to your forked repository;</p></li>
<li><p>Send a pull request in your forked repository on github website;</p></li>
<li><p>Tom accept your request and merges into his repository;</p></li>
<li><p>In your laptop repository, add upstream repository as a remote source;</p></li>
<li><p>Sync with the upstream repository with <code>git fetch</code> and <code>git merge</code>;</p></li>
</ol>


<p>This is a whole cycle. Repeat above steps to collaborate with Tom.</p>

<p>Ref:</p>

<p><a href="http://stackoverflow.com/questions/7244321/how-to-update-github-forked-repository">How to update GitHub forked repository?</a></p>

<p><a href="https://help.github.com/articles/pushing-to-a-remote/#pushing-a-branch">Pushing to a remote</a></p>

<p><a href="https://help.github.com/articles/syncing-a-fork/">Syncing a fork</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/07/22/082040/">Running Meteor and Node App on Ubuntu 14.04 VPS</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-07-22T08:20:40+08:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>8:20 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Setup Environment with MUP</h1>

<p>On your laptop, install mup with <code>npm install -g mup</code>.
In a new directory, create a mup project with <code>mup init</code>.
Set &ldquo;setupMongo&rdquo;, &ldquo;setupNode&rdquo; and &ldquo;setupPhantom&rdquo; to &ldquo;true&rdquo; in mup.json,
and run <code>mup setup</code>.</p>

<h1>Run Apps</h1>

<p>To install the <strong>first</strong> Meteor app, <code>mup deploy</code>.</p>

<p>To install the second (there has been a Meteor app is running) or more,
set &ldquo;setupMongo&rdquo;, &ldquo;setupNode&rdquo; and &ldquo;setupPhantom&rdquo; to &ldquo;false&rdquo; in mup.json,
change &ldquo;appname&rdquo;, &ldquo;app&rdquo; and values in &ldquo;env&rdquo; accordingly.
Finally run <code>mup deploy</code>.</p>

<p>For Node app, first get the source code with git,
then run it with forever, which is installed by mup:</p>

<pre><code>aptitude install git
git clone ... projHome
cd projHome
npm install
# confirm port number in config.js
forever start app.js  # when the main script is "app.js"
</code></pre>

<p>Get the app status with <code>forever list</code>.
If the app can&rsquo;t start, print logs with <code>forever logs 1</code>
(if the target app&rsquo;s index in <code>forever list</code> is 1).</p>

<h1>Setup Routes</h1>

<p>Note: MUP requires Node v0.10.36 or later.
So do NOT install node with <code>aptitude install nodejs</code>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/07/18/005622/">基于ionic的移动网页开发</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-07-18T00:56:22+08:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>18</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>12:56 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://github.com/meteoric/meteor-ionic/blob/master/GUIDE.md">meteor-ionic Guide</a>是整体框架的说明。</p>

<p>文档中心：
<a href="http://ionicframework.com/docs/">Ionic Documentation</a>，
常用的包括界面组件<a href="http://ionicframework.com/docs/components/">CSS Components</a>和
图标库<a href="http://ionicons.com/">ionicons</a>（可以输入名称搜索对应图标，如"telephone", &ldquo;home"等）。</p>

<h1>Header, Footer字体太小问题</h1>

<p>在<head>&hellip;</head>里增加下面两行代码：</p>

<pre><code>&lt;meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"&gt;
&lt;link href='http://fonts.googleapis.com/css?family=Roboto:400,300,500' rel='stylesheet' type='text/css'&gt;
</code></pre>

<h1>Header上登录注册按钮覆盖退回按钮问题</h1>

<p>下面的代码不会出现覆盖问题：</p>

<pre><code>  &lt;div class="col text-right"&gt;
    &lt;button class="button button-clear button-stable"&gt;登录&lt;/button&gt;
    &lt;button class="button button-clear button-stable"&gt;注册&lt;/button&gt;
  &lt;/div&gt;
</code></pre>

<p>如果在<code>&lt;div class="col text-right"&gt;</code>外面加上一层<code>&lt;div class="bar bar-header bar-positive"&gt;</code>，
则会覆盖"headerButtonLeft"中定义的返回按钮。</p>

<p>另：`` 中可以添加path（返回指定route）和text（按钮说明文字）属性。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/07/10/065540/">Manage Nodejs App With Forever</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-07-10T06:55:40+08:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>6:55 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://github.com/foreverjs/forever">forever</a> is</p>

<blockquote><p>A simple CLI tool for ensuring that a given script runs continuously.</p></blockquote>

<p>For now it only supports nodejs scripts.</p>

<p>It provides functions like <code>nohup</code> in shell, but much more.</p>

<p>To start your script, run <code>forever start -w app.js</code> instead of <code>node app.js</code>.
The &ldquo;-w&rdquo; option will watch the file changes.</p>

<p>So update website is simply run <code>git pull ...</code> on your production host,
forever will find the changes in your sources and restart server
(like Meteor app in develop mode).</p>

<p>List all running forever managed scripts with <code>forever list</code>.</p>

<p>Find out their logs location with <code>forever logs</code>.
Then you can use <code>tail -f</code> to watch the log of a script in real time.</p>

<p>Print the log of a script with <code>forever logs &lt;script-index&gt;</code>,
for example:<code>forever logs 0</code>.
You get the index from the output of <code>forever logs</code>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/07/07/103347/">Transport JavaScript Objects Between Meteor Pages via URI</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-07-07T10:33:47+08:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:33 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Tips</h1>

<ul>
<li><p>object -> String -> object:
JSON.stringify -> encodeURI -> | another page | -> decodeURI -> JSON.parse</p></li>
<li><p>Use &ldquo;&amp;&rdquo; to connect multiple query items in uri;</p></li>
</ul>


<h1>Code Demo</h1>

<p>On page 1:</p>

<pre><code>var filterObj = { year: '2016', pos: '中国' };
var filterStr = JSON.stringify(filterObj);
var enc = encodeURI(filterStr);
console.log(enc);
var myRoute = "/results/2015/pages/1?type=basic&amp;filter=" + enc
Router.go(myRoute);
</code></pre>

<p>On page 2:</p>

<pre><code>var queryType = this.params.query.type;
var filterStr = this.params.query.filter;
var dec = decodeURI(filterStr);
var filterObj = JSON.parse(dec);
console.log(filterObj);
</code></pre>

<h1>Ref</h1>

<ul>
<li><p>matejkramny&rsquo;s answer in <a href="http://stackoverflow.com/questions/1086404/string-to-object-in-js">String to object in JS</a>;</p></li>
<li><p><a href="http://www.w3schools.com/jsref/jsref_decodeuri.asp">JavaScript decodeURI() Function</a>;</p></li>
<li><p>vartec&rsquo;s answer in <a href="http://stackoverflow.com/questions/724526/how-to-pass-multiple-parameters-in-a-querystring">How to pass multiple parameters in a querystring</a>;</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/07/04/190036/">Learning Resources for Programming Language Theory</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-07-04T19:00:36+08:00'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>7:00 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><p><a href="http://www.cs.toronto.edu/~hehner/aPToP/">A practical theory of programming</a>;</p></li>
<li><p><a href="https://en.wikipedia.org/wiki/Programming_language_theory">Programming language theory on Wikipedia</a>;</p></li>
<li><p><a href="http://book.douban.com/subject/3743526/">Programming Language Pragmatics by Michael L. Scott</a>;</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/06/30/101243/">Trace File Change History in Git Repository</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-06-30T10:12:43+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>30</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:12 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The website need hide some menu items under developing,
by comment out the html codes (at line 19~24 in file &ldquo;client/comTemp.html&rdquo;).
But last night we found they reappeared in the newest version.
Apparently someone used the older version (in which they were not commented out)
overwrite the latest version by error (without intention).</p>

<p>How to find out who, at which commit make this mistake?</p>

<p><strong>Step 1</strong>: get the error version.</p>

<pre><code>$ git blame -L 19,24 client/comTemp.html
dc7d385a (Tom     2015-06-26 17:39:28 +0800 19)    &lt;li&gt;
8b64184a (Bob     2015-05-04 19:32:43 +0800 20)      &lt;a href="/mall"&gt;Mall&lt;/a&gt;
6bb3ba70 (Franky  2015-05-04 15:45:50 +0800 21)    &lt;/li&gt;
6bb3ba70 (Franky  2015-05-04 15:45:50 +0800 22)    &lt;li&gt;
8b64184a (Bob     2015-05-04 19:32:43 +0800 23)      &lt;a href="/services"&gt;Services&lt;/a&gt;
dc7d385a (Tom     2015-06-26 17:39:28 +0800 24)    &lt;/li&gt;
</code></pre>

<p>Here the line 19 should be <code>&lt;!--&lt;li&gt;</code> and line 24 should be <code>&lt;/li&gt;--&gt;</code>,
to hide &ldquo;Mall&rdquo; and &ldquo;Services&rdquo;, which are under developing.</p>

<p><strong>Step 2</strong>: get the newest right version.</p>

<p>The wrong commit is &ldquo;dc7d385a&rdquo;, so we have to find the nearest change <strong>before</strong> it:</p>

<pre><code>$ git blame -L 19,24 'dc7d385a^' -- client/comTemp.html
96269db1 (Bob     2015-06-10 15:36:31 +0800 19)    &lt;!--&lt;li&gt;
8b64184a (Bob     2015-05-04 19:32:43 +0800 20)      &lt;a href="/mall"&gt;Mall&lt;/a&gt;
6bb3ba70 (Franky  2015-05-04 15:45:50 +0800 21)    &lt;/li&gt;
6bb3ba70 (Franky  2015-05-04 15:45:50 +0800 22)    &lt;li&gt;
8b64184a (Bob     2015-05-04 19:32:43 +0800 23)      &lt;a href="/services"&gt;Services&lt;/a&gt;
96269db1 (Bob     2015-06-10 15:36:31 +0800 24)    &lt;/li&gt;--&gt;
</code></pre>

<p>So we know Mall and Services were commented out at commit 96269db1, 2015-06-10,
and uncommented by error at commit dc7d385a, 2015-06-26, by Tom.</p>

<p><strong>Step 3</strong>: show code changes.</p>

<pre><code>$ git show dc7d385a -- client/comTemp.htm
...
-    &lt;!--&lt;li&gt;
+    &lt;li&gt;
       &lt;a href="/mall"&gt;Mall&lt;/a&gt;
     &lt;/li&gt;
     &lt;li&gt;
       &lt;a href="/services"&gt;Services&lt;/a&gt;
-    &lt;/li&gt;--&gt;
+    &lt;/li&gt;
...
</code></pre>

<p>It shows in commit dc7d385a,
two lines were deleted: &ldquo;<!--<li>&rdquo; and &ldquo;</li>&ndash;>&rdquo;,
while two lines were added: &ldquo;<li>&rdquo; and &ldquo;</li>&rdquo;.</p>

<p><strong>Step 4 (optional)</strong>: revert the commit</p>

<pre><code>git revert dc7d385a
</code></pre>

<p>Ref: <a href="http://stackoverflow.com/questions/14836696/delete-last-commit-in-bitbucket">http://stackoverflow.com/questions/14836696/delete-last-commit-in-bitbucket</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/06/27/085109/">Control Linux Server With Tmux on Windows Client</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-06-27T08:51:09+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>8:51 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;ve tried Kitty as SSH client.
But under tmux, the right &ldquo;Alt&rdquo; key doesn&rsquo;t work,
while it works good with MobaXterm.</p>

<p>Full screen switch: F11;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/06/25/102358/">Meteoric Notes</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-06-25T10:23:58+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:23 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>meteor create ionicEx
cd ionicEx
meteor add iron:router fourseven:<a href="&#109;&#97;&#x69;&#x6c;&#116;&#x6f;&#x3a;&#x73;&#99;&#115;&#x73;&#x40;&#50;&#x2e;&#48;&#x2e;&#x30;">&#x73;&#x63;&#x73;&#x73;&#x40;&#x32;&#46;&#48;&#x2e;&#x30;</a> meteoric:ionic-sass meteoric:ionicons-sass meteoric:ionic</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/06/19/104111/">Tails System</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-06-19T10:41:11+08:00'><span class='date'><span class='date-month'>Jun</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:41 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Tails 1.4 can <strong>not</strong> be installed with YUMI.
It will cause a &ldquo;setup chroot failure&rdquo;.
There is a bug report on Tails for this:
<a href="https://labs.riseup.net/code/issues/9115">Chroot browsers don&rsquo;t work when Tails is manually installed with YUMI</a>.</p>

<p>After start up with USB key, press <TAB> after the &ldquo;BOOT&rdquo; prompt.
I tried all 3 options. Only &ldquo;menu_486&rdquo; could boot the system.</p>

<p>Once logged in, connect WiFi, use &ldquo;unsafe_browser&rdquo; to check the internet connection.
If it&rsquo;s OK, use Tor browser.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/4">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/2">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/09/24/185036/">Add a Local Meteor Package</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/23/123748/">Stack Notes</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/22/104351/">Using Webstorm as Meteor IDE</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/22/092543/">Autosave in Webstorm</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/21/092600/">Convert a Folder Into Meteor App in Webstorm</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/leetschau">@leetschau</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'leetschau',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Li Chao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
