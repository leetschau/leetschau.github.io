
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dark Matter in Cyberspace</title>
  <meta name="author" content="Li Chao">

  
  <meta name="description" content="Publish to PyPI Follow How To Package Your Python Code. Register I ran &ldquo;python setup.py register&rdquo; twice. Firstly I use option 2 to &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://leetschau.github.io/posts/34/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Dark Matter in Cyberspace" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Dark Matter in Cyberspace</a></h1>
  
    <h2>A notes repository for Meteor.js, data mining, Linux, etc.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="leetschau.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/10/102952/">Publish and Install Python Applications</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-01-10T10:29:52+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:29 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Publish to PyPI</h1>

<p>Follow <a href="http://www.scotttorborg.com/python-packaging/index.html">How To Package Your Python Code</a>.</p>

<h2>Register</h2>

<p>I ran &ldquo;python setup.py register&rdquo; twice. Firstly I use option 2 to register a new account, then ran it again and use option 1 to upload the &ldquo;funniest&rdquo; package. Then I saw this package in my account on PyPI. In the management page, there is a &ldquo;remove&rdquo; button for delete this package.</p>

<pre><code>$ python setup.py register
</code></pre>

<h2>Create a source distribution</h2>

<pre><code>$ python setup.py sdist
</code></pre>

<p>This is create a tar.gz file under dist folder. If you like, copy that file to another host, unpacking it and install it with &ldquo;python setup.py install&rdquo;.</p>

<h2>Upload source distribution</h2>

<pre><code>$ python setup.py sdist upload
</code></pre>

<p>After modification of source codes and version number in setup.py (say, modify it to 0.2) run last command again to refresh distribution on PyPI. You can see it at &ldquo;<a href="https://pypi.python.org/simple/">https://pypi.python.org/simple/</a><app-name>/&rdquo;.</p>

<p>On another host, use &ldquo;pip install <app-name>==0.2&rdquo; to install this app, for example: &ldquo;pip install funniestlc==0.2&rdquo;.</p>

<h1>Publish in LAN</h1>

<h2>On the develop host</h2>

<ol>
<li><p>Edit source code;</p></li>
<li><p>Create new source code distribution package: <code>python setup.py install sdist</code>;</p></li>
</ol>


<h2>On the deploy host</h2>

<ol>
<li><p>Startup a virtual environment: <code>workon test</code>;</p></li>
<li><p>Write a install script:</p>

<p> #!/bin/bash
 scp lichao@10.21.2.7:/home/lichao/docs/python_projects/donno/dist/donno-0.1.10.tar.gz .
 tar zxvf donno-0.1.10.tar.gz
 cd donno-0.1.10
 python setup.py install
 cd ..</p></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/09/183148/">Note About Virturalenvwrapper</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-01-09T18:31:48+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>9</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>6:31 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Installation</h1>

<pre><code>$ sudo pip install virtualenvwrapper
</code></pre>

<p>Add following lines into ~/.zshrc:</p>

<pre><code>source /usr/local/bin/virtualenvwrapper.sh

export WORKON_HOME=~/apps/virenv_home

export PROJECT_HOME=~/docs/python_projects
</code></pre>

<h1>Usage</h1>

<p>There are two concepts in virturalenvwrapper. One is &ldquo;virtual environment&rdquo;, which has its own python executables. The other is &ldquo;project&rdquo;, where your source codes resides. They are n-to-n relationship.</p>

<p>&ldquo;mkvirtualenv env1&rdquo; will create a new &ldquo;virtual environment&rdquo; in $WORKON_HOME, regardless your CWD.</p>

<p>&ldquo;mkproject proj1&rdquo; will create both a &ldquo;virtual environment&rdquo; named &ldquo;proj1&rdquo; in $WORKON_HOME and a &ldquo;proj1&rdquo; folder in $PROJECT_HOME. Then go to $PROJECT_HOME/proj1, then activate the virtual environment proj1. So &ldquo;mkproject proj1&rdquo; equals to:</p>

<pre><code>$ mkvirtualenv proj1

$ mkdir $PROJECT_HOME/proj1

$ cd $PROJECT_HOME/proj1

$ workon proj1
</code></pre>

<p>Associate an existing virtualenv and an existing project with command</p>

<pre><code>$ setvirtualenvproject virtualenv_path project_path
</code></pre>

<p>Under the hood, virturalenvwrapper create a &ldquo;.project&rdquo; file under the root of the virtualenv, in which is the project path.</p>

<p>List site packages:</p>

<pre><code>$ lssitepackages
</code></pre>

<p>Run a command in all virtualenvs under WORKON_HOME:</p>

<pre><code>$ allvirtualenv command with arguments
</code></pre>

<p>Change the current working directory to the site-packages of current virtualenv($VIRTUAL_ENV):</p>

<pre><code>$ cdsitepackages
</code></pre>

<p>Remove virtualenv:</p>

<pre><code>$ rmvirtualenv &lt;env_name&gt;
</code></pre>

<h1>Verification</h1>

<p>In a virtualenv, all python executables are in $WORKON_HOME.</p>

<pre><code>[lichao@lichao480:~] 
% workon 
env1 
env2 
proj1 
[lichao@lichao480:~] 
% which python 
/usr/bin/python 
[lichao@lichao480:~] 
% workon env1 
(env1)[lichao@lichao480:~] 
% which python 
/home/lichao/apps/virenv_home/env1/bin/python 
(env1)[lichao@lichao480:~] 
% workon env2 
(env2)[lichao@lichao480:~PROJECT_HOME/proj2] 
% which python 
/home/lichao/apps/virenv_home/env2/bin/python
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/09/164727/">Write Groovy Codes Instead of Java</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-01-09T16:47:27+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>9</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>4:47 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Writing Java codes in terminal is a pain for tons of boilerplate. But sometimes you have to. So we can write groovy instead.</p>

<p>Origin Java codes (Convert.java):</p>

<pre><code>import java.io.BufferedReader; 
import java.io.FileReader; 
import java.io.IOException; 
import org.apache.commons.lang3.StringEscapeUtils; 
public class Convert { 
    public static void main(String[] args) throws IOException { 
        BufferedReader reader = new BufferedReader(new FileReader("target")); 
        String line = reader.readLine(); 
        System.out.println("file content: "+line); 
        String out = StringEscapeUtils.unescapeJava(line); 
        System.out.println("from string to char: " + out); 
        String out2 = StringEscapeUtils.escapeJava(out); 
        System.out.println("from char to string : " + out2); 
    } 
} 
</code></pre>

<p>$ javac -cp commons-lang3-3.2.1.jar:. Convert.java</p>

<p>$ java -cp commons-lang3-3.2.1.jar:. Convert</p>

<p>Corresponding Groovy codes (convert.groovy):</p>

<pre><code>import org.apache.commons.lang3.StringEscapeUtils 
def reader = new BufferedReader(new FileReader("target")) 
def line = reader.readLine() 
println "file content: $line" 
def out = StringEscapeUtils.unescapeJava(line) 
println "from string to char: $out" 
def out2 = StringEscapeUtils.escapeJava(out) 
println "from char to string: $out2" 
</code></pre>

<p>Run it: groovy -cp commons-lang3-3.2.1.jar convert.groovy</p>

<p>Key points to writing groovy codes:</p>

<ol>
<li><p>Dynamic type but with &ldquo;def&rdquo; (see &ldquo;<a href="http://stackoverflow.com/questions/184002/groovy-whats-the-purpose-of-def-in-def-x-0">http://stackoverflow.com/questions/184002/groovy-whats-the-purpose-of-def-in-def-x-0</a>&rdquo; for its reason);</p></li>
<li><p>No need to import Java built-in library;</p></li>
<li><p>No need to take care of the exceptions;</p></li>
<li><p>semi-colon at the end of line is optional;</p></li>
<li><p>Use &ldquo;println&rdquo; instead of &ldquo;System.out.println&hellip;&rdquo;;</p></li>
</ol>


<p>Ref:</p>

<p><a href="http://stackoverflow.com/questions/764416/why-would-one-use-groovy-over-java">http://stackoverflow.com/questions/764416/why-would-one-use-groovy-over-java</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/09/105408/">Python Development Workflow</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-01-09T10:54:08+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>9</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:54 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Based on <a href="http://www.jeffknupp.com/blog/2013/08/16/open-sourcing-a-python-project-the-right-way/">http://www.jeffknupp.com/blog/2013/08/16/open-sourcing-a-python-project-the-right-way/</a></p>

<h1>Workflow</h1>

<p>The first release(v0.1): see Publish and Install Applications via PyPI for how to commit to PyPI;</p>

<p>After uploading your first release to PyPI, the basic workflow is:</p>

<ol>
<li><p>Do some work on your package (i.e. fix bugs, add features, etc);</p></li>
<li><p>Make sure the tests pass;</p></li>
<li><p>&ldquo;Freeze&rdquo; your code by creating a release branch in git-flow;</p></li>
<li><p>Update the <strong>version</strong> number in your package&rsquo;s <strong>init</strong>.py file;</p></li>
<li><p>Run &ldquo;python setup.py sdist upload&rdquo; to upload the new version of your package to PyPI;</p></li>
</ol>


<p>For usage of git-flow, see note &ldquo;git-flow Notes&rdquo;.</p>

<h1>virtualenv and virtualenvwrapper</h1>

<p>See Note about virturalenvwrapper.</p>

<h1>Publish a Python Application</h1>

<p>Add a &ldquo;command_line.py&rdquo; in <project-name> module, and &ldquo;entry_points&rdquo; in setup.py. See the 4th step &ldquo;Command Line Scripts&rdquo; in <a href="http://www.scotttorborg.com/python-packaging/index.html">How To Package Your Python Code</a> for details.</p>

<h2>Necessary Files</h2>

<h3>setup.py</h3>

<p>Some necessary parameters:</p>

<ul>
<li><p>entry_points: for defind executables;</p></li>
<li><p>install_requires: for defining dependencies, get this from &ldquo;pip freeze&rdquo; command (exculde the application itself);</p></li>
</ul>


<h3>MANIFEST.in</h3>

<p>  Add &ldquo;inculde README.md&rdquo; (and other necessary files for installation) in this file, or README.md will note be packaged into installer, and in installation a &ldquo;README.md not found&rdquo; error raises because you read this file in setup.py.
  (see <a href="https://wiki.python.org/moin/Distutils/Tutorial">https://wiki.python.org/moin/Distutils/Tutorial</a> for explanation)</p>

<h2>All available classifiers</h2>

<pre><code>https://pypi.python.org/pypi?%3Aaction=list_classifiers
</code></pre>

<h2>Create requirements automatically</h2>

<pre><code>$ pip freeze &gt; requirements.txt
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/08/152300/">Create Executable Links in Linux</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-01-08T15:23:00+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>3:23 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For example, as a common user we want to use application &ldquo;pandoc&rdquo; installed by root. We can achieve this by copy a soft link to /usr/bin.</p>

<pre><code># cd /usr/bin
# ln -s ~/.cabal/bin/pandoc
</code></pre>

<p>Now we can use &ldquo;pandoc&rdquo;. If it complains &ldquo;Permission Denied&rdquo;, use it with &ldquo;sudo&rdquo;.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/07/105610/">Spell Check in Vim</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-01-07T10:56:10+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:56 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Turn on check spelling: <code>:set spell</code>.</p>

<p>]s   Move to next misspelled word after the cursor;</p>

<p>[s   find the misspelled word before the cursor;</p>

<p>z=   For the word under/after the cursor, suggest correctly spelled words;</p>

<p>zg   Add word under the cursor as a good word;</p>

<p>Ref: <a href="http://stackoverflow.com/questions/640351/how-can-i-spellcheck-in-gvim">http://stackoverflow.com/questions/640351/how-can-i-spellcheck-in-gvim</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/07/105230/">Write Markdown in Vim</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-01-07T10:52:30+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:52 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Markdown Plugin</h1>

<p>Use <a href="https://github.com/plasticboy/vim-markdown/blob/master/after/ftplugin/mkd.vim">plasticboy/vim-markdown</a>
This plugin enable markdown syntax highlighting, folding/unfolding and some navigation shortcuts.</p>

<h1>Frequently used shortcuts</h1>

<h2>Foldings</h2>

<p>zc: close one-level fold at cursor;
zo: open one-level fold at cursor;
zn: unfold all (n for none);
zm: fold all (m for more);
zj: go to the next fold;
zk: go to the previous fold;
[z: go to the start of the fold at cursor;
]z: go to the end of the fold at cursor;</p>

<h2>Markdown</h2>

<p>]]: go to next header;
[[: go to previous header;
]c: go to current header;
]u: go to parent header;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/04/105849/">Some Notetaking Softwares</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-01-04T10:58:49+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>4</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:58 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Today I install Springseed and NixNote on the black laptop (Linux MInt Cinnamon 15) and try them.</p>

<h1>Springseed</h1>

<p> The sparkling features include:</p>

<ul>
<li><p>It&rsquo;s open source;</p></li>
<li><p>Synchronize with Dropbox;</p></li>
<li><p>Supporting markdown syntax, and distinguishes &ldquo;Save&rdquo; and &ldquo;edit&rdquo; statuses. So It can preview the note.</p></li>
<li><p>Cool interface;</p></li>
</ul>


<p> But it&rsquo;s a GUI style app without keyboard shortcuts.</p>

<h1>NixNote</h1>

<p> NixNote is an open source Evernote client on Linux. It is more GUI style than Evernote Windows client. For example, it doesnot support ESC to close note window. It can be closed to system tray but you have to open it with mouse. Its interface is a little better than Evernote Windows client in wine.</p>

<p> These 2 app are all not the ideal solutions. I will keep on develop pynote.</p>

<p> # Everpad</p>

<p> It works on Mint Cinnamon 15. But it has no search function, and its synchronization is very slow (1 hour for 1000 notes).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/03/111321/">Run Shell Commands in Python</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-01-03T11:13:21+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>3</span><span class='date-suffix'>rd</span>, <span class='date-year'>2014</span></span> <span class='time'>11:13 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>os.system</h1>

<p>If it&rsquo;s unnecessary to save command output into a variable,
this is the way most convenient,
and similar with run shell command directly.
The output of the command will be printed to console in realtime,
and return the command&rsquo;s return value.
You can use space and pipe in command:</p>

<pre><code>&gt;&gt;&gt; from os import system
&gt;&gt;&gt; system('vmstat 3 3')
&gt;&gt;&gt; ret = system('ls -l|grep D') 
</code></pre>

<h1>subprocess.call</h1>

<p>This is the recommended way to run shell commands in Python compared with old-fashioned os module.
This is a realtime method, which means you can get the shell output on the fly,
compared with following &ldquo;subprocess.check_output&rdquo; method, which collect all output in its return value.
This method return the return value of the command, for example:</p>

<pre><code>ret = subprocess.call('ls -l')
</code></pre>

<p>where ret=0, while</p>

<pre><code>ret = subprocess.call('cd aaa')
</code></pre>

<p>ret=2 when there isn&rsquo;t &ldquo;aaa&rdquo; subfolder under CWD.</p>

<p>For ease of use, write a shorthand function:</p>

<pre><code>import subprocess
def run(cmd):
    ret = subprocess.call(cmd, shell=True)
    if ret != 0:
        sys.exit('Exec cmd %s error, return value: %s' %(cmd, str(ret)))
</code></pre>

<p>Then you can simply use &ldquo;run(cmd)&rdquo; as a shell interface.
&ldquo;run&rdquo; print command stdout and stderr to console stdout,
and if there&rsquo;s something wrong during execution, we interrupt it.</p>

<h1>subprocess.check_output</h1>

<p>A more safe way to run shell command is using &ldquo;check_output&rdquo; function.
If the return value if not 0, a exception raised, otherwise return the command output.</p>

<pre><code>$ cat myrun.py
import subprocess
def run(cmd):
    return subprocess.check_output(cmd, shell=True)
$ python -i myrun.py
&gt;&gt;&gt; ret = run('ls -l|grep donno')
&gt;&gt;&gt; ret
'drwxr-xr-x 6 chad chad 4096 Jan 26 18:18 donno-0.1.10\n-rw-r--r-- 1 chad chad 8716 Jan 27 15:53 donno-0.1.10.tar.gz\n'
&gt;&gt;&gt; ret = run('cd aaa')
/bin/sh: 1: cd: can't cd to aaa
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
  File "shtest.py", line 3, in run
    return subprocess.check_output(cmd, shell=True)
  File "/usr/lib/python2.7/subprocess.py", line 544, in check_output
    raise CalledProcessError(retcode, cmd, output=output)
subprocess.CalledProcessError: Command 'cd aaa' returned non-zero exit status 2
</code></pre>

<h1>subprocess.Popen</h1>

<p>If you want some more powerful tools, use this. You can&rsquo;t use pipe directly in this form. Instead, You have to use subprocess.PIPE:</p>

<pre><code>&gt;&gt;&gt; import subprocess
&gt;&gt;&gt; lsres = subprocess.Popen(['ls','-l'], stdout=subprocess.PIPE)
&gt;&gt;&gt; grepres = subprocess.Popen(['grep', 'Do'], stdin=lsres.stdout, stdout=subprocess.PIPE)
&gt;&gt;&gt; res = grepres.communicate()
</code></pre>

<p>communicate() interact with process: Send data to stdin. Read data from stdout and stderr, until end-of-file is reached. Wait for process to terminate. It returns a tuple (stdoutdata, stderrdata).</p>

<h2>Full solution of running shell command</h2>

<p>If you want realtime output, while saving output and return code in variables, you should use Popen:</p>

<pre><code>from subprocess import Popen, PIPE, STDOUT
cmd = 'vmstat 2 3'
cmd2 = 'exit 3'

p = Popen(cmd, close_fds=True, shell=True, stdout=PIPE, stderr=STDOUT)

line = ''
while p.poll() is None:
    out = p.stdout.read(1)
    if out=='\n':
        print(line)
        line = ''
    else:
        line = line + out
print('--------\nret is: %d' % p.returncode)
</code></pre>

<p>The Popen.stdout is a file object, so its &ldquo;read(size)&rdquo; method here means read every 1 byte.
&ldquo;close_fds=True&rdquo; is maybe unnecessary, but I keep it for safe.</p>

<h1>os.popen</h1>

<p>Use this form if you want to save command output.</p>

<pre><code>&gt;&gt;&gt; retfile = os.popen('pwd')
&gt;&gt;&gt; ret = retfile.read() 
&gt;&gt;&gt; ret 
'/home/lichao\n' 
&gt;&gt;&gt; retfile 
&lt;open file 'pwd', mode 'r' at 0xb74aad30&gt;
</code></pre>

<p>or write it more compact:</p>

<pre><code>&gt;&gt;&gt; result = os.popen('ls|grep enex').read()
</code></pre>

<h2>Deprecated</h2>

<ul>
<li><p>commands.getoutput()</p></li>
<li><p>commands.getstatusoutput()</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/01/02/144055/">Search Available Package on Remote Repository</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-01-02T14:40:55+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2014</span></span> <span class='time'>2:40 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Debian-based distro</h1>

<p>First update your system cache:</p>

<pre><code>apt-get update
</code></pre>

<p>Then you can use one of the following ways to search available packages:</p>

<pre><code>apt-cache search &lt;package-name&gt;
</code></pre>

<p>There is only package names and simple descriptions.</p>

<pre><code>aptitude search &lt;package-name&gt;
</code></pre>

<p>The command provide more information than above one. The first character of the output indicate the package status on your host machine: &ldquo;i&rdquo; means installed, &ldquo;p&rdquo; otherwise. If the third character is &ldquo;A&rdquo; other than space, it means the package is auto installed.</p>

<p>Use &ldquo;aptitude why <package-name>&rdquo; to get the explanation of why the package should be installed on the system.</p>

<h1>RPM-based distro</h1>

<pre><code>yum list &lt;package-name&gt;
</code></pre>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/35">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/33">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/09/20/212102/">Generate Random Date After a Specified Date</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/16/101529/">A JavaScript Closure Demo</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/15/122519/">JSDoc Notes</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/12/233609/">Push to Github Repository With SSH Keys</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/09/12/093754/">Change SSH Port on Linux</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/leetschau">@leetschau</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'leetschau',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Li Chao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
