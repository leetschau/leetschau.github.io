
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dark Matter in Cyberspace</title>
  <meta name="author" content="Li Chao">

  
  <meta name="description" content="Java程序最常用的日志系统大概就是apache的log4j了，它的功能简单说就是“记录日志”。对于类库型的Java应用，例如GAPI，本身没有main程序，总是被其他程序调用，这类系统如果自身使用log4j记录日志，会出现自身的日志系统与调用程序的日志系统冲突的问题， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://leetschau.github.io/posts/98">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Dark Matter in Cyberspace" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Dark Matter in Cyberspace</a></h1>
  
    <h2>A note repository aims at Data Mining, Spark, Linux, Python.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:leetschau.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/05/21/110953/">Eclipse中使用SLF4J的一个例子</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2010-05-21T11:09:53+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2010</span></span> <span class='time'>11:09 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Java程序最常用的日志系统大概就是apache的log4j了，它的功能简单说就是“记录日志”。对于类库型的Java应用，例如GAPI，本身没有main程序，总是被其他程序调用，这类系统如果自身使用log4j记录日志，会出现自身的日志系统与调用程序的日志系统冲突的问题，解决的方法就是把GAPI的日志用一个“门面”实现，运行时由调用程序实现日志的输出，slf4j就是这样的一个解决方案。</p>

<p>在Eclipse中新建一个Project名为Ex1，创建包com.leechau，创建类MySLF4J，代码如下：</p>

<p>package com.leechau;
 import org.slf4j.Logger;
import org.slf4j.LoggerFactory; public class MySLF4J {
 public static void main(String[] args) {
  Logger logger = LoggerFactory.getLogger(HelloWorld.class);
  logger.info(&ldquo;Hello World&rdquo;);
 }
 }
} 提示无法解析包名slf4j，【Project->Properties->Java Build Path->Libraries】中，【Add External JARs】,加上log4j-1.2.14.jar、slf4j-api-1.5.0.jar、slf4j-log4j12-1.5.0.jar三个文件即可。 运行文件，出现报错：WARN No appenders could be found for logger&hellip;
这是因为slf4j需要读取一个叫log4j.properties的文件，以确定logger的行为，例如Log文件放在什么位置，文件名是什么等等，如果没有这个文件就会出现上面的问题，在使用logger的类文件所在的source folder下新建一个名为“log4j.properties”的文件，文件内容为： log4j.rootCategory=DEBUG,stdout,R,errorlogger</p>

<h4>第1个 appender将log写到屏幕</h4>

<p>log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=[%p] [%d] [%c] - [%m]%n
log4j.appender.stdout.Threshold=DEBUG
log4j.logger.org.apache.mina.filter.executor.OrderedThreadPoolExecutor=WARN
log4j.logger.org.apache.mina.core.filterchain.IoFilterEvent=WARN
log4j.logger.org.apache.mina.filter.codec.ProtocolCodecFilter=WARN</p>

<h1>第1个配置文件，用于输出运行时调试信息</h1>

<p>log4j.appender.R=org.apache.log4j.RollingFileAppender
log4j.appender.R.layout=org.apache.log4j.PatternLayout</p>

<h1>true表示每次在文件尾写入新的日志信息，false表示新的日志覆盖旧的日志文件</h1>

<p>log4j.appender.R.Append=true
log4j.appender.R.layout.ConversionPattern=[%p] [%d] [%c] - [%m]%n
log4j.appender.R.Threshold=INFO log4j.appender.R.File=./log/Test.log #此参数设置log文件名
log4j.appender.R.MaxFileSize=8000KB
log4j.appender.R.MaxBackupIndex=5</p>

<h1>第2个配置文件，用于输出运行时错误信息</h1>

<p>log4j.appender.errorlogger=org.apache.log4j.RollingFileAppender
log4j.appender.errorlogger.layout=org.apache.log4j.PatternLayout
log4j.appender.errorlogger.layout.ConversionPattern=[%p] [%d] [%c] - [%m]%n
log4j.appender.errorlogger.Threshold=ERROR
log4j.appender.errorlogger.File=./log/error.log
log4j.appender.errorlogger.MaxFileSize=8000KB
log4j.appender.errorlogger.MaxBackupIndex=5
更新一下项目，运行即可。每一个source folder可以拥有自己的“log4j.properties”文件，在此文件中指定不同的log文件名，即可为每一个source folder建立自己的日志文件。</p>

<p>关于log4j的使用方法以及log4j.properties文件设置方法的详细说明见笔记“log4j使用笔记”。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/05/20/111540/">Eclipse使用笔记</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2010-05-20T11:15:40+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>20</span><span class='date-suffix'>th</span>, <span class='date-year'>2010</span></span> <span class='time'>11:15 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>如何为Eclipse安装插件？尤其是SVN？</h1>

<p>放入$ECLIPSE_HOME/dropins文件夹比较好；</p>

<h1>从SVN中更新代码</h1>

<p>在Project名称上右键->Team->更新；</p>

<h1>调整Eclipse Editor的字体和字号</h1>

<p>Window->Preferences->General->Appearance->Colors and Fonts->Basic->Text Font->Edit.</p>

<h1>断点管理</h1>

<p>IDE下端的“Show view as a fast view”中选“Other”，然后在“Debug”类下选“Breakpoints”，所有的断点都会在这个view中列出。</p>

<h1>使用Run/Debug快捷键</h1>

<p>Window->Preference->Run/Debug->Launching->Launching Operation, check &ldquo;Always launch the previously launched application&#8221;，这样F11/Ctrl+F11总是Debug/Run上一次的Config，而不会运行Editor里的代码；</p>

<h1>代码自动提示</h1>

<p>Window->Preference->Java->Editor->Content Assist->Auto Activation，里面可以定制激活代码自动完成的延时时间，哪些字符可以触发自动完成等，默认只有输入“点”时会触发，如果需要在输入a，b和c时也触发，写成&#8221;abc.&ldquo;，但实际使用后发现自动触发导致编辑器速度变慢，影响输入体验，所以保持默认设置（只有输入“点”时触发）比较好。</p>

<p>在确实需要代码提示时，可以用快捷键激活，设置代码提示快捷键的位置是：</p>

<p>Window -> Preference -> General -> Keys -> Scheme:Default -> Command:Content Assist，默认是Alt+/，不顺手，改为Shift+Tab键比较好，定义此键不能直接按shift+tab，而是点右侧三角按钮，从中选择Shift+Tab，如下图：</p>

<h1>调整代码提示显示速度</h1>

<p>Eclipse中鼠标停在代码上时出现的浅黄色提示窗口叫“Hover”，如果它出现的速度太快会影响看代码，它延时出现的设置需要在注册表里进行：HKEY_CURRENT_USER -> Control Panel -> Mouse里新建一个类型为REG_SZ（字符串值）类型的项，名为“MouseHoverTime”，一般设为400，也就是鼠标悬停400毫秒后显示Hover；</p>

<h1>调整默认的快捷键</h1>

<p>有些快捷键属于“重度依赖”，但默认的设置比较复杂，比如：</p>

<ul>
<li><p>在开发和调试间切换需要频繁用到&#8221;Next Perspective&#8221;，默认是Ctrl+F8，建议改为Alt+O（不要设置为F7这样的单键，因为单键需要多按一次Enter确认）；</p></li>
<li><p>多个进程同时调试（尤其是Server/Client）时频繁使用&#8221;Next Page&#8221;，默认是Alt+F7，建议改为Alt+C；</p></li>
<li><p>&ldquo;Minimize Active View&#8221;建议修改为F7，要恢复（Restore） 这些最小化的View可以用Window->Reset Perspective菜单项，对应的按键是Alt, W, R；要显示某个最小化状态下的View可用快捷键&#8221;Alt + Shift + Q&#8221;，后面跟一个按键的方式激活这个View，例如Breakpoint对应B键，Console对应C键等，Debug无对应按键，可设置为D键；之后如果想返回Editor，用F12键；</p></li>
</ul>


<h1>隐藏Eclipse的工具栏</h1>

<ol>
<li><p>Help -> Welcome;</p></li>
<li><p>Window -> Show Toolbar;</p></li>
<li><p>shutdown Welcome page;</p></li>
</ol>


<h1>用Quick Access功能快速定位配置项</h1>

<p>Quick Access（默认快捷键Ctrl+3）是从Eclipse 4后才出现的，它能够记忆用户最近使用的功能，因此一些常用功能会出现在待选项的最上面，使用很方便。下面是一些常用的操作：</p>

<ul>
<li><p>查看某项功能的快捷键：[Ctrl+3 -> Keys]，菜单操作：[Window -> Preferences -> General -> Keys]；</p></li>
<li><p>打开项目属性面板：[Ctrl+3 -> properties]，选择&#8221;Properties - Properties&#8221;，打开当前文件所在项目的属性面板，不需要先选中项目；</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/05/10/113712/">TotalCMD的颜色功能笔记</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2010-05-10T11:37:12+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>10</span><span class='date-suffix'>th</span>, <span class='date-year'>2010</span></span> <span class='time'>11:37 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>TotalCMD的颜色功能在两个地方比较有用。
 1 显示最近更改过的文件
 【配置->选项->显示->颜色->按文件类型设置颜色->添加->设置->高级】，勾选【不早于】，在后面写上1日，然后【确定】，在随后出现的颜色选择面板里选红色。用同样的方法将7天内更改过的文件设为浅蓝色；
 2 不同的文件类型设为不同的颜色
 参照【配置->选项->显示->颜色->按文件类型设置颜色】中已经预定义的那些条目进行设置即可。</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/05/07/111652/">Java网络通信程序（一对多）</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2010-05-07T11:16:52+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2010</span></span> <span class='time'>11:16 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>在前文“Java网络通信程序（一对一）”基础上，实现了一个服务器为多个客户端提供服务的功能，本文基于[1]之10.3.9节例10-4和10-5，修正了一些变量递增错误，删去了两个无用的变量。本文使用的客户端程序与前文完全相同。
MultiTalkServer.java倒数第6行代码表明代码中可以直接使用同一目录下其他public类（这里是ServerThread类），无需import。
[1] 陈明：Java语言程序设计，清华大学出版社，2009.6</p>

<p> MultiTalkServer.java
import java.io.<em>;
import java.net.</em>;
public class MultiTalkServer{
 static int clientNum = 1;
 public static void main(String args[]) throws IOException {
 ServerSocket serverSocket = null;
 boolean listening = true;
 try {
  serverSocket = new ServerSocket(4700);
  System.out.println(&ldquo;MultiTalkServer Started.\n&rdquo;);
 }
 catch (IOException e){
  System.out.println(&ldquo;Could not listen to port 4700.&rdquo;);
  System.exit(-1);
 }
 while (listening) {
  new ServerThread(serverSocket.accept(), clientNum).start(); //直接引用同一文件夹下的其他公共类
  clientNum++;
 }
 serverSocket.close();
 }
}</p>

<p> ServerThread.java
import java.io.<em>;
import java.net.</em>;
 public class ServerThread extends Thread {
 Socket socket = null;
 int clientNum;
 public ServerThread(Socket socket, int num){
 this.socket = socket;
 clientNum = num;
 }
 public void run(){
 try{
  String line;
  BufferedReader is = new BufferedReader(new InputStreamReader(socket.getInputStream()));
  PrintWriter os = new PrintWriter(socket.getOutputStream());
  System.out.println(&ldquo;Connected to Client #&rdquo;+clientNum+&ldquo;.&rdquo;);
  System.out.println();
  do{
  line = is.readLine();
  System.out.println(&ldquo;Client #&rdquo;+clientNum+&ldquo; says: &rdquo;+line);
  System.out.println(&ldquo; To Client&rdquo;+clientNum+&ldquo;: you said: &rdquo;+line);
  System.out.println();
  os.println(&ldquo;You said: &rdquo;+line);
  os.flush();
  } while (! line.equals(&ldquo;bye&rdquo;));
  os.close();
  is.close();
  socket.close();
 }
 catch (Exception e){
  System.out.println(&ldquo;Error:&rdquo;+e);
 }
 }
}</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/05/07/110500/">Java网络通信程序（一对一）</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2010-05-07T11:05:00+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2010</span></span> <span class='time'>11:05 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>本文是基于[1]之10.3.8节的阅读笔记，文末的两个java程序改自该节例10-2和10-3。</p>

<p> Client/Server结构的Java程序由两个独立的程序组成，每个程序的核心功能都由4个对象相互协作实现：
 1 Socket，这是网络通信的核心；
 2 信息发送者：是一个PrintWriter对象，与Socket的输出流绑定，负责发送信息，见Server程序第26行，Client程序第12行；
 3 信息接收者：是一个BufferedReader对象，首先与Socket的输入流绑定，然后将输入的字节流转换为字符流，见Server程序第25行，Client程序第13行；
 4 用户输入处理器：这个对象处理本地用户的输入，将输入字符串以合适的形式保存或者展现，不涉及网络，服务端程序代码见27行，客户端见11行；
之所以接收者需要加一层字节流到字符流的转换（用InputStreamReader实现），是因为网络传输的字节而非字符。</p>

<p> 这类程序的基本结构由4个步骤组成：
 1 创建Socket，Server端可分为两个子步骤（见程序第8-23行），第一步是创建一个ServerSocket对象，第二步是用它的accept方法在某一端口监听，等待客户端连接（程序运行到这里进入等待状态，也就是书中所谓的“阻塞”，在未收到客户端连接之前，不运行后面的代码）；Client端比较简单（见程序第8行），创建一个Socket对象就OK了；
 2 为Socket配置信息发送和接收者，服务端程序代码见25、26行，客户端见12、13行；
 3 开始进行信息传递，代码见第29-36行（服务端）和15-22行（客户端），服务端运行到第30行is.readLine()等待socket的输入流，进入等待状态，与此同时客户端运行到第17行sin.readLine()等待用户输入，例如用户输入&#8217;aa&#8217;并回车，则程序执行到第20行is.readLine()（第20行）进入等待socket输入流状态，同时服务端收到了客户端os.flush()发送的信息并打印出来（第30行），得到用户输入（第32行）后向客户端发送（第35行），本次通信完成，客户端得到了socket的输出流后打印出来（第20行），本次通信完成。以上就此一次完整的do while循环内容。
 4 通信结束，关闭Socket，见第37-46行（服务端）和24-31行（客户端）。</p>

<p>[1] 陈明：Java语言程序设计，清华大学出版社，2009.6</p>

<p> TalkServer.java（服务端程序）
01 import java.io.<em>;
02 import java.net.</em>;
03
04 public class TalkServer {
05
06 public static void main(String[] args) {
07 try{
08  ServerSocket server = null;
09  try{
10  server = new ServerSocket(4700);
11  System.out.println(&ldquo;Server Started.&rdquo;);
12  }
13  catch(Exception e){
14  System.out.println(&ldquo;Can not listen to:&rdquo;+e);
15  }
16  Socket socket = null;
17  try{
18  socket = server.accept();
19  System.out.println(&ldquo;Connected to Client.&rdquo;);
20  }
21  catch(Exception e){
22  System.out.println(&ldquo;Error:&rdquo;+e);
23  }
24  String line;
25  BufferedReader is = new BufferedReader(new InputStreamReader(socket.getInputStream()));
26  PrintWriter os = new PrintWriter(socket.getOutputStream());
27  BufferedReader sin = new BufferedReader(new InputStreamReader(System.in));
28  System.out.println();
29  do{
30  System.out.println(&ldquo;Client &rdquo;+is.readLine());
31  System.out.println(&ldquo;To Client:&rdquo;);
32  line = sin.readLine();
33  System.out.println();
34  os.println(line);
35  os.flush();
36  } while(! line.equals(&ldquo;bye&rdquo;));
37  os.close();
38  is.close();
39  socket.close();
40  server.close();
41 }
42 catch (Exception e){
43  System.out.println(&ldquo;Error:&rdquo;+e);
44 }
45 }
46 }
 TalkClient.java（客户端程序）
01 import java.io.<em>;
02 import java.net.</em>;
03
04 public class TalkClient {
05
06 public static void main(String[] args) {
07 try {
08 Socket socket = new Socket(&ldquo;127.0.0.1&rdquo;,4700);
09 System.out.println(&ldquo;Connected to Server.&rdquo;);
10 System.out.println();
11 BufferedReader sin = new BufferedReader(new InputStreamReader(System.in));
12 PrintWriter os = new PrintWriter(socket.getOutputStream());
13 BufferedReader is = new BufferedReader(new InputStreamReader(socket.getInputStream()));
14 String readline;
15 do{
16  System.out.print(&ldquo;To Server:&rdquo;);
17  readline = sin.readLine();
18  os.println(readline);
19  os.flush();
20  System.out.println(&ldquo;Server says:&rdquo;+is.readLine());
21  System.out.println();
22 }
23 while (! readline.equals(&ldquo;bye&rdquo;));
24 os.close();
25 is.close();
26 }
27 catch(Exception e){
28 System.out.println(&ldquo;Error&rdquo;+e);
29 }
30 }
31 }</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/05/06/113556/">TotalCMD 7.5常用快捷键</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2010-05-06T11:35:56+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2010</span></span> <span class='time'>11:35 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>wincmd.ini文件中的[Shortcuts]一节下面是默认和用户定义的快捷键，可以通过修改这个文件设置TotalCmd的快捷键。</p>

<p>Ctrl + Up: 激活命令行，按esc关闭命令行；</p>

<p>shift + f4：新建一个文件
shift + f12：同步文件夹
alt + e：跳转到【我的电脑】
alt + r：跳转到【网上邻居】，下面有【删除程序】等
alt + w：跳转到【桌面】</p>

<p>alt + d: 编辑当前路径；</p>

<h2>：解压选定文件到当前目录下（alt+F9是解压到对面窗口） </h2>

<p>次常用快捷键：
alt + a：文件夹是否也按时间排序</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/05/05/102159/">Linux常用命令笔记</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2010-05-05T10:21:59+08:00'><span class='date'><span class='date-month'>May</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2010</span></span> <span class='time'>10:21 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><p>apt-get install/remove 安装/卸载软件；* cat 显示文本文件；</p></li>
<li><p>aspell 交互式拼写检查命令；</p></li>
<li><p>basename 两种用法：1. 去掉路径，返回文件名：basename /foo/bar -> bar；2. 去掉后缀，返回文件名：basename foo.bar .bar -> foo</p></li>
<li><p>cat 显示文件内容，例如&#8221;cat /proc/cpuinfo&#8221;可以查看CPU信息；有用的几个选项：-A: 显示不可见字符；-n显示行号，-s将相邻的多个空行合并为一个空行（只针对显示内容，不影响原文件内容）；</p></li>
<li><p>cd 改变目录；</p></li>
<li><p>chmod 修改文件属性，chmod user/group/other/all +/- read/write/execute filename, 例如chmod u+x file1是只给file1的user赋予执行权限；参考<a href="https://www.washington.edu/computing/unix/permissions.html">How to Set File Permissions Using `chmod&#8217;</a></p></li>
<li><p>chown 变更文件（或目录）的拥有者（或所属群组），例如root用户执行&#8221;chown godu:root -R ./ArtifactRepo&#8221;表示将当前目录下的ArtifactRepo目录及子目录所有权变更给godu用户和root用户组；</p></li>
<li><p>comm 比较文件，适于比较短的文件间做比较；</p></li>
<li><p>cp 拷贝文件；cp -r src_folder dst_folder 拷贝目录；</p></li>
<li><p>cut 截取文件每一行中的一部分，&#8221;-c&#8221;以字符为单位，&#8221;-f&#8221; 以域为单位（要求以tab为分隔符，空格无效）；&#8221;-d&#8221;指定域的分隔符；</p></li>
<li><p>date 显示系统日期和时间，使用-s参数可以设置日期和时间：date -s &ldquo;2 OCT 2006 18:00:00&rdquo;</p></li>
<li><p>df 显示磁盘使用情况，例如&#8221;df -h $HOME&#8221;是显示用户主目录的已用和可用的磁盘空间；</p></li>
<li><p>diff 比较两个文件或者目录，&#8221;-c&#8221;采用context格式，&#8221;-u&#8221;采用unified格式；</p></li>
<li><p>dmidecode 显示硬件设备信息；</p></li>
<li><p>dpkg 包管理，dpkg -l 列出所有已安装包；dpkg -l <package_name> 查询<package_name>的情况（是否安装，版本等）；dpkg -i 安装包；dpkg -r 卸载包；dpkg -P 完全卸载（purge）；</p></li>
<li><p>du -sh <folderName>: 查看文件夹占用的磁盘空间大小(s stands for summary, h stands for human readable），要打印某目录下所有项目（目录和文件）尺寸汇总：du -sh *，如果只打印目录：du -h &ndash;max-depth=1 <folderName>；将以上汇总按尺寸大小升序（从小到大）排列：du -s * | sort -n，降序排列：du -s * | sort -rn (r stands for reverse)，排序时不要加-h选项（它会导致排序错误，例如5M会被排在6k之前）；List largest 10 folders in current folder: <code>du -s *|sort -rn|head</code></p></li>
<li><p>env 列出环境变量</p></li>
<li><p>exit 退出；</p></li>
<li><p>expand 将文件中的tab转换为spaces;</p></li>
<li><p>export 将变量定义为环境变量（仅用于bash，格式为export VAR_NAME=var_value）；</p></li>
<li><p>find 查找文件，最常用格式：find <path> -name <file_name>，例如查找当前目录下名为test的文件和目录：find . -name test，详见 Linux查找文件命令find</p></li>
<li><p>free 查看系统memory使用情况，第一行（Mem）是考虑了内核缓冲后的使用率，第二行（&#8221;-/+ buffer/cache&#8221;）才是软件使用的内存；</p></li>
<li><p>genisoimage 将光盘制作为ISO文件，类似的还有dvdbackup，但需要安装，用dd也可以，但据说可能会出错，因为没有错误校验；</p></li>
<li><p>grep 从文件中查找字符串，grep -c &ldquo;<regex>&#8220;表示计算<regex>出现的次数，参考笔记&rdquo; Replace a String in Multiple Files in a Directory on Linux &ldquo;；</p></li>
<li><p>gzip/gunzip 压缩/解压缩gz文件；</p></li>
<li><p>hdparm 获取或者设置硬件信息；</p></li>
<li><p>hwinfo 类似于lshw, Ubuntu上需要安装：apt-get install hwinfo, 内容十分庞杂，或者叫详细；</p></li>
<li><p>inxi -Fx 显示易于阅读的设备信息，格式最易于阅读；</p></li>
<li><p>iostat 显示系统磁盘当前的IO状况（Ubuntu，CentOS支持，Red Hat不支持）</p></li>
<li><p>ip 查询IP相关信息，<code>ip addr</code>=<code>ifconfig</code>, 其他还有<code>ip route</code> 和 <code>ip link</code>;</p></li>
<li><p>less <filename> 查看文本文件内容，或者压缩文件（如zip, tar.gz, jar, war等）的内部结构，操作类似于只读版vi，如用/查找，j, k, gg, G浏览等；</p></li>
<li><p>ln 创建文件链接（link），一般创建的是软链接（symbolic link），在target_dir目录下创建src_file1，src_file2等文件的软链接：ln -s src_file1 src_file2 &hellip; [target_dir]，最常用的格式是在目标目录下运行&#8221;ln -s src_file&#8221;，就在当前目录下创建了一个与src_file同名的软链接（src_file可以是绝对路径或者相对路径）, or give the link a new name: cd $target_dir; ln -s /source/to/link new_link_name</p></li>
<li><p>ls 显示当前目录下内容，可用选项：-d: 显示目录（而不是目录中的内容）；-R: 显示所有子目录中的内容，类似于tree，但不写成树状；-m:目录项之间用逗号做分隔符（而不是换行符），主要用于向其他程序做管道输入；</p></li>
<li><p>lsb_release -a 显示操作系统的distro ID和版本号，而不仅是uname提供的内核情况，此指令适用于Ubuntu，CentOS和Redhat，Redhat还可以用&#8221;cat /etc/redhat-release&#8221;查看distro ID；</p></li>
<li><p>lsblk -f 显示块设备信息，用于确定未mount的USB设备卷标、硬盘分区信息等；</p></li>
<li><p>lscpu 显示CPU相关信息；</p></li>
<li><p>lshw 列出硬件信息，比hwinfo精炼一些；</p></li>
<li><p>lsof 列出打开的文件，-p可以指定某个进程打开的文件，-u指定用户打开的文件，-c某个命令打开的文件，-i显示打开的网络端口，-i :22显示谁连接了22端口，-i tcp显示所有打开的TCP连接，-a -u bvt -i显示bvt用户打开的所有网络端口，其中&#8221;-a&#8221;表示后面的&#8221;-u bvt&#8221;与&#8221;-i&#8221;两个参数间是AND关系；
Ref: <a href="http://www.catonmat.net/blog/unix-utilities-lsof/">A Unix Utility You Should Know About: lsof</a> and <a href="http://www.ibm.com/developerworks/aix/library/au-lsof.html">Finding open files with lsof</a></p></li>
<li><p>lspci 显示PCI硬件设备信息，为Gentoo等Linux内核内核安装驱动时有用；</p></li>
<li><p>lsusb 显示USB总线信息；</p></li>
<li><p>mkdir 新建文件夹，-p指令可以用来建立多级目录，配合{}，可以一次建立一个目录树，例如&#8221;mkdir -p godu/{bin/{bin1,bin2},lib/{lib1,lib2}}&ldquo;可以建立一个3层目录树（用tree或者ls -R指令查看结果）；</p></li>
<li><p>more 分屏显示文件内容；</p></li>
<li><p>mount 用来挂载设备，如果没有参数则显示当前已挂载的设备；</p></li>
<li><p>mpstat 显示系统cpu当前状态（CentOS和Redhat支持）</p></li>
<li><p>netstat 显示某个进程使用了哪个端口，或者某个端口被哪个进程使用，例如&#8221;netstat -tupln|grep :1527&#8221;可以查询所有包含1527的进程-端口关系；</p></li>
<li><p>rm 删除文件（和目录），例如删除当前目录下有一个tcp_rpc子目录，删除其中所有.gitignore文件（包括所有子目录）：&#8221;rm -ri tcp_rpc/<em>*/.git</em>&ldquo;，其中选项r表示包含所有子目录，i表示删除前询问；</p></li>
<li><p>rm -r folder_name 删除目录（如果子目录很多需要手工确认删除，可以用rm -rfv强制删除）；</p></li>
<li><p>passwd 修改密码；</p></li>
<li><p>paste 将多个文件的对应行连接在一起，例如paste -d &lsquo;-&rsquo; file1 file2将file1的第一行与file2的第一行以&#8217;-&lsquo;连接，后面各行依此类推；</p></li>
<li><p>pgrep 根据指定规则找出进程PID，相当于&#8221;ps -ef| grep &hellip;&ldquo;，-l列出进程名，-lf列出完整进程名；</p></li>
<li><p>pkill 关闭符合指定规则的PID，相当于&#8221;pgrep &hellip;|xargs kill&#8221;；</p></li>
<li><p>ps 显示进程信息；</p></li>
<li><p>pwdx [PID] 显示[PID]指定进程的当前工作目录，可以先用ps命令查到进程的PID，再用这个命令找工作目录；</p></li>
<li><p>rsync: rsync [options] src dst,</p>

<ul>
<li><p>&ldquo;-r&rdquo;: recursive, if src is a directory, &ldquo;rsync -r src dst&rdquo; means &ldquo;src&rdquo; itself with all things in it will be copied to dst, while &ldquo;rsync -r src/ dst&rdquo; will copy all things under &ldquo;src&rdquo; except &ldquo;src&rdquo; itself to &ldquo;dst&rdquo;;</p></li>
<li><p>&ldquo;-C&rdquo;: If you want avoid copy &ldquo;.svn&rdquo; or &ldquo;.git&rdquo; folder;</p></li>
<li><p>&ldquo;-u&rdquo; means update, if the file in dst is newer than that in src, it will not be copied;</p></li>
<li><p>&ldquo;-a&rdquo; means archive, keep the meta data (modify date and time, etc) of src files when copy, equals to &ldquo;-rlptgoD&rdquo;;</p></li>
<li><p>&ldquo;-t&rdquo; keep the modification time of original files;</p></li>
<li><p>&ldquo;-v&rdquo; means verbose;</p></li>
<li><p>&ldquo;&ndash;delete&rdquo; means delete files in destination folder which not exist in source folder;</p></li>
<li><p>&ldquo;-p&rdquo; means keep permissions between src and dst;</p></li>
<li><p>&ldquo;-l&rdquo; copy symlinks as symlinks;</p></li>
</ul>
</li>
</ul>


<p>&ldquo;r&rdquo; means recursive (including subdirs); t meas preserve modification time of the files; v means verbose; u means update, if the file in dst is newer than that in src, it will not be copied;</p>

<ul>
<li><p>script <file_name> 开始将屏幕输出记录到<file_name>中，输入exit结束日志记录；</p></li>
<li><p>setenv csh中定义环境变量，格式为setenv VAR_NAME var_value（与bash的export不同，变量名与值之间是空格而非等号）；</p></li>
<li><p>sort 以行为单位排序，&#8221;-n&#8221; 数字排序，例如&#8221;du -s <target_path> | sort -n&#8221;可以按文件夹大小排序；&#8221;-k&#8221;指定排序的项，例如下面需要对多个文件夹（Common, Element, Service）下的子目录汇总后按文件名排序，由于文件名是第9项（默认以空格或者tab为分割符，可以用&#8221;-t&#8221;指定其他分隔符），所以sort的选项设置为&#8221;-k 9,9&#8221;：</p>

<p>  drwxrwxr-x 7 bvt bvt 4096 Nov 12 10:24 datasource_core</p>

<p>  $ ll Common Element Service | sort -k 9,9</p></li>
</ul>


<p>sort支持用多个-k选项对多个域做不同种类的排序，下面的命令首先对第一个域做字母排序，然后对第二个域做数字排序：</p>

<pre><code>sort -k 1,1 -k 2n distros.txt
</code></pre>

<ul>
<li><p>source .profile 载入环境变量；</p></li>
<li><p>stat 显示文件详细信息</p></li>
<li><p>su 参考 Switch User Command in Linux</p></li>
<li><p>sudo passwd 在新装好系统中为root设置密码；</p></li>
<li><p>tar -zxvf或者gzip -d加tar -xvf解压缩；</p></li>
<li><p>tee 将stdin的内容同时重定向到stdout和文件中：ls /usr/bin|tee ls.txt|grep zip</p></li>
<li><p>time 计算程序运行时间，输出中的total值是时钟时间，还有一个/usr/bin/time -p指令输出的&#8221;real&#8221;值是实际的时钟时间；实例见 Calculate PI in 3 Languages Dynamically ；</p></li>
<li><p>top 具体功能以及与prstat的关系待查；</p></li>
<li><p>touch 更改文件的最后修改时间，&#8221;-r <filename>&ldquo;：设置为<filename>的时间；&rdquo;-d <timeString>&ldquo;：从字符串读取时间，可以是相对时间，这二者连用，可以实现“将A文件的时间设为比B文件早两天”这样的效果：</p>

<p>  touch -r fileB -d &lsquo;-2 days&rsquo; fileA</p></li>
<li><p>tr 字符变换，例如将多行文本汇总到一行，以逗号分隔：cat <file_name> | tr &lsquo;\n&rsquo; &lsquo;,&rsquo;</p></li>
<li><p>tree 用树状结构显示文件夹，-L 3表示只显示最上面3层目录；-d表示只显示目录，不显示文件；</p></li>
<li><p>type 显示命令类型，有shell builtin（如type自身）,shell function（如cd），以及外部命令，显示命令文件路径；</p></li>
<li><p>uptime 系统已经运行的时间、用户数、CPU负载量，与top指令的第一行输出相同；</p></li>
<li><p>whereis 查找可执行文件和文档的位置，例如linux上无法执行ifconfig时用whereis ifconfig可以找到这个命令所在的路径；</p></li>
<li><p>which 显示命令在PATH环境变量中第一个出现的位置，尤其适用于一个命令在PATH中有多个版本，可以用which确定当前执行版本的完整路径；</p></li>
<li><p>who: list all users logged onto the host</p></li>
<li><p>whois: get the owner information of a domain, for example: whois boco.com.cn</p></li>
<li><p>xargs</p></li>
<li><p>xxd: 以16进制显示文件内容，与UltraEdit的Hex模式类似；</p></li>
<li><p>zip: zip <file_name> -r <folder_name></p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/04/23/083909/">“柴油机总体分析系统”开发手记</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2010-04-23T08:39:09+08:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>23</span><span class='date-suffix'>rd</span>, <span class='date-year'>2010</span></span> <span class='time'>8:39 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>该项目是应贾德文要求，做一个后端数值计算＋前端GUI实现，要求开发工具兼具较强的数值计算能力（尤其是矩阵和向量计算）、易用性（不需要内存、指针、堆栈、消息等专门知识）、用户图形界面（GUI）开发和程序打包（生成单一exe文件）功能。备选方案有pyhton、matlab和scilab，matlab是商业软件，体积庞大，GUI和打包比较麻烦，scilab数值计算功能一般，语法比较独特，GUI采用Tcl实现，好像也没有打包功能，而python平台在这方面表现最好，numpy模块的数值计算功能强大，GUI设计方面，简单界面可选Tkinter，复杂的可选wxPython，打包用py2exe模块，因此本项目最终选择在WinXP + python2.5平台上完成。 tkinter的界面设计基本方法：多层frame嵌套；
一般是两句定义一个控件，第一句定义控件特征，第二句定义放置方法，Label和Button可实现单语句定义；
向量数字的格式化输出，同时转化为长度固定的字符串： Python中[for ii in aa]的强大功能：见附件的第212、213行（给resMtx幅值的语句，在表达式中使用for语句）； Text的tab控制输出格式：格式字符串也可实现对齐，但tab stop有4种对齐方式，功能更强； GUI字体的设置方法：定义专门的字体设置字符串； 中文GUI界面的编码问题：在文件头加上：# -<em>- coding:utf-8 -</em>-，指明用utf8编码； CheckBox的判断： 界面上取得的字符串转化为数组，进行数学运算后表现在界面上：
from numpy import *
from Tkinter import *
def solve1():
 resStr = inp_txt.get(&lsquo;1.0&rsquo;,END)
 bb = fromstring(resStr,&rsquo;d&#8217;,-1,&lsquo; &rsquo;).reshape(3,-1)
 print type(bb)
 print bb.shape
 out_txt.insert(&lsquo;1.0&rsquo;, transpose(bb))
root = Tk()
top = Frame(root)
top.pack(side=&lsquo;top&rsquo;)
inp_txt = Text(top, font=(&lsquo;Times&rsquo;,12),height=5,width=30)
inp_txt.insert(&lsquo;1.0&rsquo;,&lsquo;12 23\n34 45\n34.5 98.234&rsquo;)
inp_txt.pack(side=&lsquo;top&rsquo;)
Button(top, text=&lsquo;solve&rsquo;, command=solve1).pack(side=&lsquo;top&rsquo;,padx=40)
out_txt = Text(top, font=(&lsquo;Times&rsquo;,12),height=5,width=30)
out_txt.pack(side=&lsquo;top&rsquo;)
root.mainloop()
其他python编程实践：单句代码的折行、多句代码放在一行；pass语句的作用；</p>

<p>下面是Anova.py文件内容：
 # -<em>- coding:utf-8 -</em>-
 from Tkinter import Tk, Frame, LabelFrame, Label, Entry, Text, Button, \
  IntVar, Checkbutton, X, CENTER, NUMERIC, END
 from numpy import zeros, transpose, fromstring, reshape
 import rwMtx as rwm
 from tkMessageBox import showwarning</p>

<p> def Anova7(schMtx, calcMtx):
  k = 7 # total number of factors
  m = 3 # total number of levels
  n = 18 # total number of experiments
  r = n/m
  # here add the format check
  T = sum(calcMtx)
  CT = T<strong>2/n
  QT = sum(calcMtx</strong>2)
  ST = QT - CT
  K = zeros((m ,k))
  K[0,0] = sum(calcMtx[0:3]) + sum(calcMtx[9:12])
  K[1,0] = sum(calcMtx[3:6]) + sum(calcMtx[12:15])
  K[2,0] = sum(calcMtx[6:9]) + sum(calcMtx[15:18])
  K[0,1] = calcMtx[0]+calcMtx[3]+calcMtx[6]+calcMtx[9]+calcMtx[12]+calcMtx[15]
  K[1,1] = calcMtx[1]+calcMtx[4]+calcMtx[7]+calcMtx[10]+calcMtx[13]+calcMtx[16]
  K[2,1] = calcMtx[2]+calcMtx[5]+calcMtx[8]+calcMtx[11]+calcMtx[14]+calcMtx[17]
  K[0,2] = calcMtx[0]+calcMtx[3]+calcMtx[8]+calcMtx[10]+calcMtx[14]+calcMtx[16]
  K[1,2] = calcMtx[1]+calcMtx[4]+calcMtx[6]+calcMtx[11]+calcMtx[12]+calcMtx[17]
  K[2,2] = calcMtx[2]+calcMtx[5]+calcMtx[7]+calcMtx[9]+calcMtx[13]+calcMtx[15]
  K[0,3] = calcMtx[0]+calcMtx[5]+calcMtx[6]+calcMtx[10]+calcMtx[13]+calcMtx[17]
  K[1,3] = calcMtx[1]+calcMtx[3]+calcMtx[7]+calcMtx[11]+calcMtx[14]+calcMtx[15]
  K[2,3] = calcMtx[2]+calcMtx[4]+calcMtx[8]+calcMtx[9]+calcMtx[12]+calcMtx[16]
  K[0,4] = calcMtx[0]+calcMtx[5]+calcMtx[7]+calcMtx[11]+calcMtx[12]+calcMtx[16]
  K[1,4] = calcMtx[1]+calcMtx[3]+calcMtx[8]+calcMtx[9]+calcMtx[13]+calcMtx[17]
  K[2,4] = calcMtx[2]+calcMtx[4]+calcMtx[6]+calcMtx[10]+calcMtx[14]+calcMtx[15]
  K[0,5] = calcMtx[0]+calcMtx[4]+calcMtx[8]+calcMtx[11]+calcMtx[13]+calcMtx[15]
  K[1,5] = calcMtx[1]+calcMtx[5]+calcMtx[6]+calcMtx[9]+calcMtx[14]+calcMtx[16]
  K[2,5] = calcMtx[2]+calcMtx[3]+calcMtx[7]+calcMtx[10]+calcMtx[12]+calcMtx[17]
  K[0,6] = calcMtx[0]+calcMtx[4]+calcMtx[7]+calcMtx[9]+calcMtx[14]+calcMtx[17]
  K[1,6] = calcMtx[1]+calcMtx[5]+calcMtx[8]+calcMtx[10]+calcMtx[12]+calcMtx[15]
  K[2,6] = calcMtx[2]+calcMtx[3]+calcMtx[6]+calcMtx[11]+calcMtx[13]+calcMtx[16]
  Q = zeros(k)
  for i in range(k):
   Q[i] = sum(K[:,i]**2)/r
  S = Q - CT
  Se = ST - sum(S) # error of S
  dofLevel = m - 1 # degree of freedom
  dofSum = n - 1
  dofErr = dofSum - dofLevel * k
  sms = S / dofLevel # sum of mean square
  errSms = Se / dofErr
  F0 = sms / errSms
  Ap = (F0 - F0.min())/((F0.max() - F0.min())/0.9) + 0.1
  A = (Ap/sum(Ap)).transpose()
  R = zeros((k,m))
  for i in range(k):
   R[i,:] = (schMtx[i,:] - schMtx[i,:].min())/((schMtx[i,:].max() - schMtx[i,:].min())/0.9) + 0.1
  B = zeros(m)
  for i in range(m):
   dd = zeros(k)
   for j in range(k):
    dd[j] = min(A[j],R[j,i])
   B[i] = max(dd)
  min_index = B.argmin() # optimization result
  # assemble the return value:
  return B, schMtx[:,min_index]</p>

<p> def Anova5(calcMtx):
  k = 5 # total number of factors
  m = 3 # total number of levels
  n = 18 # total number of experiments
  r = n/m
  # here add the format check
  T = sum(calcMtx)
  CT = T<strong>2/n
  QT = sum(calcMtx</strong>2)
  ST = QT - CT
  K = zeros((m ,k))
  K[0,0] = sum(calcMtx[0:3]) + sum(calcMtx[9:12])
  K[1,0] = sum(calcMtx[3:6]) + sum(calcMtx[12:15])
  K[2,0] = sum(calcMtx[6:9]) + sum(calcMtx[15:18])
  K[0,1] = calcMtx[0]+calcMtx[3]+calcMtx[6]+calcMtx[9]+calcMtx[12]+calcMtx[15]
  K[1,1] = calcMtx[1]+calcMtx[4]+calcMtx[7]+calcMtx[10]+calcMtx[13]+calcMtx[16]
  K[2,1] = calcMtx[2]+calcMtx[5]+calcMtx[8]+calcMtx[11]+calcMtx[14]+calcMtx[17]
  K[0,2] = calcMtx[0]+calcMtx[3]+calcMtx[8]+calcMtx[10]+calcMtx[14]+calcMtx[16]
  K[1,2] = calcMtx[1]+calcMtx[4]+calcMtx[6]+calcMtx[11]+calcMtx[12]+calcMtx[17]
  K[2,2] = calcMtx[2]+calcMtx[5]+calcMtx[7]+calcMtx[9]+calcMtx[13]+calcMtx[15]
  K[0,3] = calcMtx[0]+calcMtx[5]+calcMtx[7]+calcMtx[11]+calcMtx[12]+calcMtx[16]
  K[1,3] = calcMtx[1]+calcMtx[3]+calcMtx[8]+calcMtx[9]+calcMtx[13]+calcMtx[17]
  K[2,3] = calcMtx[2]+calcMtx[4]+calcMtx[6]+calcMtx[10]+calcMtx[14]+calcMtx[15]
  K[0,4] = calcMtx[0]+calcMtx[4]+calcMtx[8]+calcMtx[11]+calcMtx[13]+calcMtx[15]
  K[1,4] = calcMtx[1]+calcMtx[5]+calcMtx[6]+calcMtx[9]+calcMtx[14]+calcMtx[16]
  K[2,4] = calcMtx[2]+calcMtx[3]+calcMtx[7]+calcMtx[10]+calcMtx[12]+calcMtx[17]
  Q = zeros(k)
  for i in range(k):
   Q[i] = sum(K[:,i]**2)/r
  S = Q - CT
  Se = ST - sum(S) # error of S
  dofLevel = m - 1 # degree of freedom
  dofSum = n - 1
  dofErr = dofSum - dofLevel * k
  sms = S / dofLevel # sum of mean square
  errSms = Se / dofErr
  F0 = sms / errSms
  optLevel = K.argmin(0)+1
  resMtx = {&lsquo;factors&rsquo;:[&lsquo;A&rsquo;, &lsquo;B&rsquo;, &lsquo;C&rsquo;, &rsquo;D&#8217;, &lsquo;E&rsquo;, &lsquo;Error&rsquo;, &lsquo;Sum&rsquo;], &rsquo;S&#8217;:[&lsquo;%10.5f&rsquo;%ii for ii in S], &lsquo;Se&rsquo;:&lsquo;%10.5f&rsquo;%Se, &lsquo;ST&rsquo;:&lsquo;%10.5f&rsquo;%ST,\
   &lsquo;dofLevel&rsquo;:dofLevel, &lsquo;dofErr&rsquo;:dofErr, &lsquo;dofSum&rsquo;:dofSum, &lsquo;sms&rsquo;:[&lsquo;%10.5f&rsquo;%ii for ii in sms], &lsquo;errSms&rsquo;:&lsquo;%10.5f&rsquo;%errSms, &lsquo;F0&rsquo;:[&lsquo;%10.5f&rsquo;%ii for ii in F0], &lsquo;optLevel&rsquo;:optLevel}
  return resMtx</p>

<p> def Anova4(calcMtx):
  k = 4 # total number of factors
  m = 3 # total number of levels
  n = 9 # total number of experiments
  r = n/m
  # here add the format check
  T = sum(calcMtx)
  CT = T<strong>2/n
  QT = sum(calcMtx</strong>2)
  ST = QT - CT
  K = zeros((m ,k))
  K[0,0] = calcMtx[0]+calcMtx[1]+calcMtx[2]
  K[1,0] = calcMtx[3]+calcMtx[4]+calcMtx[5]
  K[2,0] = calcMtx[6]+calcMtx[7]+calcMtx[8]
  K[0,1] = calcMtx[0]+calcMtx[3]+calcMtx[6]
  K[1,1] = calcMtx[1]+calcMtx[4]+calcMtx[7]
  K[2,1] = calcMtx[2]+calcMtx[5]+calcMtx[8]
  K[0,2] = calcMtx[0]+calcMtx[5]+calcMtx[7]
  K[1,2] = calcMtx[1]+calcMtx[3]+calcMtx[8]
  K[2,2] = calcMtx[2]+calcMtx[4]+calcMtx[6]
  K[0,3] = calcMtx[0]+calcMtx[4]+calcMtx[8]
  K[1,3] = calcMtx[1]+calcMtx[5]+calcMtx[6]
  K[2,3] = calcMtx[2]+calcMtx[3]+calcMtx[7]
  Q = zeros(k)
  for i in range(k):
   Q[i] = sum(K[:,i]**2)/r
  S = Q - CT
  Se = min(S) # error of S
  dofLevel = m - 1 # degree of freedom
  dofSum = n - 1
  dofErr = dofLevel
  sms = S / dofLevel # sum of mean square
  errSms = Se / dofErr
  F0 = sms / errSms
  optLevel = K.argmin(0)+1
  resMtx = {&lsquo;factors&rsquo;:[&lsquo;A&rsquo;, &lsquo;B&rsquo;, &lsquo;C&rsquo;, &rsquo;D&#8217;, &lsquo;Error&rsquo;, &lsquo;Sum&rsquo;], &rsquo;S&#8217;:[&lsquo;%10.5f&rsquo;%ii for ii in S], &lsquo;Se&rsquo;:&lsquo;%10.5f&rsquo;%Se, &lsquo;ST&rsquo;:&lsquo;%10.5f&rsquo;%ST,\
   &lsquo;dofLevel&rsquo;:dofLevel, &lsquo;dofErr&rsquo;:dofErr, &lsquo;dofSum&rsquo;:dofSum, &lsquo;sms&rsquo;:[&lsquo;%10.5f&rsquo;%ii for ii in sms], &lsquo;errSms&rsquo;:&lsquo;%10.5f&rsquo;%errSms, &lsquo;F0&rsquo;:[&lsquo;%10.5f&rsquo;%ii for ii in F0], &lsquo;optLevel&rsquo;:optLevel}
  return resMtx</p>

<p> def Anova3(calcMtx):
  k = 3 # total number of factors
  m = 3 # total number of levels
  n = 9 # total number of experiments
  r = n/m
  # here add the format check
  T = sum(calcMtx)
  CT = T<strong>2/n
  QT = sum(calcMtx</strong>2)
  ST = QT - CT
  K = zeros((m ,k))
  K[0,0] = calcMtx[0]+calcMtx[1]+calcMtx[2]
  K[1,0] = calcMtx[3]+calcMtx[4]+calcMtx[5]
  K[2,0] = calcMtx[6]+calcMtx[7]+calcMtx[8]
  K[0,1] = calcMtx[0]+calcMtx[3]+calcMtx[6]
  K[1,1] = calcMtx[1]+calcMtx[4]+calcMtx[7]
  K[2,1] = calcMtx[2]+calcMtx[5]+calcMtx[8]
  K[0,2] = calcMtx[0]+calcMtx[5]+calcMtx[7]
  K[1,2] = calcMtx[1]+calcMtx[3]+calcMtx[8]
  K[2,2] = calcMtx[2]+calcMtx[4]+calcMtx[6]
  Q = zeros(k)
  for i in range(k):
   Q[i] = sum(K[:,i]**2)/r
  S = Q - CT
  Se = ST - sum(S) # error of S
  dofLevel = m - 1 # degree of freedom
  dofSum = n - 1
  dofErr = dofSum - dofLevel * k
  sms = S / dofLevel # sum of mean square
  errSms = Se / dofErr
  F0 = sms / errSms
  optLevel = K.argmin(0)+1
  resMtx = {&lsquo;factors&rsquo;:[&lsquo;A&rsquo;, &lsquo;B&rsquo;, &lsquo;C&rsquo;, &lsquo;Error&rsquo;, &lsquo;Sum&rsquo;], &rsquo;S&#8217;:[&lsquo;%10.5f&rsquo;%ii for ii in S], &lsquo;Se&rsquo;:&lsquo;%10.5f&rsquo;%Se, &lsquo;ST&rsquo;:&lsquo;%10.5f&rsquo;%ST,\
   &lsquo;dofLevel&rsquo;:dofLevel, &lsquo;dofErr&rsquo;:dofErr, &lsquo;dofSum&rsquo;:dofSum, &lsquo;sms&rsquo;:[&lsquo;%10.5f&rsquo;%ii for ii in sms], &lsquo;errSms&rsquo;:&lsquo;%10.5f&rsquo;%errSms, &lsquo;F0&rsquo;:[&lsquo;%10.5f&rsquo;%ii for ii in F0], &lsquo;optLevel&rsquo;:optLevel}
  return resMtx</p>

<p> def Anova2(calcMtx):
  k = 2 # total number of factors
  m = 3 # total number of levels
  n = 9 # total number of experiments
  r = n/m
  # here add the format check
  T = sum(calcMtx)
  CT = T<strong>2/n
  QT = sum(calcMtx</strong>2)
  ST = QT - CT
  K = zeros((m ,k))
  K[0,0] = calcMtx[0]+calcMtx[1]+calcMtx[2]
  K[1,0] = calcMtx[3]+calcMtx[4]+calcMtx[5]
  K[2,0] = calcMtx[6]+calcMtx[7]+calcMtx[8]
  K[0,1] = calcMtx[0]+calcMtx[3]+calcMtx[6]
  K[1,1] = calcMtx[1]+calcMtx[4]+calcMtx[7]
  K[2,1] = calcMtx[2]+calcMtx[5]+calcMtx[8]
  Q = zeros(k)
  for i in range(k):
   Q[i] = sum(K[:,i]**2)/r
  S = Q - CT
  Se = ST - sum(S) # error of S
  dofLevel = m - 1 # degree of freedom
  dofSum = n - 1
  dofErr = dofSum - dofLevel * k
  sms = S / dofLevel # sum of mean square
  errSms = Se / dofErr
  F0 = sms / errSms
  optLevel = K.argmin(0)+1
  resMtx = {&lsquo;factors&rsquo;:[&lsquo;A&rsquo;, &lsquo;B&rsquo;, &lsquo;Error&rsquo;, &lsquo;Sum&rsquo;], &rsquo;S&#8217;:[&lsquo;%10.5f&rsquo;%ii for ii in S], &lsquo;Se&rsquo;:&lsquo;%10.5f&rsquo;%Se, &lsquo;ST&rsquo;:&lsquo;%10.5f&rsquo;%ST,\
   &lsquo;dofLevel&rsquo;:dofLevel, &lsquo;dofErr&rsquo;:dofErr, &lsquo;dofSum&rsquo;:dofSum, &lsquo;sms&rsquo;:[&lsquo;%10.5f&rsquo;%ii for ii in sms], &lsquo;errSms&rsquo;:&lsquo;%10.5f&rsquo;%errSms, &lsquo;F0&rsquo;:[&lsquo;%10.5f&rsquo;%ii for ii in F0], &lsquo;optLevel&rsquo;:optLevel}
  return resMtx</p>

<p> def F0_evaluate(input_array, factor_number):
  #F0数组显著性判断函数
  #print input_array
  if factor_number==5:
   F_005 = 4.74
   F_001 = 9.55
  elif factor_number==2:
   F_005 = 6.94
   F_001 = 18
  else:
   F_005 = 19
   F_001 = 99
  eval_res = []
  for theValue in input_array:
   theNumber = float(theValue)
   if theNumber>F_001: eval_res.append(&lsquo;<em>*&rsquo;)
   elif theNumber&lt;F_005: eval_res.append(&lsquo;-&rsquo;)
   else: eval_res.append(&lsquo;</em>&rsquo;)
  return eval_res</p>

<p> def solve_7():
  tStr = txt_sch.get(&lsquo;1.0&rsquo;,END)
  schemeMtx = transpose(fromstring(tStr,&rsquo;d&#8217;,-1,&lsquo; &rsquo;).reshape(3,-1))
  tStr = txt_expRes.get(&lsquo;1.0&rsquo;,END)
  calcResMtx = fromstring(tStr,&rsquo;d&#8217;,-1,&lsquo; &rsquo;)
  txt_optRes.delete(0, END)
  txt_optRes.insert(0, Anova7(schemeMtx, calcResMtx)[0])
  txt_optSch.delete(0, END)
  txt_optSch.insert(0, Anova7(schemeMtx, calcResMtx)[1])</p>

<p> def solve_2345():
  selected_item = chkb1.get()+chkb2.get()+chkb3.get()+chkb4.get()+chkb5.get()
  if selected_item == 5:
   calcResFile = open(&lsquo;data/expRes5.txt&rsquo;,&lsquo;r&rsquo;)
   calcResMtx = rwm.read(calcResFile)
   calcResFile.close()
   theRes = Anova5(calcResMtx)
   tt = &lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][0]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][0]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][0]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][0]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],5)[0]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][1]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][1]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][1]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][1]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],5)[1]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][2]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][2]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][2]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][2]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],5)[2]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][3]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][3]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][3]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][3]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],5)[3]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][4]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][4]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][4]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][4]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],5)[4]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][5]+&lsquo;\t&rsquo;+theRes[&lsquo;Se&rsquo;]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofErr&rsquo;])+&lsquo;\t&rsquo; +theRes[&lsquo;errSms&rsquo;]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][6]+&lsquo;\t&rsquo;+theRes[&lsquo;ST&rsquo;]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofSum&rsquo;])
   f3_res.delete(&lsquo;1.0&rsquo;, END)
   f3_res.insert(&lsquo;1.0&rsquo;, tt)
   txt_optLevel.delete(0, END)
   txt_optLevel.insert(0, theRes[&lsquo;optLevel&rsquo;])
  elif selected_item == 4:
   calcResFile = open(&lsquo;data/expRes4.txt&rsquo;,&lsquo;r&rsquo;)
   calcResMtx = rwm.read(calcResFile)
   calcResFile.close()
   theRes = Anova4(calcResMtx)
   tt = &lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][0]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][0]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][0]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][0]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],4)[0]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][1]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][1]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][1]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][1]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],4)[1]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][2]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][2]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][2]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][2]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],4)[2]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][3]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][3]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][3]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][3]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],4)[3]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][4]+&lsquo;\t&rsquo;+theRes[&lsquo;Se&rsquo;]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofErr&rsquo;])+&lsquo;\t&rsquo; +theRes[&lsquo;errSms&rsquo;]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][5]+&lsquo;\t&rsquo;+theRes[&lsquo;ST&rsquo;]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofSum&rsquo;])
   f3_res.delete(&lsquo;1.0&rsquo;, END)
   f3_res.insert(&lsquo;1.0&rsquo;, tt)
   txt_optLevel.delete(0, END)
   txt_optLevel.insert(0, theRes[&lsquo;optLevel&rsquo;])
  elif selected_item == 3:
   calcResFile = open(&lsquo;data/expRes3.txt&rsquo;,&lsquo;r&rsquo;)
   calcResMtx = rwm.read(calcResFile)
   calcResFile.close()
   theRes = Anova3(calcResMtx)
   tt = &lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][0]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][0]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][0]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][0]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],3)[0]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][1]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][1]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][1]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][1]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],3)[1]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][2]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][2]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][2]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][2]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],3)[2]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][3]+&lsquo;\t&rsquo;+theRes[&lsquo;Se&rsquo;]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofErr&rsquo;])+&lsquo;\t&rsquo; +theRes[&lsquo;errSms&rsquo;]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][4]+&lsquo;\t&rsquo;+theRes[&lsquo;ST&rsquo;]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofSum&rsquo;])
   f3_res.delete(&lsquo;1.0&rsquo;, END)
   f3_res.insert(&lsquo;1.0&rsquo;, tt)
   txt_optLevel.delete(0, END)
   txt_optLevel.insert(0, theRes[&lsquo;optLevel&rsquo;])
  elif selected_item == 2:
   calcResFile = open(&lsquo;data/expRes2.txt&rsquo;,&lsquo;r&rsquo;)
   calcResMtx = rwm.read(calcResFile)
   calcResFile.close()
   theRes = Anova2(calcResMtx)
   tt = &lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][0]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][0]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][0]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][0]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],2)[0]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][1]+&lsquo;\t&rsquo;+theRes[&rsquo;S&#8217;][1]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofLevel&rsquo;])+&lsquo;\t&rsquo; \
    +theRes[&lsquo;sms&rsquo;][1]+&lsquo;\t&rsquo;+theRes[&lsquo;F0&rsquo;][1]+&lsquo;\t&rsquo;+F0_evaluate(theRes[&lsquo;F0&rsquo;],2)[1]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][2]+&lsquo;\t&rsquo;+theRes[&lsquo;Se&rsquo;]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofErr&rsquo;])+&lsquo;\t&rsquo; +theRes[&lsquo;errSms&rsquo;]+&lsquo;\n&rsquo; \
    +&lsquo;\t&rsquo;+theRes[&lsquo;factors&rsquo;][3]+&lsquo;\t&rsquo;+theRes[&lsquo;ST&rsquo;]+&lsquo;\t&rsquo;+str(theRes[&lsquo;dofSum&rsquo;])
   f3_res.delete(&lsquo;1.0&rsquo;, END)
   f3_res.insert(&lsquo;1.0&rsquo;, tt)
   txt_optLevel.delete(0, END)
   txt_optLevel.insert(0, theRes[&lsquo;optLevel&rsquo;])
  else:
   showwarning(&lsquo;项目选择错误&rsquo;,&lsquo;请选择至少两项&rsquo;)</p>

<p> #===================== 界面设计 ===========================
 root = Tk()
 top = Frame(root)
 top.pack(side=&lsquo;top&rsquo;)
 #========定义字体============
 font_chs = (&lsquo;宋体&rsquo;, 12)
 font_eng = (&lsquo;Times&rsquo;, 12)
 #==========标题====================
 lbl_Title = Label(top, text=&lsquo;柴油机结构系统优化软件&rsquo;, font=(&lsquo;宋体&rsquo;, 16)).pack(side=&lsquo;top&rsquo;, padx=15, pady=10, ipadx=10, fill=X)
 #=============第1部分===============
 f1 = LabelFrame(top, text=&lsquo;柴油机总体参数&rsquo;, font=font_chs)
 f1_1 = Frame(f1, padx=10)
 Label(f1_1, text=&lsquo;功率：&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;)
 txt_power = Entry(f1_1, font=font_eng)
 txt_power.pack(side=&lsquo;left&rsquo;)
 f1_1.pack(side=&lsquo;left&rsquo;)</p>

<p> f1_2 = Frame(f1, padx=10)
 Label(f1_2, text=&lsquo;气缸数：&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;)
 txt_cyNo = Entry(f1_2, font=font_eng)
 txt_cyNo.pack(side=&lsquo;left&rsquo;)
 f1_2.pack(side=&lsquo;left&rsquo;)</p>

<p> f1_3 = Frame(f1, padx=10)
 Label(f1_3, text=&lsquo;冲程数：&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;)
 txt_strikeNo = Entry(f1_3, font=font_eng)
 txt_strikeNo.pack(side=&lsquo;left&rsquo;)
 f1_3.pack(side=&lsquo;left&rsquo;)</p>

<p> f1.pack(side=&lsquo;top&rsquo;, padx=15, pady=10, ipadx=10, ipady=10, fill=X)</p>

<p> #=============第2部分===============
 f2 = LabelFrame(top, text=&lsquo;柴油机本体结构参数评价及优化&rsquo;, font=font_chs)
 f2_1 = Frame(f2, pady = 10)
 f2_1_1 = Frame(f2_1, padx=1)
 Label(f2_1_1, text=&lsquo;方案：&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;)
 txt_sch = Text(f2_1_1, font=font_eng, height=3, width=40)
 txt_sch.pack(side=&lsquo;left&rsquo;)
 f2_1_1 .pack(side=&lsquo;left&rsquo;)
 f2_1_2 = Frame(f2_1, padx=10)
 Label(f2_1_2, text=&lsquo;试验结果：&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;)
 txt_expRes = Text(f2_1_2, font=font_eng, height=3, width=10)
 txt_expRes.pack(side=&lsquo;left&rsquo;)
 f2_1_2 .pack(side=&lsquo;left&rsquo;)
 Button(f2_1, text=&lsquo;参数分析&rsquo;, font=font_chs, command=solve_7).pack(side=&lsquo;left&rsquo;,padx=40)
 f2_1.pack(side=&lsquo;top&rsquo;)</p>

<p> f2_2 = Frame(f2, padx=1)
 f2_2_1 = Frame(f2_2, padx=10)
 Label(f2_2_1, text=&lsquo;评价结果：&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;)
 txt_optRes = Entry(f2_2_1, font=font_eng, bg=&lsquo;grey&rsquo;, width=32)
 txt_optRes.pack(side=&lsquo;left&rsquo;,anchor=&lsquo;c&rsquo;)
 f2_2_1.pack(side=&lsquo;left&rsquo;)</p>

<p> f2_2_2 = Frame(f2_2)
 Label(f2_2_2, text=&lsquo;优选方案：&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;)
 txt_optSch = Entry(f2_2_2, font=font_eng, bg=&lsquo;grey&rsquo;, width=32)
 txt_optSch.pack(side=&lsquo;left&rsquo;,anchor=&lsquo;c&rsquo;)
 f2_2_2.pack(side=&lsquo;left&rsquo;)
 f2_2.pack(side=&lsquo;top&rsquo;,anchor=&lsquo;w&rsquo;)
 f2.pack(side=&lsquo;top&rsquo;, padx=15, pady=5, ipadx=1, ipady=10, fill=X)</p>

<p> #=============第3部分===============
 f3 = LabelFrame(top, text=&lsquo;柴油机系统布置优化&rsquo;, font=font_chs)
 f3_top = Frame(f3)
 f3_1 = Frame(f3_top, padx=10)
 chkb1 = IntVar(); chkb2 = IntVar(); chkb3 = IntVar(); chkb4 = IntVar(); chkb5 = IntVar()
 chb_inlet = Checkbutton(f3_1, text=&lsquo;进排气系&rsquo;, font=font_chs, variable=chkb1)
 chb_inlet.pack(side=&lsquo;top&rsquo;, anchor=&lsquo;w&rsquo;)
 chb_lub = Checkbutton(f3_1, text=&lsquo;润滑系&rsquo;, font=font_chs, variable=chkb2)
 chb_lub.pack(side=&lsquo;top&rsquo;, anchor=&lsquo;w&rsquo;)
 chb_cool = Checkbutton(f3_1, text=&lsquo;冷却系&rsquo;, font=font_chs, variable=chkb3)
 chb_cool.pack(side=&lsquo;top&rsquo;, anchor=&lsquo;w&rsquo;)
 chb_start = Checkbutton(f3_1, text=&lsquo;起动系&rsquo;, font=font_chs, variable=chkb4)
 chb_start.pack(side=&lsquo;top&rsquo;, anchor=&lsquo;w&rsquo;)
 chb_turbo = Checkbutton(f3_1, text=&lsquo;增压器中冷装置&rsquo;, font=font_chs, variable=chkb5)
 chb_turbo.pack(side=&lsquo;top&rsquo;, anchor=&lsquo;w&rsquo;)
 f3_1.pack(side=&lsquo;left&rsquo;)
 f3_2 = Frame(f3_top, padx=10)
 Button(f3_2, text=&lsquo;求解&rsquo;, font=font_chs, command=solve_2345).pack(side=&lsquo;left&rsquo;)
 f3_2.pack(side=&lsquo;left&rsquo;)
 f3_3 = Frame(f3_top, padx=10)
 f3_3_1 = Frame(f3_3)
 Label(f3_3_1, text=&lsquo;方差来源&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;, anchor=&lsquo;w&rsquo;)
 Label(f3_3_1, text=&lsquo;偏差平方和&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;, padx=8)
 Label(f3_3_1, text=&lsquo;自由度&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;, padx=8)
 Label(f3_3_1, text=&lsquo;方差&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;, padx=25)
 Label(f3_3_1, text=&lsquo;F0值&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;, padx=20)
 Label(f3_3_1, text=&lsquo;显著性&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;, anchor=&lsquo;e&rsquo;, padx=4)
 f3_3_1.pack(side=&lsquo;top&rsquo;, fill=X, expand=1)
 f3_res = Text(f3_3, font=font_eng, bg=&lsquo;grey&rsquo;, height=7, width=65, tabs=(&lsquo;1c&rsquo;,CENTER,\
  &lsquo;3c&rsquo;,NUMERIC,&lsquo;5.5c&rsquo;,NUMERIC,&lsquo;7c&rsquo;,NUMERIC,&lsquo;9.2c&rsquo;,NUMERIC,&lsquo;11.5c&rsquo;,CENTER))
 f3_res.pack(side=&lsquo;top&rsquo;)
 f3_3.pack(side=&lsquo;left&rsquo;)
 f3_top.pack(side=&lsquo;top&rsquo;)</p>

<p> f3_bottom = Frame(f3, pady =10)
 Label(f3_bottom, text=&lsquo;优水平：&rsquo;, font=font_chs).pack(side=&lsquo;left&rsquo;)
 txt_optLevel = Entry(f3_bottom, font=font_eng, bg=&lsquo;grey&rsquo;, width=32)
 txt_optLevel.pack(side=&lsquo;left&rsquo;,anchor=&lsquo;c&rsquo;)
 f3_bottom.pack(side=&lsquo;top&rsquo;, anchor=&lsquo;e&rsquo;, ipadx=90)</p>

<p> f3.pack(side=&lsquo;top&rsquo;, padx=15, pady=10, ipadx=10, ipady=10, fill=X)</p>

<p> root.title(&lsquo;柴油机结构系统优化软件&rsquo;)
 root.mainloop()</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/04/14/113452/">由chm文件生成txt文件</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2010-04-14T11:34:52+08:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2010</span></span> <span class='time'>11:34 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><ol>
<li>将chm文件转为htm文件
ChmDecoder（正式名称为CHM Encoder），文件位置：E:\Software\chmdecoder\chmdecoder.exe</li>
<li>将htm文件转为txt文件
TextForever，文件位置：E:\Software\TextForever168\TextForever.exe
【Html->Text】标签页中点击【典型中文HTML】，不勾选【输出链接文字】</li>
<li>合并txt文件
TextForever【文件合并】标签页中，根据情况设置后【开始合并】。</li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/02/19/113320/">利用Python计算日期平移</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2010-02-19T11:33:20+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2010</span></span> <span class='time'>11:33 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>数码相机的日期如果不准，推算出正确的日期比较麻烦，下面的python代码可以解决这个问题，例如某张标记日期为2009年9月11日的照片，实际拍摄时间是2010年2月17日，那么标记时间是2009年7月1日的照片的实际拍摄时间是：
from datetime import date
delta = date(2010,2,17) - date(2009,9,11)
date(2009,7,1) + delta</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/99">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/97">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/11/03/171108/">Spark任务自动执行脚本</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/03/134818/">SparkR in Action</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/10/31/092340/">Customize Login Screen of LinuxMint 17</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/10/29/094400/">Xen on LinuxMint</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/10/28/182614/">DMShell Up and Running</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/leetschau">@leetschau</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'leetschau',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Li Chao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
