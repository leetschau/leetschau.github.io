
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dark Matter in Cyberspace</title>
  <meta name="author" content="Li Chao">

  
  <meta name="description" content="Four Paradigms of Decomposing Problems Procedural: C, Pascal, Unix shells;
Declarative: SQL;
Object-oriented: Smalltalk, Java;
Functional: Haskell; &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://leetschau.github.io/posts/35">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Dark Matter in Cyberspace" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Dark Matter in Cyberspace</a></h1>
  
    <h2>A note repository aims at Data Mining, Spark, Linux, Python.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:leetschau.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/02/111254/">FP vs OOP</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-12-02T11:12:54+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2013</span></span> <span class='time'>11:12 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Four Paradigms of Decomposing Problems</h1>

<ul>
<li><p>Procedural: C, Pascal, Unix shells;</p></li>
<li><p>Declarative: SQL;</p></li>
<li><p>Object-oriented: Smalltalk, Java;</p></li>
<li><p>Functional: Haskell;</p></li>
</ul>


<h1>Relations of FP and OOP</h1>

<p>&ldquo;Functional programming can be considered the opposite of object-oriented programming. Objects are little capsules containing some internal state along with a collection of method calls that let you modify this state, and programs consist of making the right set of state changes. Functional programming wants to avoid state changes as much as possible and works with data flowing between functions.&rdquo; &ndash;From <a href="http://docs.python.org/2/howto/functional.html">Functional Programming HOWTO</a></p>

<p>&ldquo;I think the lack of reusability comes in object-oriented languages, not in functional languages. Because the problem with object-oriented languages is they’ve got all this implicit environment that they carry around with them. You wanted a banana but what you got was a gorilla holding the banana and the entire jungle.&rdquo; &ndash;Joe Armstrong (the creator of Erlang) discussed in &ldquo;Coders At work&rdquo; about the reusability of Object-Oriented Programming.
To be fair, in my opinion it&rsquo;s not an intrinsic problems of OOP. You can write OOP code which is also functional, but certainly:
* Typical OOP tends to emphasize change of state in objects.
* Typical OOP tends to impose tight coupling between layers (which hinders modularization).
* Typical OOP mixes the concepts of identity and state.
* Mixture of data and code raises both conceptual and practical problems.
&ndash; <a href="http://code.google.com/p/tokland/wiki/RubyFunctionalProgramming">Ruby Functional Programming</a>
Rich Hickey, the creator of Clojure (a functional Lisp-dialect for the JVM), discusses state, values and identity in this <a href="http://www.infoq.com/presentations/Value-Identity-State-Rich-Hickey">excellent talk</a>.</p>

<h1>If we can do functional programming with Python, do we need a specific functional programming language?</h1>

<p><a href="http://programmers.stackexchange.com/questions/42986/if-we-can-do-functional-programming-with-python-do-we-need-a-specific-functiona">http://programmers.stackexchange.com/questions/42986/if-we-can-do-functional-programming-with-python-do-we-need-a-specific-functiona</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/29/172706/">Manipulate Sonarqube Database in PostgreSQL With JDBC</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-11-29T17:27:06+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>29</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>5:27 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Use the following Java class to manipulate Sonarqube database in postgresql.</p>

<h1>ManipulateSonarPost.java</h1>

<p> import java.sql.Connection;
 import java.sql.DatabaseMetaData;
 import java.sql.DriverManager;
 import java.sql.ResultSet;
 import java.sql.SQLException;
 import java.sql.Statement;
 public class TestPost {
  private static Connection connection = null;
  public static void main(String[] args) throws SQLException, java.lang.ClassNotFoundException {
   String url = &ldquo;jdbc:postgresql://localhost/sonar&rdquo;;
   String user = &ldquo;sonar&rdquo;;
   String password = &ldquo;sonar&rdquo;;
   String driver = &ldquo;org.postgresql.Driver&rdquo;;</p>

<p>   Class.forName(driver);
   connection = DriverManager.getConnection(url+&ldquo;?user=&rdquo;+user+&ldquo;&amp;password=&rdquo;+password);
   if ((connection == null) || (connection.isClosed())) return;
   System.out.println(&ldquo;Connection is: &rdquo;+connection);</p>

<p>   listTables();
   String table = &ldquo;projects&rdquo;;
   printTable(table);
   connection.close();</p>

<p>  }</p>

<p>  private static void listTables() throws SQLException {
   DatabaseMetaData md = connection.getMetaData();
   ResultSet rs = md.getTables(null, null, &ldquo;%&rdquo;, null);
   while (rs.next()) {
    System.out.println(rs.getString(3));
   }
   rs.close();</p>

<p>  }</p>

<p>  private static void printTable(String tableName) throws SQLException {
   Statement st = connection.createStatement();
   ResultSet rs = st.executeQuery(&ldquo;SELECT * FROM &rdquo; + tableName);
   while (rs.next()) {
     System.out.println(&ldquo;Column 1: &rdquo; + rs.getString(1));
     System.out.println(&ldquo;Column 2: &rdquo; + rs.getString(2));
     System.out.println(&ldquo;Column 3: &rdquo; + rs.getString(3));
   }
   rs.close();
   st.close();
  }
 }</p>

<h1>Compile and Run</h1>

<p>$ javac -cp ~/apps/sonar-3.6.1/extensions/jdbc-driver/postgresql/postgresql-9.1-901-1.jdbc4.jar ManipulateSonarPost.java</p>

<p>$ java -cp ~/apps/sonar-3.6.1/extensions/jdbc-driver/postgresql/postgresql-9.1-901-1.jdbc4.jar:. ManipulateSonarPost</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/29/100558/">Backup and Restore Postgresql Database</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-11-29T10:05:58+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>29</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>10:05 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Backup</h1>

<p>(On CentOS 6.4)</p>

<p>Enable backup as user &ldquo;sonar&rdquo;: modify authentication file pg_hba.conf following SonarQube and Postgresql on Linux ;</p>

<p>Then you can backup a database: $ pg_dump -U sonar -F c -v -f sonar.bak sonar</p>

<p>Synopsis: pg_dump [options] <db_name>. &ldquo;-F c&rdquo; means using &ldquo;custom&rdquo; file format. -f specifies the output file name.</p>

<p>Or backup all: $ pg_dumpall -U postgres -f totalbackup.sql -v -c</p>

<p>The &ldquo;-c&rdquo; will print drop commands to remove existing databases or roles. So you can restore them without cleaning existing databases in your backup server first.</p>

<h1>Restore</h1>

<p>Install and start postgresql server. Then you can restore a full backup:</p>

<p> $ psql -U postgres -f totalbackup.sql</p>

<p>Or restore a specific database:</p>

<ol>
<li><p>$ psql -U postgres (modify pg_hba.conf for authenticaiton);</p></li>
<li><p>create role &ldquo;sonar&rdquo; and database &ldquo;sonar&rdquo;:</p></li>
</ol>


<p> create role sonar login password &lsquo;sonar&rsquo;;</p>

<p> create database sonar owner sonar;</p>

<ol>
<li>$ pg_restore -U sonar -d sonar -j 4 -v sonar.bak</li>
</ol>


<h1>Verify</h1>

<ul>
<li>Print database size of &ldquo;sonar&rdquo;:</li>
</ul>


<p> $ psql -U sonar -c &ldquo;\l+&rdquo; sonar|grep sonar</p>

<ul>
<li>Print all tables and sizes in database &ldquo;sonar&rdquo;:</li>
</ul>


<p> $ psql -U sonar -c &ldquo;\d+&rdquo; sonar</p>

<p>Or run a psql console ($ psql -U sonar), and use the following commands to verify:</p>

<ul>
<li><p>\d // list all tables</p></li>
<li><p>select * from projects; // print contents of table &ldquo;projects&rdquo;</p></li>
<li><p>select pg_size_pretty(pg_database_size(&lsquo;sonar&rsquo;)); // print the human_readable size of database &ldquo;sonar&rdquo;</p></li>
<li><p>select pg_database_size(&lsquo;sonar&rsquo;); // give the exact size of database &ldquo;sonar&rdquo;</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/28/143902/">Rsync Omit `core` Folder</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-11-28T14:39:02+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>28</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>2:39 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Problem Description</h1>

<p>Test script:</p>

<pre><code>mkdir {gsp,dst,dst2,dst3} 
svn co http://10.0.2.59:8118/svn/gsp/Development-Area/3-SCL/Trunk/TaskServer_Gsp gsp
rsync -auC gsp/* dst/
rsync -au gsp/* dst2/
rsync -auC --include=core gsp/ dst3/
rsync -au gsp/ dst4/
diff -rq gsp dst
</code></pre>

<p>Output:</p>

<p>Only in gsp/com.boco.gdpp.taskserver.core/src/com/boco/gdpp/taskserver: core</p>

<h1>Cause and Solution</h1>

<p>The -C option looks &ldquo;core&rdquo; as a <em>source version control</em> folder, and exclude it. See man page for details.</p>

<p>The size of the &ldquo;.svn&rdquo; folder is similar to the host folder. So &ldquo;-C&rdquo; option is necessary. Becase &ldquo;.svn&rdquo; is not &ldquo;<em>&rdquo;, so there is no &ldquo;.svn&rdquo; in dst2. But it will also exclude other &ldquo;.</em>&rdquo; folder in gsp. So the right answer is:</p>

<pre><code>rsync -auC --include=core gsp/ dst3/
</code></pre>

<p>The dst4 is a completely copy.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/26/175603/">Note About `What Does Functional Programming Mean`</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-11-26T17:56:03+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>26</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>5:56 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Tony Morris: What Does Functional Programming Mean?</p>

<p>From: <a href="http://stackoverflow.com/questions/159797/is-ruby-a-functional-language">http://stackoverflow.com/questions/159797/is-ruby-a-functional-language</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/26/170955/">Notes About Why Functional Programming Matters</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-11-26T17:09:55+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>26</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>5:09 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>John Hughes: Why Functional Programming Matters</p>

<ul>
<li><p>The key points of a programming language is its modularization capability: it can divide a big problem into some smaller sub-problems; then glue them together. &ldquo;Modularity is the key to successful programming. Languages that aim to improve productivity must support modular programming well.&rdquo;</p></li>
<li><p>FP language has 2 ways to glue sub-problems together:</p></li>
<li><p>High-order functions: the functions using other functions as its parameter(s);</p></li>
<li><p>Lazy evaluation: the generator-selector model;</p></li>
</ul>


<h1>Analysis of &ldquo;4.1 Newton-Raphson Square Roots&rdquo;</h1>

<p>Convert the functions of Newton-Raphson algorithm in this paper into Clojure functions:</p>

<p> next n x = (x + n/x)/2 => #(/ (+ % (/ n %)) 2)</p>

<p> repeat (next n) a0 => (iterate #(/ (+ % (/ n %)) 2) a0)</p>

<p>So the 8th iteration in decimal is:</p>

<p> (double (nth (iterate #(/ (+ % (/ n %)) 2) a0) 8))</p>

<p>Here the point is the function &ldquo;iterate&rdquo; returns a <strong>lazy</strong> sequence, which is to say, if you evaluate &ldquo;(iterate inc 5)&rdquo; in clojure repl, you got a infinite list (you have to press Ctrl-c to interrupt the output). You use &ldquo;nth&rdquo; to get the nth element in this list without worrying about your memory space.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/26/155129/">Run Ruby Shell on Android</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-11-26T15:51:29+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>26</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>3:51 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><ol>
<li><p>Installation: Install Ruboto Core and IRB from Google Play;</p></li>
<li><p>Run irb: double click &ldquo;Ruboto IRB&rdquo; icon;</p></li>
<li><p>Verify: input &ldquo;Dir.pwd&rdquo;, my got the output: &ldquo;/storage/sdcard0/jruby&rdquo;;</p></li>
</ol>


<p>Verify device: HUAWEI C8813D (mobile phone), Android 4.1.1.</p>

<p>bingo.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/25/144450/">Git Commands and Configurations</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-11-25T14:44:50+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>2:44 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Some helpful resources:</p>

<p><a href="http://ndpsoftware.com/git-cheatsheet.html">Git Cheatsheet</a></p>

<p><a href="http://marklodato.github.io/visual-git-guide/index-en.html">A Visual Git Reference</a>;</p>

<p><a href="http://rogerdudler.github.io/git-guide/">git - the simple guide</a>;</p>

<p>Git has 3 places to store files: working dir, stage and history.
The last commit in history is called &ldquo;HEAD&rdquo;, all the older commits have their IDs.
In the following texts, &ldquo;a47c3&rdquo; and &ldquo;b325c&rdquo; are both sample revision IDs, which can be get with <code>git log --oneline</code>.</p>

<h1>Move Files</h1>

<ul>
<li><p>Working dir -> Stage: <code>git add -A</code> for all files, <code>git add -u</code> for update, <code>git add filename</code>;</p></li>
<li><p>Stage -> HEAD: <code>git commit filename</code>, <code>git commit</code> for all;</p></li>
<li><p>HEAD -> Stage: <code>git reset -- files</code>, <code>git reset</code> or <code>git reset -- .</code> for all;</p></li>
<li><p>Stage -> Working dir: <code>git checkout -- files</code>, <code>git checkout -- .</code> for all;</p></li>
<li><p>HEAD -> ( Stage &amp; Working dir ): <code>git checkout HEAD -- files</code>, <code>git checkout HEAD</code> do nothing;</p></li>
<li><p>Working dir -> ( Stage &amp; HEAD ): <code>git commit filename</code>, <code>git commit -a</code> for all;</p></li>
</ul>


<h1>Compare Files</h1>

<ul>
<li><p>Working dir <-> Stage: <code>git diff filename</code>, <code>git diff</code> for all;</p></li>
<li><p>Stage <-> HEAD: <code>git diff --cached filename</code>, <code>git diff --cached</code> for all;;</p></li>
<li><p>HEAD <-> Working dir: <code>git diff HEAD filename</code>, <code>git diff HEAD</code> for all;</p></li>
<li><p>Revision a47c3 <-> Working dir: <code>git diff a47c3 filename</code>, <code>git diff a47c3</code> for all;</p></li>
<li><p>Revision a47c3 <-> b325c: <code>git diff a47c3 b325c filename</code>, <code>git diff a47c3 b325c</code> for all;</p></li>
</ul>


<h1>Logs and Tags</h1>

<ul>
<li><p>Create a tag based on a commit: <code>git tag 1.0 a47c3</code>;</p></li>
<li><p>Print logs with tags and color highlights: <code>git log --decorate</code>;</p></li>
<li><p>Print logs with files changed: <code>git log --name-status</code>;</p></li>
<li><p>Print logs in one line for each: <code>git log --oneline</code>;</p></li>
<li><p>Print logs with all information: <code>git log --graph --decorate --name-status --all</code>;</p></li>
</ul>


<h1>Useful Commands</h1>

<p><code>git add &lt;files&gt;</code>: add files to stage area, use git rm &ndash;cached <file> to remove it from stage area (physical file remains);</p>

<p><code>git add -A</code>: If you use &ldquo;mv&rdquo; instead of &ldquo;git mv&rdquo; to rename a file, you can use this command to apply this rename operation to stage area;</p>

<p><code>git checkout &lt;commit&gt;</code>: make your working directory back to state <commit>;</p>

<pre><code>$ git checkout &lt;branch-name&gt;  // switch between branches
</code></pre>

<p><code>git checkout -- &lt;file-name&gt;</code>: use <file-name> in stage area replace its counterpart in working directory;</p>

<p><code>git checkout -- .</code>: abandon all modifications in working directory. Don&rsquo;t forget the last dot. It means &ldquo;all&rdquo;.</p>

<p><code>git clean -n</code>: &ldquo;dry run&rdquo; mode, preview the removed files;
<code>git clean -f</code>: remove all untracked files;
<code>git clean -f -d</code>: remove all untracked files and directories;</p>

<p><code>git commit</code>: commit all files in stage area;</p>

<p><code>git config</code>: see section &ldquo;git config&rdquo; below. list all configs: <code>git config --list</code>;</p>

<p><code>git diff</code>: compare file contents;</p>

<p><code>git init</code>: initialize local repository;</p>

<p><code>git log --stat</code>: list log with file changes;</p>

<p><code>git mv &lt;old-file-name&gt; &lt;new-file-name&gt;</code></p>

<p><code>git remote show origin</code>: git equivalent of &ldquo;svn info&rdquo;;</p>

<p><code>git reset --hard &lt;commit&gt;</code>: go back to <commit> completely, both working directory and repository, the history is lost;</p>

<p><code>git reset</code>: undo all &ldquo;git add&rdquo; commands, same with &ldquo;git reset HEAD&rdquo;;</p>

<p><code>git reset -- &lt;file-name&gt;</code>: only remove <file-name> from stage area;</p>

<p><code>git rm</code>:</p>

<p><code>git show &lt;object&gt;</code>: show information of <object>, like a commit, the following command show the information of commit 389be, like &ldquo;git log &hellip;&rdquo;:</p>

<pre><code>git show 389be --stat
</code></pre>

<p>or <strong>print file contents of a specified version</strong>, the following command show the file contents of the parent of HEAD:</p>

<pre><code>git show HEAD~1:donno/cloudsync.py
</code></pre>

<p>Note that the colon after version is necessary, or it will print the difference between HEAD~1 &amp; HEAD~2 when it&rsquo;s <code>git show HEAD~1 filename</code>;</p>

<p><code>git stash</code>: save current working directory and index and change them to the state of last commit;</p>

<p><code>git stash apply</code>: restore last &ldquo;stash save&rdquo;;</p>

<p><code>git stash drop</code>: delete last &ldquo;stash save</p>

<p><code>git stash pop</code>: git stash apply + git stash drop</p>

<p><code>git stash clear</code>: clear all stash saves;</p>

<p><code>git status</code></p>

<h2>Undo the last commit</h2>

<p>After a commit with <code>git commit -m "..."</code>, I found I forget to update version number which is defined in file build.gradle.
Now I need undo the last commit, modify version number in build.gradle, then commit again with the same commit comments.</p>

<pre><code>$ git reset --soft HEAD~1
// edit build.gradle
$ git add -u
$ git commit -c ORIG_HEAD
</code></pre>

<p>Ref: <a href="http://stackoverflow.com/questions/927358/undo-the-last-git-commit">Undo the last Git commit?</a></p>

<p>GUI tool: <code>gitk</code>, see all branches with <code>gitk --all</code>.</p>

<h1>Git config</h1>

<p>Add the following lines into user level config file ~/.gitconfig, or system level config file /etc/gitconfig:</p>

<pre><code>[user]
    name = leetschau
    email = leetschau@gmail.com
[alias]
    ci = commit -s
    co = checkout
    br = branch
    lg = log --stat --graph --decorate --all
</code></pre>

<p>Here in <code>git log</code>, &ndash;stat prints file changed info, &ndash;all print all branches instead of current branch,
&ndash;decorate print branch/tag info, &ndash;graph print hierarchical relation lines between commits.</p>

<p>Or change configs in command line:</p>

<pre><code>git config --global alias.ci "commit -s"
git config --global user.name "leetschau"
git config --global user.email "leetschau@gmail.com"
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/22/172634/">Run Clojure Script Portable</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-11-22T17:26:34+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2013</span></span> <span class='time'>5:26 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>leiningen is great, but it&rsquo;s for project-level application. How to run clojure script on a bare host, like python script?</p>

<p>Yes, python is build-in for almost all Linux host. But you can build your clojure environment on a host only depends JVM:</p>

<ol>
<li><p>Download clojure distribution from <a href="http://clojure.org/">clojure official website</a>, and extract it somewhere, say, ~/apps/clojure-1.5.1;</p></li>
<li><p>Add a alias in your ~/.bashrc:</p></li>
</ol>


<p> alias clj=&lsquo;java -cp ~/apps/clojure-1.5.1/clojure-1.5.1.jar clojure.main&rsquo;</p>

<ol>
<li>Validate your .bashrc: &ldquo;. ~/.bashrc&rdquo;;</li>
</ol>


<p>That&rsquo;s it!</p>

<p>Now run clojure repl with command &ldquo;clj&rdquo;. Then write a clojure hello world file &ldquo;hw.clj&rdquo;: (println &ldquo;hello world&rdquo;), then run &ldquo;clj hw.clj&rdquo;, you can see the output is the same as you run it in clojure repl console.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/21/145134/">Sonarqube中的Issue</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-11-21T14:51:34+08:00'><span class='date'><span class='date-month'>Nov</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2013</span></span> <span class='time'>2:51 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Sonarqube中的issue，也就是一个不符合代码规范的“问题”，有一个“状态(status)”属性，如果在某一版本的源代码上出现了一个issue（比如类过长），后来修改源代码导致这个issue消失（将此类改短），它的状态就会变为&#8221;Close&#8221;，但这个issue本身不会消失，Web API查询时如不指定issue的statuses，默认是所有状态，因此就把一些已经Close的issue也查了出来，解决方法是在api后面加上&#8221;statuses=OPEN,REOPENED&#8221;:</p>

<p><a href="http://">http://</a><host_ip>:<port>/api/issues/search?componentRoots=<project_key>:<package_name>&amp;pageSize=5000&amp;rules=<issue_key>&amp;statuses=OPEN,REOPENED</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/36">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/34">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/05/26/174257/">Meteor基础知识之系统篇</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/15/142023/">Run MongoDB Server on Docker in VPS</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/10/091733/">Git初体验</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/08/155132/">Run Mongo Scripts in Shell</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/05/07/151147/">Find Verified User in MongoDB</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/leetschau">@leetschau</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'leetschau',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Li Chao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
