
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dark Matter in Cyberspace</title>
  <meta name="author" content="Li Chao">

  
  <meta name="description" content="Edit the conflicted files manually.
Remove &ldquo;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&rdquo;, &ldquo;=======&rdquo; and &ldquo;>>>>>>>&rdquo;,
then add and &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://leetschau.github.io/posts/8/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Dark Matter in Cyberspace" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Dark Matter in Cyberspace</a></h1>
  
    <h2>A notes repository for Meteor.js, data mining, Linux, etc.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="leetschau.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/23/174442/">Resolving Merge Conflicts in Git</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-04-23T17:44:42+08:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>23</span><span class='date-suffix'>rd</span>, <span class='date-year'>2015</span></span> <span class='time'>5:44 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Edit the conflicted files manually.
Remove &ldquo;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&rdquo;, &ldquo;=======&rdquo; and &ldquo;>>>>>>>&rdquo;,
then add and commit the modified files to resolve the conflict.</p>

<p>When using git-flow, if a conflict appears when finishing a release,
after resolve and commit the conflicted files,
run <code>git flow release finish 0.2.0</code> again.</p>

<p>Ref:</p>

<p><a href="http://genomewiki.ucsc.edu/index.php/Resolving_merge_conflicts_in_Git">Resolving merge conflicts in Git</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/22/145820/">Take Screenshot With Shutter on Linux</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-04-22T14:58:20+08:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>2:58 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Install</h1>

<p>On Linux Mint:</p>

<pre><code>sudo aptitude install shutter libgoo-canvas-perl
</code></pre>

<p>the second one is for editing the screenshot.</p>

<p>On Ubuntu 14.04:</p>

<pre><code>sudo aptitude install shutter
</code></pre>

<h1>Usage</h1>

<p>Run <code>shutter</code> in dmenu, click &ldquo;Selection&rdquo; on toolbar.</p>

<p>Shutter is a multi-tab application, and save picture to disk automatically,
which is very convenient.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/22/103439/">Manage Vagrant-Created VMs on Linux Mint</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-04-22T10:34:39+08:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>22</span><span class='date-suffix'>nd</span>, <span class='date-year'>2015</span></span> <span class='time'>10:34 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><ol>
<li><p>After installation of Virtualbox,
specify the VM files location in VirutalBox:
[File -> Preferences -> General -> Default Machine Folder]
to &ldquo;$HOME/docs/vms&rdquo;;</p></li>
<li><p>Add <code>alias vb='VBoxManage'</code> into ~/.bash_aliases;</p></li>
<li><p>List all existing VMs: <code>vb list vms</code>;</p></li>
<li><p>List all running VMs: <code>vb list runningvms</code>;</p></li>
<li><p>Print the details of a VM: <code>vb showvminfo xxx</code>,
where xxx is one item name in output of <code>vb list vms</code>;</p></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/21/175117/">Checkout Remote Git Branch</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-04-21T17:51:17+08:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2015</span></span> <span class='time'>5:51 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We clone a remote repository, check out a remote branch.</p>

<pre><code>$ git clone https://github.com/limingth/meteor-master-classes.git
$ cd meteor-master-classes
$ git branch -r
origin/HEAD -&gt; origin/master
origin/fanjinhui
origin/lichao
origin/limingth
origin/master
origin/sean
origin/tianchao
</code></pre>

<p>So the remote repository&rsquo;s name is &ldquo;origin&rdquo;.
First check the initial status of the repository:</p>

<pre><code>$ git branch
* master

$ git remote show origin
* remote origin
  Fetch URL: https://github.com/limingth/meteor-master-classes.git
  Push  URL: https://github.com/limingth/meteor-master-classes.git
  HEAD branch: master
  Remote branches:
    fanjinhui tracked
    lichao    tracked
    limingth  tracked
    master    tracked
    sean      tracked
    tianchao  tracked
  Local branch configured for 'git pull':
    master merges with remote master
  Local ref configured for 'git push':
    master pushes to master (up to date)
</code></pre>

<p>Now checkout the remote branch:</p>

<pre><code>$ git fetch
$ git checkout lichao
</code></pre>

<p>Check the status of the repository after checked out:</p>

<pre><code>$ git br
* lichao     &lt;---
  master

$ git remote show origin
* remote origin
  Fetch URL: https://github.com/limingth/meteor-master-classes.git
  Push  URL: https://github.com/limingth/meteor-master-classes.git
  HEAD branch: master
  Remote branches:
    fanjinhui tracked
    lichao    tracked
    limingth  tracked
    master    tracked
    sean      tracked
    tianchao  tracked
  Local branches configured for 'git pull':
    lichao merges with remote lichao        &lt;---
    master merges with remote master
  Local refs configured for 'git push':
    lichao pushes to lichao (up to date)    &lt;---
    master pushes to master (up to date)
</code></pre>

<p>You can see there are 2 kinds of relationship between local and remote branches: pull and push.
Branch &ldquo;lichao&rdquo; and &ldquo;origin/lichao&rdquo; was linked bidirectional after checked out.</p>

<p>Some notes:</p>

<ul>
<li><p>The name of the remote branch to be checked out is its full name except the &ldquo;origin/&rdquo; part,
like &ldquo;lichao&rdquo; in <code>git checkout lichao</code>;</p></li>
<li><p><code>git fetch</code> synchronize your local repository with remote side.
So it&rsquo;s not necessary if you don&rsquo;t want sync with remote.</p></li>
</ul>


<p>You can verify this by <code>git branch -avv</code>.</p>

<p>Ref:</p>

<ul>
<li><p><a href="http://serverfault.com/questions/175052/how-to-tell-which-local-branch-is-tracking-which-remote-branch-in-git">http://serverfault.com/questions/175052/how-to-tell-which-local-branch-is-tracking-which-remote-branch-in-git</a></p></li>
<li><p><a href="http://stackoverflow.com/questions/1783405/checkout-remote-git-branch">http://stackoverflow.com/questions/1783405/checkout-remote-git-branch</a></p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/20/172648/">Build Local Package for Meteor</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-04-20T17:26:48+08:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>20</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>5:26 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ref: <a href="https://dweldon.silvrback.com/local-packages">meteor: local packages</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/18/140631/">4月17日讲座文字稿</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-04-18T14:06:31+08:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>18</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>2:06 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>嗨大家好，没有想到今天来了这么多人，非常感谢大家来捧场。下面我把今天想谈的话题发给大家，然后按这个顺序一个一个说。说完一个话题停下来大家讨论，聊到后面话题的时候，前面的问题如果大家想问，也非常欢迎发问，好的谢谢大家。</p>

<p>今天主要想跟大家聊聊这几个方面：</p>

<ol>
<li><p>技术成长路线；</p></li>
<li><p>对Web技术和Meteor的理解；</p></li>
<li><p>关于技术创业。</p></li>
</ol>


<p>首先跟大家说说自己的一个成长经历吧。我从高中的时候编程，最早接触的是Pascal，现在好多比较年轻的同学都不熟悉这个名字，后来又写了几年Delphi，实际上就是objective的Pascal。工作了之后主要用的是Java和Python，后来转向了数据分析领域，用Scala语言，计算平台是Apache的Spark，大家可能都听说过Hadoop这些分布式计算平台，但目前分布式计算方向的是从Hadoop这种磁盘落地的方式向内存计算，也就是Apche Spark的方向发展，所以又做了一段时间的Scala。</p>

<p>大概是从2014年的年底的时候，开始着手做Web开发，因为我在接触Web之前的已经写了很多年的代码，有一些写代码的感触，所以当时考察了很多Web开发框架，包括Ruby on Rails，也就是RoR，Java的SSH，Google的Dart，最后找到了Meteor这类纯JS的架构，一直用到现在，大概不到半年的时间。</p>

<p>我接触的编程语言比较多，对这个领域比较感兴趣，工作期间使用过很多种语言，包括函数式风格的Erlang和Haskell，包括像面向对象的Ruby。用语言写代码，写出来的代码能完成一定的任务，对这件事情本身非常感兴趣，所以在这方面投入了不少精力，大家可以看下我的技术博客，上面各种语言都有，杂而不精，哪位高手看到我写的比较粗浅，可别笑话我。</p>

<p>好，现在我们来聊聊第二方面吧！</p>

<p>关于Web这块儿，我接触的时间比较短，算上前面东看西看也就一年时间，资历比较浅，所以只是谈一些个人看法，肯定是比较幼稚的。我觉得Web发展到今天，从1.0那个时代侧重于页面展示，向完全桌面应用的方向发展，比如咱们用的Meteor就是一个非常典型的一个代表，我们可以完全在客户端开发，把所有功能都放在客户端，然后等到功能测试好了之后，再把那些数据，也就是企业核心的资源了，放到Server端。</p>

<p>在比较了各种Web技术栈之后呢，我有个比较突出的感觉，因为我Web的背景不是很强，对HTTP协议细节也不是很了解，我看到很多技术栈的后端，对HTTP的嵌入还是比较深，如果开发人员不懂Request和Response这些概念的话，很难把自己的业务放进去，很难对开发过程有深入理解，而Meteor这个技术呢，可以让程序员只关注业务逻辑，不需要去关心网络传输协议，完全不跟HTTP协议打交道。</p>

<p>实际上Meteor使用了一个叫DDP的传输协议。在应用层，也就是七层协议的最高层中，DDP协议更适于做Web app的开发，比如说它的状态保持，比如说服务端向客户端推送消息，这些优势使得在它上面做开发，会天然地比基于HTTP协议的框架容易很多。</p>

<p>学习Meteor时做最简单的那个Tutorial的时候，如果同时开两个那个浏览器，在其中一个里面改了数据，另外一个就跟着变了，这个效果如果在一些传统的Web架构上做，可能要用到比较高深的技术，但是在Meteor上，大家可以看到完全是一种非常自然方式，没有任何人工干预就自然而然就实现了，所以这个App的体验就会比传统架构好很多。</p>

<p>从我们程序员的角度出发，会有一种顾虑，认为Web技术发展这么快，会不会有一天Meteor也像RoR那样，曾经一统江湖，现在已经不再高速发展了，大家会有一种疑问，Meteor会不会下一个RoR呢？</p>

<p>这个问题我的理解是，技术是在不断变化的，但思想是持续的。比如Ruby on Rails吧，实际上是MVC架构，MVC这个思想其实早在上世纪七十年代，施乐公司做图形界面的时候就已经有了，所以RoR在开发思想的开创性方面不是特别强。</p>

<p>但是反观Meteor这个架构，它不仅仅是用纯JS写代码，实际上是在倡导一种思维方式。以前我们普遍认为网站就是一些个页面，后来用Ajax技术和其他Web 2.0技术增强了互动性。但并没有摆脱页面导向的思维，仍然会明确的区分客户端和服务端。但是Meteor实际上已经不明确进行区分了。</p>

<p>在这个架构下，完全可以按以前我们写桌面程序的思维方式，先在客户端把功能完全实现，再把我们需要隐藏数据和业务逻辑，挪到服务端去。这样一来，从思维方式上已经跟传统的区分这个客户端和服务端的方法不一样了。这种思维会持续地发挥它的效果，即便说过个三五年，Meteor不像现在这样爆发式增长了，即便出现新的技术栈，也会吸收这种先进的思想。</p>

<p>Meteor还有一个非常好的特点就是轻量化。从Java时代开始，做Web开发起码先要装一个Eclipse这种很牛的IDE，上面添加各种框架，如果你的电脑配置不高，Eclipse得起个三五分钟的，先双击一下图标，然后去喝杯茶，洗个澡，回来这个IDE终于起来了。但是我们看Meteor开发，完全在命令行里面，带一个vi这样的文本编辑器，然后再有个Firefox之类的浏览器就能搞定。</p>

<p>那么从GUI图形用户界面向命令行转变到底有什么好处呢？我个人的理解是：Web技术本身是一种文字展现。以前说网站做的非常的炫，各种弹窗、各种服务窗口、包括鼠标怎么追也关不掉的那种窗口，我们说做得非常炫。但后来我们发现Web逐渐发展为扁平式设计，把文字提到一个比较高的位置，对文本的打磨远高于对图形的要求，比如对字体、字号，文字风格与场景的搭配非常重视。</p>

<p>真正能够给我们带来价值或者说高效率传递价值的，是文字，图片只起辅助文字的作用。在Web开发当中，传来传去的就是文字，传图片也可以采用某种技术把它压缩成字符串进行传递。那么我们开发工具的文本化，实际上暗合了Web应用的这种发展趋势，所以我个人是比较推荐这种基于文字界面的开发方式。</p>

<p>好的，技术这块儿就先说这么多，大家感兴趣的话我们私底下交流。</p>

<p>下面谈一下关于搞技术的人创业的思考。</p>

<p>大概是去年的十月十一月份吧，我的一个同学找到我，希望能够一起来创业，他在会展行业做了很多年。</p>

<p>在工作当中了他感受到会展行业由于信息交流不畅，导致了很多问题，随着移动互联网出现，之前他感受到的所谓行业痛点，现在已经可以解决了。</p>

<p>加上之前一个做金融的同学和一个做运营的朋友，我们成立了创业团队，一起做牛展网（newfairs.com），这个网站简单理解就是会展领域的淘宝，我的理解可能不是很到位，大概就是这么一个角色。</p>

<p>很多同学对技术在创业当中如何发挥作用非常感兴趣，建议大家看下子柳写的那本《淘宝技术这十年》，这本书非常好地再现了淘宝发展过程中，技术所发挥的作用。</p>

<p>技术圈里会流传着很多硅谷的几个技术天才，用一种世人仰望的语言，做了一个横扫一切市场对手的应用，创造了财富，实现了个人财务自由。但是我在看《淘宝技术这十年》的过程当中，没有感受到这一点。初创团队所犯的那些错误，淘宝犯的也不少。所以我感觉，不要相信那些传言。现实世界中没有那么多的一刀毙命这种古龙风格的东西，技术所面临的问题，还是要认认真真一点一点地去解决的。</p>

<p>现在国家层面也很鼓励创业。大家可以看到创业团队如雨后春笋般出现。一夜之间到处大家都在谈创业。个人的想法的确是创业的开始，但其实并不特别重要，因为但凡你的创意靠谱，凡是你能想到的，基本上别人也能想到。</p>

<p>那么所谓的创意是什么？我认为是这样的：我们想到一个点，这个点可能是以前的一个问题，现在靠新技术或者新模式，能够解决它，也就是所谓的行业痛点。</p>

<p>当有了这个想法之后，在头脑当中的就会有一个对这个产品的构想，一个大概的框架，将来做出这个产品的话，大概希望能达到什么程度，解决什么问题。但它只是给自己设置的一个终点，而且还是个虚无缥缈不一定在哪儿的终点。那么我认为，至少需要有这么几方面帮你到达这个终点：</p>

<p>一个是运营，就是怎么才能让别人知道这个产品，让那些真正需要这个东西的人，能够看到有这么一个产品。</p>

<p>下面一个是资金，至少包括财务和这个金融两方面。一开始的时候如果只是几个人做为一种业余爱好，可能不存在怎么发展的问题，能不能挣钱也无所谓，但如果是严肃地把它当成一个事业来做的话，现金流在其中起的是像空气一样的作用，如果现金流断了，这件事儿可能就不了了之了，所以肯定要有个比较专业的人士来做这方面的工作。</p>

<p>最后，重要的内容当然得放后面，当然就技术了对吧！所有的想法都需要通过技术去实现，比如笑傲江湖里面，剑宗和气宗都觉得对方不怎么样。但至少剑宗比较重视剑招，不管高手低手，还能在外行面前糊弄两下，但是气宗，如果你什么都不拿，那你水平再高也没用。</p>

<p>创业过程中技术所发挥的作用，就像一个坚固的底盘，是所有一切想法、一切运营、资金流转，最后落实的东西。你的产品究竟怎么样，是好是坏，最后要通过技术的手段来做出实在的东西，传递到用户手上，最后形成一个闭环。</p>

<p>从开发者的角度，技术不仅仅是一个产品的承载平台这么一个角色，技术本身就是一个非常吸引人的领域，它不仅有是冰冷的代码，严密的理论。它的背后包含有丰富的文化背景。我们回望上世纪六七十年代到现在，Unix和Linux系统的发展历程，各种爱恨情仇，江湖恩怨，勾心斗角，忠诚和背叛，各种高大上和狗血的情节，在技术圈里都能看到。</p>

<p>那么好，上面几个方面我都基本上介绍了一下，如果大家还有什么问题的话，欢迎大家过来跟我互动。谢谢！</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/17/151844/">Linux Mint System Backup and Restore</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-04-17T15:18:44+08:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>17</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>3:18 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Use this note to build a development environment quickly on a fresh Ubuntu/Mint os.</p>

<h1>Packages</h1>

<p>First make sure <code>&lt;deb-url&gt;/dists/&lt;dist-name&gt;</code> of your distro exists.
To Ubuntu Trusty, it&rsquo;s <a href="http://mirrors.ustc.edu.cn/ubuntu/dists/trusty/main">http://mirrors.ustc.edu.cn/ubuntu/dists/trusty/main</a>
or universe, restricted, etc.
Then add the following lines to /etc/apt/sources.list:</p>

<pre><code>deb http://mirrors.ustc.edu.cn/ubuntu/ trusty main universe restricted multiverse
deb-src http://mirrors.ustc.edu.cn/ubuntu/ trusty main universe restricted multiverse
</code></pre>

<p>Next run <code>aptitude update</code> and install the following packages with <code>aptitude</code>:</p>

<pre><code>zsh git vim autojump curl tree tmux
</code></pre>

<p>The following packages are only needed on physical metal, not on virtual host:</p>

<pre><code>i3 i3status dmenu openssh-server parcellite udevil
</code></pre>

<p>where udevil is for USB management.</p>

<h1>Apps installed manually</h1>

<ul>
<li><p><a href="https://github.com/leetschau/dsnote">dsnote</a></p></li>
<li><p><a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a></p></li>
<li><p><a href="https://github.com/tpope/vim-pathogen">pathogen</a></p></li>
<li><p><a href="https://github.com/leetschau/sysClone">sysClone</a></p></li>
<li><p>Power management script: pm, see note <a href="http://leetschau.github.io/blog/2014/08/24/110909/">Build Working Environment With I3 and Mint</a></p></li>
</ul>


<h1>vim plugins</h1>

<ul>
<li><p><a href="https://github.com/plasticboy/vim-markdown">plasticboy/vim-markdown</a></p></li>
<li><p><a href="https://github.com/kien/ctrlp.vim">ctrlp</a></p></li>
</ul>


<h1>System configurations to be synchronized</h1>

<p>Prototype of <a href="https://github.com/leetschau/sysClone">sysClone</a>:</p>

<pre><code>backupConf() {
    rsync -av --update --ignore-missing-args $HOME/{.zshrc,.zshenv,.bash_aliases,.vimrc,.gitconfig,.tmux.conf,.oh-my-zsh/themes/lichao.zsh-theme,.xsessionrc} confs/
    rsync -av --update --ignore-missing-args $HOME/.i3/config confs/.i3.config
}

restoreConf() {
    rsync -av --update confs/{.zshrc,.zshenv,.bash_aliases,.vimrc,.gitconfig,.tmux.conf,.xsessionrc} $HOME
    rsync -av --update confs/lichao.zsh-theme $HOME/.oh-my-zsh/themes
    rsync -av --update confs/.i3.config $HOME/.i3/config
}
</code></pre>

<p>I use an array of tuples to combine above 2 scripts. For details of its methods in shell, see
<a href="http://www.cyberciti.biz/faq/bash-for-loop-array/">Bash For Loop Array: Iterate Through Array Values</a> and
<a href="http://stackoverflow.com/questions/9713104/loop-over-tuples-in-bash">http://stackoverflow.com/questions/9713104/loop-over-tuples-in-bash</a></p>

<h1>Firefox plugins</h1>

<ul>
<li><p>Downthemall</p></li>
<li><p>vimfx</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/16/172913/">Fzf让命令行更方便</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-04-16T17:29:13+08:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>5:29 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://github.com/junegunn/fzf">fzf</a>是一个命令行工具，目前支持bash和zsh。</p>

<p>fzf配合autojump和vim，可以方便地在多层目录下进行文本编辑。</p>

<p>Before install fzf, download <a href="https://golang.org/">go</a> binary package (go1.4.2.linux-amd64.tar.gz for now)
extract it, and add its bin folder to $PATH.
Then install fzf with git.</p>

<p>首先运行<code>j demo</code>跳转到项目根目录下，项目文件结构如下：</p>

<pre><code>$ tree
.
├── both
│   ├── collections.coffee
│   └── router.coffee
├── client
│   ├── index.html
│   ├── layout.coffee
│   ├── layout.html
│   ├── registerHelpers.coffee
│   ├── stylesheets
│   │   └── app.scss
│   └── templates
│       ├── addPost
│       │   ├── addPost.coffee
│       │   ├── addPost.html
│       │   └── addPost.scss
│       ├── editPost
│       │   ├── editPost.coffee
│       │   └── editPost.html
│       ├── lists
│       │   ├── lists.coffee
│       │   └── lists.html
│       ├── postView
│       │   ├── postView.coffee
│       │   └── postView.html
│       ├── sharePost
│       │   ├── sharePost.coffee
│       │   └── sharePost.html
│       ├── sideMenu
│       │   └── sideMenu.html
│       └── userAccounts
│           ├── accountsConfig.coffee
│           ├── userAccounts.coffee
│           └── userAccounts.html
├── LICENSE
├── newnote.tmp
├── packages
├── README.md
└── server
    └── seeds.js

13 directories, 26 files
</code></pre>

<h1>配置</h1>

<p>全局定义：~/.fzf.zsh</p>

<p>默认快捷键可以在.fzf/shell/key-bindings.zsh中修改。
推荐将默认的文件搜索快捷键从Ctrl-T改成了Ctrl-J，需要避免使用的配置有：</p>

<ul>
<li><p>Ctrl-I: 代表<tab>键，虽然可以触发目录搜索，但<tab>键的自动补全功能不能用了；</p></li>
<li><p>Ctrl-M: 回车键的键值，如果改成了它，将导致回车键不可用，可以用Ctrl-Enter临时代替回车；</p></li>
<li><p>Ctrl-N: 下一条历史命令的快捷键。</p></li>
</ul>


<h1>使用</h1>

<h2>文件搜索</h2>

<p>要编辑client/templates/lists/lists.coffee文件，只要在命令行中输入<code>vi</code>然后按Ctrl-j，
就进入了fzf搜索界面，只要输入任意层目录中的几个字符，就可以匹配到目标文件，
例如上面lists.coffee文件，只要输入<code>listco</code>就可以匹配到了。
其中当输入到list时，就匹配到了lists文件夹以及下面的两个文件，
这时可以继续输入"co"，直接命中目标，也可以用Ctrl-j/k在列表中上下选择目标。</p>

<p>实际上fzf进行目录文件匹配的快捷键是Ctrl-T，但对vi进行了特殊定义，使得用<tab>也可以出发fzf搜索。</p>

<p>按Alt-C，选择好目录，可以直接切换到目标目录，相当于<code>cd &lt;Ctrl-T&gt;</code>的快捷版。</p>

<p>Ctrl-R在命令行历史使用<strong>模糊</strong>匹配。</p>

<h2>历史命令搜索</h2>

<p>Ctrl-r激活搜索列表，然后模糊匹配；</p>

<h2>进程搜索</h2>

<p>输入<code>kill</code>然后按Tab键显示系统进程列表，开始模糊搜索；</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/15/105035/">How to Sync a Fork on Github</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-04-15T10:50:35+08:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>10:50 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I forked <a href="https://github.com/mitsuhiko/flask">flask repository</a> to
<a href="https://github.com/leetschau/flask">my own account</a>.</p>

<p>After several months, there are many new commits to the original flask repo.
How to sync these new commits to my fork?</p>

<h1>Option 1: In Github Web UI</h1>

<p>Three steps: compare, send pull request, and merge.</p>

<p>See Olufemi Israel Olanipeku&rsquo;s answer of
<a href="http://stackoverflow.com/questions/20984802/how-can-i-keep-my-fork-in-sync-without-adding-a-separate-remote/21131381#21131381">How can I keep my fork in sync without adding a separate remote?</a> for details.</p>

<h1>Option 2: In Terminal</h1>

<p>You can do it via your local clone:</p>

<ol>
<li><p>Clone leetschau/flask to local machine;</p></li>
<li><p>Add mitsuhiko/flask as a remote repo;</p></li>
<li><p>Pull new commit from mitsuhiko/flask to your local machine;</p></li>
<li><p>Push your local repo to leetschau/flask.</p></li>
</ol>


<p>See <a href="https://help.github.com/articles/syncing-a-fork/">Syncing a fork</a> for details.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/04/08/161006/">Python的Generator和yield</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-04-08T16:10:06+08:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>4:10 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>下面的代码演示了yield的一个使用场景：</p>

<pre><code>def fab(max): 
    n, a, b = 0, 0, 1 
    while n &lt; max: 
        yield b 
        # print b 
        a, b = b, a + b 
        n = n + 1 

for n in fab(5):
    print(n)
</code></pre>

<p>简单地讲，yield的作用就是把一个函数变成一个Generator，
带有yield的函数不再是一个普通函数，Python解释器会将其视为一个Generator，
调用<code>fab(5)</code>不会执行fab函数，而是返回一个iterable对象。
在for循环执行时，每次循环都会执行fab函数内部的代码，执行到<code>yield b</code>时，
fab 函数就返回一个迭代值，下次迭代时，代码从<code>yield b</code>的下一条语句继续执行，
而函数的本地变量看起来和上次中断执行前是完全一样的，于是函数继续执行，直到再次遇到<code>yield</code>。</p>

<p>上面的<code>fab</code>函数也可以返回一个List，与Generator相比，缺点是内存使用量会很大，
比如要读取一个10GB的文件，如果直接使用f.read()会把整个文件加载到内存中，
用Generator代替List，可以保证内存使用量是固定的，例如下面的1024字节：</p>

<pre><code>def read_file(fpath): 
    BLOCK_SIZE = 1024 
    with open(fpath, 'rb') as f: 
        while True: 
            block = f.read(BLOCK_SIZE) 
            if block: 
                yield block 
            else: 
                return
</code></pre>

<p>上面的文件读取是为了演示yield的用法，在实际读取文件时，
如果是大文件，不能一次性载入所有内容，使用for循环，一次载入一行到内存：</p>

<pre><code>with open('workfile', 'r') as f:
    for line in f:
        print(line)
</code></pre>

<p>反之，如果文件比较小，需要一次性载入内存，使用<code>readlines()</code>方法：</p>

<pre><code>with open('workfile', 'r') as f:
    lines = f.readlines()
</code></pre>

<p>参考：</p>

<p><a href="http://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield/">Python yield 使用浅析</a></p>

<p><a href="https://docs.python.org/2/tutorial/inputoutput.html">7. Input and Output</a> in <a href="https://docs.python.org/2/tutorial/index.html">The Python Tutorial</a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/9">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/7">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/11/02/093547/">Move Window Between Multiple Screens via Tmux</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/31/011200/">Synchronize Data From MongoDB to Elasticsearch</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/30/131706/">Elasticsearch River for MongoDB</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/29/204739/">Session Management in Web Browser</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/29/200553/">将Meteor应用完整从1.2版本降级到1.1版本</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/leetschau">@leetschau</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'leetschau',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Li Chao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
