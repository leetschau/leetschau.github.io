
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dark Matter in Cyberspace</title>
  <meta name="author" content="Li Chao">

  
  <meta name="description" content="Authentication $POSTGRESQL_HOME/data/pg_hba.conf Modify &ldquo;local all all peer&rdquo; to &ldquo;local all all trust&rdquo; to enable &ldquo;sonar& &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://leetschau.github.io/posts/38/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Dark Matter in Cyberspace" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Dark Matter in Cyberspace</a></h1>
  
    <h2>A notes repository for Meteor.js, data mining, Linux, etc.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="leetschau.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/23/113751/">SonarQube and Postgresql on Linux</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-12-23T11:37:51+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>23</span><span class='date-suffix'>rd</span>, <span class='date-year'>2013</span></span> <span class='time'>11:37 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Authentication</h1>

<p>$POSTGRESQL_HOME/data/pg_hba.conf</p>

<ul>
<li><p>Modify &ldquo;local all all peer&rdquo; to &ldquo;local all all trust&rdquo; to enable &ldquo;sonar&rdquo; login in with &ldquo;psql -U sonar&rdquo;.</p></li>
<li><p>Modify &ldquo;host all all 127.0.0.1/32 ident&rdquo; to &ldquo;host all all 127.0.0.1/32 trust&rdquo; to enable SonarQube communicate with Postgresql database; or define a access rule in &ldquo;pg_ident.conf&rdquo;.</p></li>
<li><p>If you can connect to SonarQube server only on localhost, try shutdown firewall: &ldquo;service iptables stop&rdquo; or open the port following Configure Firewalls on Linux .</p></li>
<li><p>List all projects in Postgresql database:</p>

<p>  $ psql -U sonar
  select * from projects;</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/19/172359/">Play Postgresql 9.3 on Linux</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-12-19T17:23:59+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>5:23 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Installation</h1>

<h2>on CentOS 6.4</h2>

<ol>
<li><p>Download PGDG RPM file &ldquo;pgdg-centos93-9.3-1.noarch.rpm&rdquo;, copy to 47, and install with rpm -ivh;</p></li>
<li><p>On server 47: $ yum list postgres*</p></li>
<li><p>$ yum install postgresql93-server_x86_64</p></li>
<li><p>$ service postgresql-9.3 initdb</p></li>
<li><p>$ chkconfig postgresql-9.3 on</p></li>
<li><p>$ service postgresql-9.3 start (restart, stop, reload)</p></li>
<li><p>$ su - postgres</p></li>
<li><p>verify: $ psql</p></li>
<li><p>list users: \du</p></li>
</ol>


<p><a href="http://wiki.postgresql.org/wiki/YUM_Installation">http://wiki.postgresql.org/wiki/YUM_Installation</a></p>

<h2>on XUbuntu 13.10</h2>

<p>It said there is no saucy (ubuntu 13.10) package in postgresql repository. So I modified &ldquo;saucy&rdquo; to &ldquo;precise&rdquo;:</p>

<p>$ echo &ldquo;deb <a href="http://apt.postgresql.org/pub/repos/apt/">http://apt.postgresql.org/pub/repos/apt/</a> precise-pgdg main&rdquo; > /etc/apt/sources.list.d/pgdg.list</p>

<p>$ wget &ndash;quiet -O - <a href="https://www.postgresql.org/media/keys/ACCC4CF8.asc">https://www.postgresql.org/media/keys/ACCC4CF8.asc</a> | sudo apt-key add -</p>

<p>$ sudo apt-get update</p>

<p>$ sudo apt-get install postgresql-9.3 pgadmin3</p>

<p>$ /etc/init.d/postgresql start</p>

<p>Ref: <a href="http://wiki.postgresql.org/wiki/Apt">http://wiki.postgresql.org/wiki/Apt</a></p>

<h1>Get Started</h1>

<ol>
<li><p>user postgres: $ psql</p></li>
<li><p>CREATE ROLE bvt LOGIN PASSWORD &lsquo;&lt;&hellip;>&rsquo;; // Note that the semicolon is <strong>mandatory</strong>;</p></li>
<li><p>create database mydb owner bvt;</p></li>
<li><p>user bvt: $ psql mydb</p></li>
</ol>


<h1>psql usage</h1>

<p>start psql console: psql <database_name> (if <database_name> omitted, it&rsquo;s the same as the user name);</p>

<p>get help: \?;</p>

<p>list all tables: \d;</p>

<p>print table contents: select * from <table_name>;</p>

<p>list roles: \du;</p>

<p>list databases: \l;</p>

<p>user &ldquo;postgres&rdquo; create database for a common user: create database bvt owner bvt;</p>

<p>delete database: drop database <db_name>; (same as &ldquo;dropdb <database_name>&rdquo; in terminal);</p>

<p><a href="http://www.postgresql.org/docs/9.3/static/index.html">http://www.postgresql.org/docs/9.3/static/index.html</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/19/160121/">Communicate System Clipboard With Vim in Linux</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-12-19T16:01:21+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>4:01 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Linux Mint Xfce</h1>

<p>By default, Ubuntu (so as to Linux Mint) installs the vim-tiny package, which is a ultra-light version of the console &ldquo;vim&rdquo; only.</p>

<p>To check the clipboard support of the installed vim, run <code>vim --version|grep clipboard</code>.
If you get &ldquo;-clipboard&rdquo; and &ldquo;-xterm_clipboard&rdquo;, your vim can&rsquo;t support system clipboard.
You have to remove current vim, and install a &ldquo;full&rdquo; version vim like this:</p>

<pre><code>$ sudo apt-get purge vim 
$ sudo apt-get autoremove # remove related packages of vim 
$ sudo apt-get install vim-gtk # gtk suited for Xfce environments
</code></pre>

<p>Now let&rsquo;s check:</p>

<pre><code>$ vim --version | grep clipboard 
</code></pre>

<p>You should get something like &ldquo;+clipboard&rdquo; and &ldquo;+xterm_clipboard&rdquo;.</p>

<p>Now connect vim clipboard with that of system with adding &ldquo;set clipboard=unnamedplus&rdquo; into you ~/.vimrc. And check it:</p>

<ol>
<li><p>Copy texts in web browser with Ctrl-c, and use &ldquo;p&rdquo; to paste them in vim;</p></li>
<li><p>copy a line in vim with &ldquo;yy&rdquo;, then paste them into some GUI program (say, gedit) with Ctrl-v.</p></li>
</ol>


<p>Ref:</p>

<p><a href="http://ubuntuforums.org/showthread.php?t=1686955">how to copy from vim and paste it on system clip board</a></p>

<p><a href="http://comments.gmane.org/gmane.linux.ubuntu.xubuntu.user/4374">vim-gtk or vim-gnome?</a></p>

<h1>ArchLinux</h1>

<p>Install gvim with <code>sudo pacman -S gvim</code>.</p>

<p>Note: On CentOS, use <code>yum search vim</code> to get the exact vim package name. On CentOS 6.4 it&rsquo;s &ldquo;vim-X11&rdquo;.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/19/083804/">Switch User Command in Linux</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-12-19T08:38:04+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>19</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>8:38 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Switch user command (su) has the following forms:</p>

<h1>su <username></h1>

<p>Switch to <username>, without loading environment variables. If <username> is omitted (only &ldquo;su&rdquo;), it equals to &ldquo;su root&rdquo;;</p>

<h1>su - <username></h1>

<p>Switch to <username>, and loading environment variables. &ldquo;-&rdquo; is the abbreviation of &ldquo;-l&rdquo;, which means this is a &ldquo;login&rdquo; shell, so all .profile will be sourced (man su for details). If <username> is omitted (only &ldquo;su -&rdquo;), it equals to &ldquo;su - root&rdquo;;</p>

<h1>su -c &ldquo;<command>&rdquo; <username></h1>

<p>Run command with the identity of another user. It is mostly used in one-off command with root privileges:</p>

<p> su -c &ldquo;<command>&rdquo; root</p>

<p>The double quotes around <command> can&rsquo;t be omitted.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/18/145606/">Search String in Files in Vim</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-12-18T14:56:06+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>18</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>2:56 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Question: Working in vim, I want to search a string, say &ldquo;ord&rdquo;, in some files,
say, all the .hs files,
in current folder (and all its subfolders), while I don&rsquo;t want to leave vim.</p>

<p>Answer:</p>

<h1>ag.vim plugin</h1>

<p>Install <a href="https://github.com/ggreer/the_silver_searcher">the_silver_searcher</a>
with <code>sudo aptitude install silversearcher-ag</code>.</p>

<p>Install <a href="https://github.com/rking/ag.vim">ag.vim</a> with adding codes below into
~/.vimrc:</p>

<pre><code>let g:ag_highlight=1
Plugin 'rking/ag.vim'
</code></pre>

<p>Here &ldquo;g:ag_highlight=1&rdquo; make the preview function useful with <code>go</code> shortcut
in quickfix window.</p>

<p>Search &lsquo;pattern" with <code>:Ag [options] pattern [path]</code>.
&ldquo;path&rdquo; is optional with the default value <code>:pwd</code>.</p>

<p>Frequently used options:</p>

<p>&ldquo;-i&rdquo;: ignore case: <code>:Ag -i pattern</code>.
&ldquo;-w&rdquo;: match whole word: <code>:Ag -w pattern</code>.
&ldquo;-Q&rdquo;: match pattern literally, do not use regular expression.</p>

<p>It&rsquo;s much faster than ack-grep below.
You can use &ldquo;o&rdquo; to jump to the target file,
use &ldquo;v&rdquo; to open target file in vertial split window,
use &ldquo;e&rdquo; to open file and close the quickfix window,
use &ldquo;q&rdquo; to close the quickfix window, etc.
Search &ldquo;keyboard shortcuts&rdquo; in <code>:h Ag</code> to see the details.</p>

<h1>easygrep plugin</h1>

<p>Add <code>Plugin 'dkprice/vim-easygrep'</code> into ~/.vimrc.
Search word &lsquo;vari&rsquo; with <code>:Grep vari</code>.</p>

<p>Install <code>ack-grep</code> with aptitude.
And use <code>:GrepProgram</code> to change search utility to <code>ack-grep</code>.</p>

<p>Use <code>:cw</code>/<code>:ccl</code> to open/close search result window;
<code>:cn</code>/<code>:cp</code> to jump to next/previous result;</p>

<h1>Search List Version</h1>

<pre><code>:vim /ord/ *.hs
</code></pre>

<p>You will auto jump to the first matched file.
If you don&rsquo;t want this auto-jump, use <code>:vim /ord/j *.hs</code>.
Now you can use &ldquo;:cn&rdquo; or &ldquo;:cp&rdquo; to traverse between all matched files,
or use &ldquo;:cw&rdquo; to open search result window (use &ldquo;:clo&rdquo; to hide this window).</p>

<h1>No Search List Version</h1>

<pre><code>:lv ord *.hs
</code></pre>

<p>There is no search result window (quickfix window) for this &ldquo;lv&rdquo; command. And you can&rsquo;t use &ldquo;:cn&rdquo; and &ldquo;:cp&rdquo; also.</p>

<h1>Fast Search Version</h1>

<pre><code>:grep ord *.hs
</code></pre>

<p>You will see a grep result in console.
After pressing <Enter>, you come back to vim, &ldquo;:cn&rdquo;, &ldquo;:cp&rdquo; and &ldquo;:cw&rdquo;, etc,
are the same with above. This version use system &ldquo;grep&rdquo; command, so it&rsquo;s faster than &ldquo;:vim&rdquo;.</p>

<p>Ref:</p>

<p><a href="http://vim.wikia.com/wiki/Find_in_files_within_Vim">http://vim.wikia.com/wiki/Find_in_files_within_Vim</a></p>

<p>google &ldquo;vim quickfix&rdquo;</p>

<p>:h :vim, :h :grep, :h lv</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/17/160802/">Function of Getting Factors in Different Languages</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-12-17T16:08:02+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>17</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>4:08 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Haskell</h1>

<blockquote><p>factors n = [x | x &lt;- [1..n], n <code>mod</code> x == 0]</p>

<p>factors 4800
 &hellip;</p>

<p>length $ factors 4800</p></blockquote>

<p> 42</p>

<p>Add &ldquo;let&rdquo; before function definition when running in GHCi.</p>

<h1>Python</h1>

<blockquote><blockquote><blockquote><p>factors = lambda n: [x for x in range(1,n+1) if n % x == 0]</p>

<p>factors(4800)</p></blockquote></blockquote></blockquote>

<p> &hellip;</p>

<blockquote><blockquote><blockquote><p>len(factors(4800))</p></blockquote></blockquote></blockquote>

<p> 42</p>

<h1>Clojure</h1>

<p> user=> (defn factors [n] (filter #(= (mod n %) 0) (vec (range 1 (+ 1 n)))))</p>

<p> user=> (factors 4800)
 &hellip;
 user=> (count (factors 4800))</p>

<p> 42</p>

<h1>Ruby</h1>

<blockquote><p>factors = lambda {|n| (1..n).to_a.collect {|x| x if n % x == 0}.compact}
factors.call(4800)
 => &hellip;</p>

<p>factors.call(4800).size</p></blockquote>

<p> => 42</p>

<p>Compare Ruby version with that of Python, Python&rsquo;s style is more &ldquo;functional&rdquo;, while Ruby&rsquo;s style is pure object-oriented &ldquo;object.message&rdquo; format.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/16/174627/">Note About `Programming in Haskell`</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-12-16T17:46:27+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>5:46 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>1.7 Exercises</h1>

<ol>
<li>How should the definition of the function qsort be modified so that it produces a reverse sorted version of a list?</li>
</ol>


<p> qsort :: Ord a => [a] -> [a]
 qsort [] = []
 qsort (x:xs) = qsort bigger ++ [x] ++ qsort smaller where
     smaller = filter (&lt;=x) xs
     bigger = filter (>x) xs</p>

<h1>Type and Class</h1>

<p>Recall that a type is a collection of related values. Building upon this notion, a class is a collection of types that support certain overloaded operations called methods. &ndash; Section 3.9: Basic Classes</p>

<h1>Patterns Matching</h1>

<p>Section 4.4, excellent explanation about tuple pattern, list pattern and integer pattern.</p>

<p>Note that cons patterns must be parenthesised, because function application has higher priority than all other operators. (p34)</p>

<h1>4.8 Exercises</h1>

<ol>
<li>Splits an even-lengthed list into two halves:</li>
</ol>


<p> halve :: [a] -> ([a], [a])</p>

<p> halve x = splitAt (div (length x) 2) x</p>

<ol>
<li>safetail</li>
</ol>


<p> safetail :: [a] -> [a]</p>

<p> &ndash; conditional expression</p>

<p> safetail xs = if null xs then []</p>

<pre><code>    else tail xs
</code></pre>

<p> &ndash; guarded equation</p>

<p> safetail xs | null xs = []</p>

<pre><code>| otherwise = tail xs
</code></pre>

<p> &ndash; pattern matching</p>

<p> safetail [] = []</p>

<p> safetail xs = tail xs</p>

<h1>5.7 Exercies</h1>

<ol>
<li><p>sum [x**2|x&lt;-[1..100]]</p></li>
<li><p>replicate n x = [x | t &lt;- [1..n]]</p></li>
</ol>


<p> (answer of textbook: replicate n x = [x|_&lt;-[1..n]]</p>

<ol>
<li>Find pythagorean triples:</li>
</ol>


<p> pyths n = [(x,y,z)|x&lt;-[1..n], y&lt;-[1..n], z&lt;-[1..n], x<strong>2+y</strong>2==z**2]</p>

<ol>
<li>Find perfects number:</li>
</ol>


<p> factors n = [x | x &lt;- [1..n-1], n <code>mod</code> x == 0]</p>

<p> perfects n = [x|x&lt;-[1..n], x == sum (factors x)]</p>

<h1>sat function in Chapter 8</h1>

<p>The codes in section 8.1~8.3 and 8.6 doesn&rsquo;t work. The author explained it in chapter remarks(section 8.9) and the errata (Pages 74 to 78&hellip;). He also gave a monad version of &ldquo;Parser&rdquo; in his website: <a href="http://www.cs.nott.ac.uk/~gmh/Parsing.lhs">Code -> Parsing</a>. So I am afraid we have to learn some monads then come back to this interesting Haskell parser.</p>

<p>Ref: <a href="http://stackoverflow.com/questions/2607498/programming-in-haskell-error-in-sat-function">http://stackoverflow.com/questions/2607498/programming-in-haskell-error-in-sat-function</a></p>

<h1>Chapter 9</h1>

<h2>Clear Screen</h2>

<p>MyClr.hs:</p>

<p> module Main where
 cls :: IO ()
 cls = putStr &ldquo;\ESC[2J&rdquo;
 bingo :: IO ()
 bingo = putStr &ldquo;bingo!\n&rdquo;
 main = do cls
    bingo</p>

<p>$ ghc MyClr.hs</p>

<p>$ ./MyClr</p>

<p>You have to remove the type declaration sentences.</p>

<h2>StrLen</h2>

<p> strLen :: IO ()
 strLen = do putStr &ldquo;Enter a string: &rdquo;
    xs &lt;- getLine
    putStr &ldquo;The string has &rdquo;
    putStr (show (length xs))
    putStrLn &ldquo; characters.&rdquo;</p>

<p>Then load in ghci and run &ldquo;strLen&rdquo;.</p>

<h2>goto (in ghci)</h2>

<p> let goto (x,y) = putStr (&ldquo;\ESC[&rdquo; ++ show y ++ &ldquo;;&rdquo; ++ show x ++ &ldquo;H&rdquo;)</p>

<p> goto (20,20)</p>

<h1>Chapter 10</h1>

<h2>Normal Functions and Constructor Function</h2>

<p> data Shape = Circle Float | Rect Float Float</p>

<p>The constructors Circle and Rect are actually constructor functions, which produce results of type Shape from arguments of type Float . The difference between normal functions and constructor functions is that the latter have no defining equations, and exist solely for the purpose of building pieces of data. The expression Circle 1.0 is just a piece of data, in the same way that 1.0 itself is just data.</p>

<h2>Diferent Kinds of tree</h2>

<p>The parameter type &ldquo;a&rdquo; represents the stored data.</p>

<ul>
<li><p>Store data only in leaves: data Tree a = Leaf a | Node (Tree a) (Tree a)</p></li>
<li><p>Store data only in nodes:</p></li>
</ul>


<p> data Tree a = Leaf | Node (Tree a) a (Tree a)</p>

<p>and:</p>

<p> data Tree a = Node a [Tree a ]</p>

<ul>
<li>Store data both in leaves (data type is &ldquo;a&rdquo;) and nodes (data type is &ldquo;b&rdquo;):</li>
</ul>


<p> data Tree a b = Leaf a | Node (Tree a b) b (Tree a b)</p>

<h1>Chapter 11</h1>

<p> results ns = [res| (ls,rs) &lt;- split ns,
      lx &lt;- results ls,
      ry &lt;- results rs,
      res &lt;- combine' lx ry]</p>

<p>Above is a imperative-style calculation in list comprehension. The cost is you have to put your result in a list, while empty list means failure of calculation.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/16/113414/">Haskell Interactive Development in Emacs</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-12-16T11:34:14+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>11:34 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Installation</h1>

<p>Following <a href="https://github.com/haskell/haskell-mode">haskell-mode</a>.</p>

<ol>
<li>Use MELPA repository: add the following into ~/.emacs</li>
</ol>


<p> (require &lsquo;package)
 (add-to-list 'package-archives
    &rsquo;(&ldquo;melpa&rdquo; . &ldquo;<a href="http://melpa.milkbox.net/packages/">http://melpa.milkbox.net/packages/</a>&rdquo;) t)
 (package-initialize)</p>

<ol>
<li><p>M-x package-refresh-contents</p></li>
<li><p>M-x package-install [RET] haskell-mode</p></li>
</ol>


<h1>Usage</h1>

<ol>
<li><p>Open a haskell file in emacs;</p></li>
<li><p>Use &ldquo;C-c C-z&rdquo; to open ghci (but there isn&rsquo;t a jump-back shortcut, you can use C-x o);</p></li>
<li><p>Use &ldquo;C-c C-l&rdquo; to load file (same as &ldquo;:l <file_name>&rdquo;);</p></li>
</ol>


<p>However, there isn&rsquo;t tab-completion in the ghci invoked by &ldquo;C-c C-z&rdquo;, so you can start a console to run ghci;</p>

<h1>User Manual</h1>

<p>M-x info-display-manual [RET] haskell-mode</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/15/212740/">Note About `Yet Another Haskell Tutorial`</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-12-15T21:27:40+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>9:27 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Exercises Solutions</h1>

<p><a href="http://en.wikibooks.org/wiki/Haskell/YAHT">http://en.wikibooks.org/wiki/Haskell/YAHT</a></p>

<h1>Exercise 3.10</h1>

<p>Save the following scripts in SumInputs.hs:</p>

<p> module Main where
 main = do
  inputNumbers &lt;- getNumber
  putStrLn (&ldquo;The sum is &rdquo; ++ show (sum inputNumbers))
  putStrLn (&ldquo;The product is &rdquo; ++ show (foldr (*) 1 inputNumbers))
  printFactorials inputNumbers
 getNumber = do
  putStrLn &ldquo;Give me a number (or 0 to stop): &rdquo;
  number &lt;- getLine
  let num = read number
  if num == 0
   then return []
   else do
    rest &lt;- getNumber
    return (num : rest)
 printFactorials [] = putStrLn &ldquo;&rdquo;
 printFactorials (x:xs) = do
  putStrLn (show x ++ &ldquo; factorial is: &rdquo; ++ show (factorial x))
  printFactorials xs
 factorial 1 = 1
 factorial n = n * factorial (n-1)</p>

<ul>
<li><p>Run it in ghci: main</p></li>
<li><p>Compile and run in console:</p></li>
</ul>


<p> ghc &ndash;make SumInputs.hs -o myfac</p>

<p> ./myfac</p>

<h1>Exercise 4.4 &amp; 4.5</h1>

<p> data Pair a b = Pair a b
 pairFst (Pair x y) = x
 pairSnd (Pair x y) = y
 data Triple a b c = Triple a b c
 tripleFst :: Triple a b c -> a
 tripleFst (Triple a b c) = a
 tripleSnd (Triple a b c) = b
 tripleThr (Triple a b c) = c
 data Quadruple a b = Quadruple a a b b deriving (Show)
 firstTwo :: Quadruple a b -> [a]
 &ndash; you can&rsquo;t write it as: &hellip; -> [a, a]. This is not a valid type expression?
 firstTwo (Quadruple w x y z) = [w, x]</p>

<p> lastTwo :: Quadruple a b -> [b]
 lastTwo (Quadruple w x y z) = [y, z]</p>

<h1>Exercise 4.6</h1>

<p> data Tuple a b c d = Tuple1 a
      | Tuple2 a b
      | Tuple3 a b c
      | Tuple4 a b c d
      deriving (Show)
 tuple1 :: Tuple a b c d -> a
 tuple1 (Tuple1 x) = x
 tuple1 (Tuple2 x y) = x
 tuple1 (Tuple3 x y z) = x
 tuple1 (Tuple4 x y z t) = x
 tuple2 :: Tuple a b c d -> Maybe b
 tuple2 (Tuple1 x) = Nothing
 tuple2 (Tuple2 x y) = Just y
 tuple2 (Tuple3 x y z) = Just y
 tuple2 (Tuple4 x y z t) = Just y
 tuple3 :: Tuple a b c d -> Maybe c
 tuple3 (Tuple1 x) = Nothing
 tuple3 (Tuple2 x y) = Nothing
 tuple3 (Tuple3 x y z) = Just z
 tuple3 (Tuple4 x y z t) = Just z
 tuple4 :: Tuple a b c d -> Maybe d
 tuple4 (Tuple1 x) = Nothing
 tuple4 (Tuple2 x y) = Nothing
 tuple4 (Tuple3 x y z) = Nothing
 tuple4 (Tuple4 x y z t) = Just t</p>

<p>Pattern matching plays a big role in tuple-like data structure.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/12/15/122240/">Haskell Command-line Application Building</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-12-15T12:22:40+08:00'><span class='date'><span class='date-month'>Dec</span> <span class='date-day'>15</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>12:22 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Haskeline Package</h1>

<p><a href="http://hackage.haskell.org/package/haskeline">Haskeline</a> provides a user interface for line input in command-line programs. This library is similar in purpose to readline, but since it is written in Haskell it is (hopefully) more easily used in other Haskell programs.</p>

<p>A tab-completion solution based on haskeline: <a href="http://stackoverflow.com/questions/6147201/haskell-haskeline-word-completion">Haskell (haskeline) word completion</a></p>

<h1>Command Suite Parse</h1>

<p><a href="http://hackage.haskell.org/package/console-program">console-program</a> provides an infrastructure to build command line programs. It provides the following features:</p>

<ul>
<li><p>Declare any number of &ldquo;commands&rdquo; (modes of operation) of the program;</p></li>
<li><p>Declare options of these commands;</p></li>
<li><p>Collect options from a configuration file and the command line, and execute the proper command;</p></li>
</ul>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/39">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/37">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/10/29/200553/">将Meteor应用完整从1.2版本降级到1.1版本</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/29/112248/">Kibana Notes</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/29/080601/">Validate Data Defined by Simple-Schema</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/28/102957/">Play Meteor With Elasticsearch</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/27/120807/">Customize Dell Ubuntu Laptop Turn Off Screen and Lock</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/leetschau">@leetschau</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'leetschau',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Li Chao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
