
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dark Matter in Cyberspace</title>
  <meta name="author" content="Li Chao">

  
  <meta name="description" content="Rename project: edit project name in settings.gradle, then right click project, choose &ldquo;Reload Project&rdquo;;
Modify dependencies: edit build &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://leetschau.github.io/posts/10">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Dark Matter in Cyberspace" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Dark Matter in Cyberspace</a></h1>
  
    <h2>A note repository aims at Data Mining, Spark, Linux, Python.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:leetschau.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/13/102446/">Build Gradle Project in Netbeans</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-08-13T10:24:46+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:24 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><p>Rename project: edit project name in settings.gradle, then right click project, choose &ldquo;Reload Project&rdquo;;</p></li>
<li><p>Modify dependencies: edit build.gradle, then right click project, choose [Tasks -> buildDependents];</p></li>
</ul>


<p>The jVi plugin is not support Netbeans 8, so its editing is not very convenient like in Eclipse.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/13/102312/">Underscore in Scala</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-08-13T10:23:12+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>10:23 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>val name = &ldquo;abc&rdquo;
println(name.exists(_.isUpper))</p>

<p>Here &ldquo;_.isUpper&rdquo; is an anoymous function, which equals to &ldquo;x => x.isUpper&rdquo;.</p>

<p>Ref:
<a href="http://stackoverflow.com/questions/8260367/scala-placeholder-syntax">Scala placeholder syntax</a>
<a href="http://docs.scala-lang.org/tutorials/tour/anonymous-function-syntax.html">Anonymous Function Syntax</a>
<a href="http://ananthakumaran.in/2010/03/29/scala-underscore-magic.html">Scala underscore magic</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/13/090432/">Solve Integral Equation Set With Python</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-08-13T09:04:32+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>9:04 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The equation set is provided by 鲍珂 at 2014-8-12.</p>

<p>Host: Windows 7
VM: CentOS 6.5 minimal, python 2.6.6</p>

<p>Start VM, make sure its ssh service start with <code>service sshd status</code>;</p>

<p>Then connect it with Putty or Kitty;</p>

<h1>Install</h1>

<p>yum install wget
wget <a href="http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm">http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm</a>
rpm -ivh epel-release-6-8.noarch.rpm
yum update</p>

<p>// optional desktop environment, start with <code>startxfce4</code>
yum groupinstall Xfce
yum groupinstall Fonts
yum install xorg-x11-fonts-Type1 xorg-x11-fonts-misc</p>

<p>yum install python-pip
yum install vim-enhanced
yum install python-ipython.noarch
pip install argparse
pip install sympy
pip install mpmath
pip install scipy</p>

<h1>Symbolic Method</h1>

<p>from sympy import *
var(&lsquo;x y s&rsquo;)
integrate(gamma(x+y)/(gamma(x)+gamma(y))<em>s**(x-1)</em>(1-s)<strong>(y-1), (s, 0, 0.6))
integrate(gamma(x+y)/(gamma(x)+gamma(y))*s</strong>(x-1)*(1-s)**(y-1), (s, 0.9, 1))</p>

<p>Ref:
<a href="http://docs.sympy.org/0.7.0/tutorial.html">http://docs.sympy.org/0.7.0/tutorial.html</a>
<a href="http://scipy-lectures.github.io/advanced/sympy.html#integration">http://scipy-lectures.github.io/advanced/sympy.html#integration</a>
<a href="http://docs.sympy.org/dev/modules/integrals/integrals.html">http://docs.sympy.org/dev/modules/integrals/integrals.html</a>
<a href="http://docs.sympy.org/0.7.1/modules/mpmath/functions/gamma.html">http://docs.sympy.org/0.7.1/modules/mpmath/functions/gamma.html</a></p>

<h1>Numeric Method</h1>

<p>from <strong>future</strong> import division
from scipy.optimize import fsolve
from scipy.special import gamma
from scipy.integrate import fixed_quad</p>

<p>def myfunc(x, y, theta):
gmp = gamma(x+y) / (gamma(x)+gamma(y))
return gmp * theta<strong>(x-1) * (1-theta)</strong>(y-1)</p>

<p>def equations(p):
x, y = p
intg1 = fixed_quad(myfunc, 0, 0.6, args=(x, y))
intg2 = fixed_quad(myfunc, 0.9, 1, args=(x, y))
return (intg1[0] - 0.05, intg2[0] - 0.05)</p>

<p>xr, yr = fsolve(equations, (1, 1))
print equations((xr, yr))</p>

<p>Ref:</p>

<p><a href="http://stackoverflow.com/questions/8739227/how-to-solve-a-pair-of-nonlinear-equations-using-python">http://stackoverflow.com/questions/8739227/how-to-solve-a-pair-of-nonlinear-equations-using-python</a></p>

<p><a href="http://docs.scipy.org/doc/scipy-dev/reference/generated/scipy.integrate.fixed_quad.html#scipy.integrate.fixed_quad">http://docs.scipy.org/doc/scipy-dev/reference/generated/scipy.integrate.fixed_quad.html#scipy.integrate.fixed_quad</a></p>

<p><a href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.fsolve.html#scipy.optimize.fsolve">http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.fsolve.html#scipy.optimize.fsolve</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/11/144152/">Build Java Project With Eclipse, Gradle and Git</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-08-11T14:41:52+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>11</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>2:41 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Install and Usage</h1>

<p>The order should be:</p>

<ol>
<li><p>Install Oracle JDK on system: downlaod, extract, define $JAVA_HOME and add $JAVA_HOME/bin folder to $PATH in ~/.zshrc;</p></li>
<li><p>Install Gradle on System: downlaod, extract, define $GRADLE_HOME and add $GRADLE_HOME/bin folder to $PATH in ~/.zshrc;</p></li>
<li><p>Install Eclipse: download, extract;</p></li>
<li><p>Install Gradle plugin for eclipse via &ldquo;Market Place&rdquo; in Eclipse, because it&rsquo;s inconvenient to run gradle tasks in console while edit files in Eclipse;</p></li>
<li><p>Configure Gradle plugin: set its working JDK;</p></li>
<li><p>Build a new Gradle project in Eclipse, add git version control;</p></li>
<li><p>Run Gradle tasks: right click &ldquo;build.gradle&rdquo; file, then select &ldquo;Gradle -> Tasks Quick Launcher&rdquo; (or Shift + Alt + Ctrl +R) to bring Gradle launcher, then input tasks name.</p></li>
</ol>


<p>That&rsquo;s it.</p>

<h2>Frequently Used Tasks</h2>

<p>Some need adding &ldquo;apply plugin: &lsquo;application&rsquo;&rdquo; and &ldquo;mainClassName = &lsquo;com.boco.gdep.Probe&rsquo;&rdquo; into build.gradle.
Read <a href="http://www.gradle.org/docs/current/userguide/application_plugin.html">Gradle Application Plugin</a> for details.</p>

<ul>
<li><p>clean</p></li>
<li><p>check</p></li>
<li><p>test</p></li>
<li><p>compileJava</p></li>
<li><p>run</p></li>
<li><p>startScripts: create start scripts for your application;</p></li>
<li><p>distZip: build final deploy package, find zip file under build/distributions folder;</p></li>
<li><p>installApp: install package created in &ldquo;distZip&rdquo; into build/install folder;</p></li>
</ul>


<p>Note that in development stage, testing codes with JUnit (using F11 to launch last dubug) is better than using Gradle&rsquo;s test task (using Shift + Ctrl + Alt + R, then input &ldquo;test&rdquo; and <Enter>).</p>

<p>All these tasks can be executed within Eclipse and in console. So it works good both in development stage and BVT stage. A sample project using these tools is my <a href="https://github.com/leetschau/GDEP">GDEP</a> project.</p>

<h1>Debug Gradle with println</h1>

<p>Add the following scripts into build.gradle, then run &ldquo;check&rdquo; task.</p>

<pre><code>println "--------"
println project.name
println "--------"
</code></pre>

<h2>Customize project name</h2>

<p>Add a new file &ldquo;settings.gradle&rdquo; at the root of the project, add a string &ldquo;rootProject.name = &lsquo;myProj&rsquo;&rdquo; into the file. Now project name, jar file name, start script name will all be changed to myProject.jar/sh/zip, etc.</p>

<hr />

<p>First install gradle, then run the following commands:</p>

<pre><code>$ mkdir myproj
$ cd myproj
$ gradle init --type java-library
$ mkdir src/main/resources
$ mkdir src/test/resources
</code></pre>

<p>Now the project layout is ready. If you want to develop this project in Eclipse, add &ldquo;apply plugin: &lsquo;eclipse&rsquo;&rdquo; into build.gradle, then run:</p>

<pre><code>$ gradle eclipse
</code></pre>

<p>Then open this project with Eclipse.</p>

<p>The default project layout (file structure) of &ldquo;java&rdquo; plugin is described in &ldquo;Project layout&rdquo; section of <a href="http://www.gradle.org/docs/current/userguide/userguide.html">Gradle User Guide</a>:</p>

<p>src/main/java:           Production Java source
src/main/resources:      Production resources
src/test/java:           Test Java source
src/test/resources:      Test resources
src/sourceSet/java:      Java source for the given source set
src/sourceSet/resources: Resources for the given source set</p>

<p>Add git version control with:</p>

<pre><code>$ cd myproj
$ git init
</code></pre>

<p>In Eclipse Luna, the git plugin is build-in, so you can manage versions in command line or in eclipse.</p>

<p>Gradle will create many help files and folders, which is not the contents of the project. So we need exclude them using .gitignore:</p>

<pre><code>$ cat .gitignore
build
.gradle
gradle
...
</code></pre>

<p>Three Eclipse component &ldquo;.settings&rdquo;, &ldquo;.project&rdquo; and &ldquo;.classpath&rdquo; should be added to git repository.</p>

<h1>Merge Github Project and Eclipse Gradle Project</h1>

<ol>
<li><p>git clone <a href="https://github.com/leetschau/GDEP.git">https://github.com/leetschau/GDEP.git</a> gdep2</p></li>
<li><p>In Eclipse, build a new Gradle project &ldquo;GDEP-0811&rdquo; with &ldquo;Quick start&rdquo; template;</p></li>
<li><p>Move all files and folders in gdep2 to GDEP-0811;</p></li>
<li><p>Refresh project in Eclipse;</p></li>
<li><p>Build project with [right click on project -> Gradle -> Tasks Quick Launcher], enter &ldquo;build&rdquo;, and press <Enter>. If you encounter a &ldquo;Cannot find System Java Compiler&rdquo; error, set Gradle&rsquo;s Java compiler in [Window -> Preferences -> Gradle -> Arguments -> Java Home], select &ldquo;Workspace JRE&rdquo;: jdk1.6.0_45 (which is the JDK of you system, you have to install it yourself).</p></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/09/140312/">Serial Device Debug on Linux</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-08-09T14:03:12+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>9</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>2:03 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The device name is &ldquo;Prolific Technology, Inc. PL2303 Serial Port&rdquo;, you can use <code>lsusb</code> to get its name. Then install gtkterm for communicating with it.</p>

<pre><code>$ sudo apt-get install gtkterm
</code></pre>

<p>Now use syslog to get the device name of pl2303.</p>

<pre><code>$ tail -f /var/log/syslog
...
... usb 3-2: pl2303 converter now attached to ttyUSB0
...
</code></pre>

<p>So its device name is /dev/ttyUSB0. Now you can connect it with gtkterm:</p>

<pre><code>$ sudo gtkterm -p /dev/ttyUSB0 -s 57600
</code></pre>

<p>View -> Send hexadecimal data: 41 54 2B 53 43 41 4E</p>

<h1>minicom</h1>

<pre><code># apt-get install minicom
</code></pre>

<p>But I don&rsquo;t know how to send command via this application.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/08/155030/">Java Development Environment on Eclipse</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-08-08T15:50:30+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>3:50 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Eclipse</h1>

<p>Luna for Java Developer, file name: eclipse-java-luna-R-linux-gtk-x86_64.tar.gz</p>

<h1>Gradle plugin</h1>

<ol>
<li><p>Download gradle-2.0-all.zip, extract it to ~/apps;</p></li>
<li><p>Add following lines into ~/.zshrc and run <code>source ~/.zshrc</code>:</p>

<p> export GRADLE_HOME=/home/chad/apps/gradle-2.0
 export PATH=$PATH:$GRADLE_HOME/bin</p></li>
<li><p>Install &ldquo;Gradle IDE 3.6.0&rdquo;: searching &ldquo;gradle&rdquo; in Eclipse Marketplace and install it;</p></li>
</ol>


<h1>Vim mode plugin</h1>

<ol>
<li><p>Download vrapper_0.44.0_20140601.zip from <a href="http://sourceforge.net/projects/vrapper/">its website</a>;</p></li>
<li><p>Extract it under $ECLIPSE_HOME/dropins;</p></li>
<li><p>Start Eclipse;</p></li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/07/112649/">Run Python MapReduce on Hadoop Cluster</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-08-07T11:26:49+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>11:26 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Based on <a href="http://www.michael-noll.com/tutorials/writing-an-hadoop-mapreduce-program-in-python/">Writing an Hadoop MapReduce Program in Python</a>.</p>

<ol>
<li>Create mapper and reducer script and make them executable with <code>chmod 755 *.py</code>:</li>
</ol>


<p>mapper.py:</p>

<pre><code>#!/usr/bin/env python
import sys
# input comes from STDIN (standard input)
for line in sys.stdin:
    # remove leading and trailing whitespace
    line = line.strip()
    # split the line into words
    words = line.split()
    # increase counters
    for word in words:
        # write the results to STDOUT (standard output); what we output here will be the input for the Reduce step, i.e. the input for reducer.py tab-delimited; the trivial word count is 1
        print '%s\t%s' % (word, 1)
</code></pre>

<p>reducer.py:</p>

<pre><code>#!/usr/bin/env python

from operator import itemgetter
import sys

current_word = None
current_count = 0
word = None

# input comes from STDIN
for line in sys.stdin:
    # remove leading and trailing whitespace
    line = line.strip()

    # parse the input we got from mapper.py
    word, count = line.split('\t', 1)

    # convert count (currently a string) to int
    try:
        count = int(count)
    except ValueError:
        # count was not a number, so silently ignore/discard this line
        continue

    # this IF-switch only works because Hadoop sorts map output by key (here: word) before it is passed to the reducer
    if current_word == word:
        current_count += count
    else:
        if current_word:
            # write result to STDOUT
            print '%s\t%s' % (current_word, current_count)
        current_count = count
        current_word = word

# do not forget to output the last word if needed!
if current_word == word:
    print '%s\t%s' % (current_word, current_count)
</code></pre>

<ol>
<li><p>Get input text file and put them into hdfs: download the text version of <a href="http://www.gutenberg.org/etext/20417">The Outline of Science, Vol. 1 (of 4) by J. Arthur Thomson</a>, <a href="http://www.gutenberg.org/etext/5000">The Notebooks of Leonardo Da Vinci</a> and <a href="http://www.gutenberg.org/etext/4300">Ulysses by James Joyce</a>. Then upload them to hdfs:</p>

<p> $ hadoop fs -mkdir gutenberg
 $ hadoop fs -put pg<em>.txt gutenberg/
 $ hadoop jar /usr/lib/hadoop-0.20-mapreduce/contrib/streaming/hadoop-</em>streaming<em>.jar -file /home/hduser/mapper.py -mapper /home/hduser/mapper.py -file /home/hduser/reducer.py -reducer /home/hduser/reducer.py -input /user/hduser/gutenberg/</em> -output /user/hduser/gutenberg-output</p></li>
</ol>


<p>You have to make sure the &ldquo;gutenberg-output&rdquo; folder has not existed. When finished, you can see the result with:</p>

<pre><code>$ hadoop fs -ls gutenberg-output
$ hadoop fs -cat gutenberg-output/part-00000
</code></pre>

<p>Verified on CDH 4.3, built on 8 CentOS 6.3 64bit host, Python 2.6.6, 2014-8-7.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/07/092400/">Scala Development on Linux</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-08-07T09:24:00+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>7</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>9:24 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>sbt + vim</h1>

<ol>
<li><p>Download sbt package (sbt-0.13.5.deb for Mint 17 64bit) from <a href="http://www.scala-sbt.org/">sbt website</a>;</p></li>
<li><p>Install it, then start sbt repl with <code>sbt</code> in shell;</p></li>
</ol>


<p>This will install sbt and scala.</p>

<p>Now you can run scala repl with <code>sbt console</code> in shell, or run <code>console</code> within sbt repl.</p>

<h2>Script REPL</h2>

<p>Create a file &ldquo;Hi.scala&rdquo;:</p>

<pre><code>object Hi extends App {
    println("Hi, there")
}
</code></pre>

<p>Then run this script within sbt:</p>

<pre><code>$ sbt
...
&gt; run
...
[info] Running Hi
Hi, there
</code></pre>

<p>You can use tilde prefix to detect source change automatically, just use &ldquo;~run&rdquo; instead of &ldquo;run&rdquo; in above example.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/06/144020/">Manage Python Versions With Pyenv</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-08-06T14:40:20+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>6</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>2:40 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="https://github.com/yyuu/pyenv">pyenv</a> is python equivalent of rvm of ruby.
It can replace the virtualenvwrapper, and there&rsquo;s no need to install virtualenv before pyenv.
It will install virtualenv automatically.</p>

<p>On ArchLinux, you just install it according its documents on the website:</p>

<pre><code>$ curl -L https://raw.githubusercontent.com/yyuu/pyenv-installer/master/bin/pyenv-installer | bash
</code></pre>

<p>But on Mint 17, you have to install libraries beforehand:</p>

<pre><code>$ sudo apt-get install make build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev wget curl
</code></pre>

<p>Then run &ldquo;curl &hellip;&rdquo; to install it.</p>

<p>Then add &ldquo;export &hellip; eval &hellip;&rdquo; into ~/.zshrc according to its prompt at the end of the installation.</p>

<h1>Usage</h1>

<pre><code>$ pyenv commands         // list all available commands
$ pyenv install -l       // list all available versions to install
$ pyenv install 2.6.6
$ pyenv rehash           // run this command after install a new version
$ pyenv versions         // list all installed versions
$ pyenv shell 2.6.6      // set python version to 2.6.6 in this session (shell)
$ pyenv local 2.6.6      // create a .python-version file under CWD, it will use 2.6.6 afterwards according to this file
$ pyenv shell system     // go back to use the system python version
$ pyevn which python     // check the python path in current environment
$ pyenv uninstall 2.6.6
</code></pre>

<h2>No Special Package Nedded</h2>

<p>If your python project need no special dependency packages, use <code>pyenv local 2.6.6</code> is a good idea.
It only create a .python-version under the folder. Very clean.</p>

<h2>Need Install Package</h2>

<p>If your project need some package, which you don&rsquo;t want to put into system environment, use</p>

<pre><code>$ pyenv virtualenv 2.6.6 myproj
</code></pre>

<p>Now you have a INDEPENDENT python environment based on 2.6.6. You can verify this by run:</p>

<pre><code>$ cd myproj
$ pyenv activate myproj
$ pyenv which python
/home/chad/.pyenv/versions/myproj/bin/python
$ pyenv deactivate
</code></pre>

<h1>Fabric on ArchLinux</h1>

<p>Fabric uses library paramiko, which is incompatible with Python 3.x.
After fabric installed on ArchLinux with pip, when you run <code>fab test</code>, a &ldquo;cannot import name isMappingType&rdquo; error occurs.
So we need install a Python 2.7, then install fabric based on it:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>pyenv install 2.7.8
</span><span class='line'>pyenv shell 2.7.8
</span><span class='line'>pip install fabric</span></code></pre></td></tr></table></div></figure>


<p>Now create a test fabfile.py:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>def test():
</span><span class='line'>    print("hello world")</span></code></pre></td></tr></table></div></figure>


<p>And run it: <code>fab test</code>.</p>

<p>In a new shell, run fabric with <code>pyenv shell 2.7.8; fab test</code>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/05/183431/">List All Possible Sort Result of a List</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2014-08-05T18:34:31+08:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2014</span></span> <span class='time'>6:34 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The following Python codes gives all possible sort result of a list:</p>

<pre><code>def mysort(data):
    if len(data) == 1:
        return [data]
    res = []
    tail = data.pop()
    all_sort = mysort(data)
    for one_sort in all_sort:
        for i in range(0,len(one_sort)):
            res.append(one_sort[:i] + [tail] + one_sort[i:])
    return res

aa = [1, 2, 3, 4, 5]
print(mysort(aa))
</code></pre>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/11">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/posts/9">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/01/20/090427/">Encrypt and Remove Encryption in Vim</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/18/142454/">A Simple Search Homepage</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/18/121145/">Bootstrap 3的栅格系统</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/18/020909/">基于Bootstrap 3的页眉页脚控制</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/14/160455/">创建简单的网站Logo</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/leetschau">@leetschau</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'leetschau',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Li Chao -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
