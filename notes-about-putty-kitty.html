<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Li Chao" />
        <meta name="copyright" content="Li Chao" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="telnet, putty, ssh, ftp, Tech, " />

<meta property="og:title" content="Notes about Putty &amp; Kitty "/>
<meta property="og:url" content="http://leetschau.github.io/notes-about-putty-kitty.html" />
<meta property="og:description" content="Kitty是putty的portable版本，所有配置保存在文本文件中（putty保存在注册表中）， 新建kitty session比较好的方法是复制一份DefualtSettings文件，修改其中的字段， 而不通过kitty自己的配置界面，这个界面用起来很不方便，下面是配置过程： 定制默认配置：字体为11号Consolas，终端24行80列， Font\Consolas\ FontHeight\11\ TermHeight\24\ TermWidth\80\ 复制文件DefaultSettings为747：ssh lichao@10.0.7.47，端口号22， 连接后自动运行脚本d:\apps\Kitty\Scripts\cat47.txt （转义字符的写法是%+16进制的ASCII码，例如&#34;\&#34;是%5C，&#34;:&#34;是%3A） HostName\10.0.7.47\ Protocol\ssh\ PortNumber\22 …" />
<meta property="og:site_name" content="DarkMatter in Cyberspace" />
<meta property="og:article:author" content="Li Chao" />
<meta property="og:article:published_time" content="2012-12-24T16:40:44+08:00" />
<meta property="" content="2012-12-24T16:40:44+08:00" />
<meta name="twitter:title" content="Notes about Putty &amp; Kitty ">
<meta name="twitter:description" content="Kitty是putty的portable版本，所有配置保存在文本文件中（putty保存在注册表中）， 新建kitty session比较好的方法是复制一份DefualtSettings文件，修改其中的字段， 而不通过kitty自己的配置界面，这个界面用起来很不方便，下面是配置过程： 定制默认配置：字体为11号Consolas，终端24行80列， Font\Consolas\ FontHeight\11\ TermHeight\24\ TermWidth\80\ 复制文件DefaultSettings为747：ssh lichao@10.0.7.47，端口号22， 连接后自动运行脚本d:\apps\Kitty\Scripts\cat47.txt （转义字符的写法是%+16进制的ASCII码，例如&#34;\&#34;是%5C，&#34;:&#34;是%3A） HostName\10.0.7.47\ Protocol\ssh\ PortNumber\22 …">

        <title>Notes about Putty &amp; Kitty  · DarkMatter in Cyberspace
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://leetschau.github.io/"><span class=site-name>DarkMatter in Cyberspace</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://leetschau.github.io">Home</a></li>
                            <li ><a href="http://leetschau.github.io/categories.html">Categories</a></li>
                            <li ><a href="http://leetschau.github.io/tags.html">Tags</a></li>
                            <li ><a href="http://leetschau.github.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://leetschau.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://leetschau.github.io/notes-about-putty-kitty.html"> Notes about Putty & Kitty  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <hr>
<p>Kitty是putty的portable版本，所有配置保存在文本文件中（putty保存在注册表中），
新建kitty session比较好的方法是复制一份DefualtSettings文件，修改其中的字段，
而不通过kitty自己的配置界面，这个界面用起来很不方便，下面是配置过程：</p>
<ol>
<li>
<p>定制默认配置：字体为11号Consolas，终端24行80列，</p>
<p>Font\Consolas\ 
FontHeight\11\
TermHeight\24\ 
TermWidth\80\ </p>
</li>
<li>
<p>复制文件DefaultSettings为747：ssh lichao@10.0.7.47，端口号22，
   连接后自动运行脚本d:\apps\Kitty\Scripts\cat47.txt
   （转义字符的写法是%+16进制的ASCII码，例如"\"是%5C，":"是%3A）</p>
<p>HostName\10.0.7.47\ 
Protocol\ssh\
PortNumber\22\ 
UserName\lichao\ 
Scriptfile\D%3A%5CApps%5CKitty%5CScripts%5Ccat47.txt\</p>
</li>
<li>
<p>编写自动运行脚本（如果需要的话）：格式是一行预期一行发送
   （见笔记“ Notes about Kitty ”）；</p>
</li>
<li>
<p>保持密码（可选）：启动配置界面（kitty.exe），加载747，输入登录密码
   （密码是加密后存入配置文件的，无法直接在配置文件里写），保存747；</p>
</li>
</ol>
<h1>切换全屏模式</h1>
<p>Ctrl + right click，点击菜单切换全屏，当连接的"FullScreenOnAltEnter"设置为true时，
也可以用Alt+Enter切换（在配置界面上的位置是Window-&gt;Behavior最后一项，
或者session文件中" FullScreenOnAltEnter\1\ "）；</p>
<h1>连接断开后自动关闭窗口</h1>
<p>session文件中"CloseOnExit\1\"表示自动关闭，"CloseOnExit\0\"表示不自动关闭；</p>
<p>"AltF4\1\"表示可以用Alt+F4关闭窗口，0表示此组合键无效；</p>
<h1>TCP连接</h1>
<p>putty.exe -raw <ip> -P <port>
例如：putty -raw 10.31.1.23 -P 3128</p>
<h1>SSH自动登录</h1>
<p><code>putty.exe -ssh -pw mypassword username@10.0.2.68</code></p>
<p>参考：
http://superuser.com/questions/44106/is-there-a-way-to-auto-login-in-putty-with-a-password</p>
<h1>文件传输</h1>
<h2>一次性传输：pscp</h2>
<h3>上传文件</h3>
<p>将f:\hw.txt上传到219的/home/chad目录下：
<code>pscp -pw mypwd f:\*.txt chad@10.31.1.219:/home/chad/</code></p>
<h3>下载文件</h3>
<p>将96上的/home/chad/hw.txt文件下载到f:\下：
<code>pscp -pw mypwd chad@10.31.1.96:home/chad/*.txt f:\</code></p>
<p>将113上autoClient文件夹下所有文件拷贝到当前目录下：
<code>pscp -pw mypwd lichao@10.31.1.113:/home/lichao/autoClient/* ./autoClient/</code></p>
<p>注意本地的文件夹autoClient必须存在（pscp不能自己创建文件夹），
且pscp不支持/*<em>/</em>这样的多级目录拷贝；autoClient后面的/必须加，
否则会把autoClient当成拷贝文件的新名字；</p>
<p>这两种指令都可以在目标路径后面写上文件名，达到修改文件名的目的；</p>
<p>参考：putty文档 chapter 5.</p>
<h1>交互式传输：psftp</h1>
<ul>
<li>
<p>登录服务器：psftp -pw mypwd username@10.2.3.56</p>
</li>
<li>
<p>查询服务器当前目录：pwd</p>
</li>
<li>
<p>改变服务器当前目录：cd ...</p>
</li>
<li>
<p>查询和改变本地目录：lpwd, lcd</p>
</li>
<li>
<p>上传：put f:\hw.txt</p>
</li>
<li>
<p>下载：get hw.txt</p>
</li>
<li>
<p>运行本地命令：!+cmd_name，例如!dir显示本地文件，!type Readme.txt显示Readme.txt文件内容；</p>
</li>
<li>
<p>上传/下载多个文件：mput/mget;</p>
</li>
<li>
<p>psftp.exe的自动执行脚本：psftp user@10.0.2.47 -bc -b myscript，（相对于putty的-m参数）</p>
</li>
</ul>
<p>myscript文件内容是自动执行的指令，例如：</p>
<div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">ftp</span><span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="n">jeff</span> 
<span class="n">del</span> <span class="n">jam</span><span class="o">-</span><span class="k">old</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span> 
<span class="n">ren</span> <span class="n">jam</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span> <span class="n">jam</span><span class="o">-</span><span class="k">old</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span> 
<span class="n">put</span> <span class="n">jam</span><span class="p">.</span><span class="n">tar</span><span class="p">.</span><span class="n">gz</span>
</pre></div>


<p>详见putty文档6.2节；</p>
<h1>设置Putty默认属性</h1>
<p>在$PUTTY_HOME\sessions\下有一个%C4%AC%C8%CF%C9%E8%D6%C3文件，
其中C4AC C8CF C9E8 D6C3是“默认设置”的Unicode编码，这个文件里保存的是默认设置，
设置默认设置的好处是以后凡不指明都是用默认值（对于开关选项，0表示关闭，1表示开启）：</p>
<div class="highlight"><pre><span></span><span class="n">Font</span><span class="err">\</span><span class="n">Lucida</span><span class="o">%</span><span class="mi">20</span><span class="n">Console</span><span class="err">\</span> 
<span class="n">LineCodePage</span><span class="err">\</span><span class="n">UTF</span><span class="o">-</span><span class="mi">8</span><span class="err">\</span> 
<span class="n">ScrollbackLines</span><span class="err">\</span><span class="mi">20000</span><span class="err">\</span> <span class="p">;</span> <span class="err">缓冲区行数</span> 
<span class="n">Protocol</span><span class="err">\</span><span class="n">ssh</span><span class="err">\</span> <span class="p">;</span> <span class="err">默认连接协议，可以不用</span><span class="o">-</span><span class="n">ssh参数特别说明</span> 
<span class="n">TerminalType</span><span class="err">\</span><span class="n">xterm</span><span class="err">\</span>

<span class="n">FullScreenOnAltEnter</span><span class="err">\</span><span class="mi">1</span><span class="err">\</span> <span class="p">;</span> <span class="err">按</span><span class="n">Alt</span><span class="o">+</span><span class="n">Enter进入全屏模式</span> 
<span class="n">CloseOnExit</span><span class="err">\</span><span class="mi">0</span><span class="err">\</span> <span class="p">;</span> <span class="err">退出网元后不关闭窗口（改为</span><span class="mi">1</span><span class="err">是关闭窗口）</span> 
<span class="n">MouseIsXterm</span><span class="err">\</span><span class="mi">0</span><span class="err">\</span> <span class="p">;</span> <span class="n">unix</span><span class="o">-</span><span class="n">style</span> <span class="k">Copy</span><span class="o">/</span><span class="n">Paste</span><span class="p">:</span> <span class="err">左键选择，右键粘贴</span>
</pre></div>


<h1>使用方法</h1>
<p>对于常用连接，可以写成一个bat脚本，用Executor做快捷键启动；对于临时连接，
可以手工敲开始处的ssh自动登录脚本连接。</p>
<h2>putty无法自动登录问题</h2>
<p>现象：telnet无法自动登录：putty -telnet user@10.0.2.34，然后手工输入密码。</p>
<p>解决方法：使用kitty_portable代替putty，它可以输入登录密码，
然后把自动登录服务器保存为一个session，例如名为mysession，
然后用<code>kitty -load mysession</code>启动之。</p>
<p>putty也有-load参数，但它的session信息是保存在注册表里，portable能力稍差。</p>
<p>参考：</p>
<ul>
<li>
<p><a href="http://dag.wieers.com/blog/content/improving-putty-settings-on-windows">Improving Putty settings on Windows</a></p>
</li>
<li>
<p><a href="http://heroxuan.iteye.com/blog/560682">精彩PuTTY 中文教程</a></p>
</li>
</ul>
            
            
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2012-12-24T16:40:44+08:00">Dec 24, 2012</time>

<h4>Last Updated</h4>
<time datetime="2012-12-24T16:40:44+08:00">Dec 24, 2012</time>

            <h4>Category</h4>
            <a class="category-link" href="http://leetschau.github.io/categories.html#tech-ref">Tech</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="http://leetschau.github.io/tags.html#ftp-ref">ftp
                    <span>7</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#putty-ref">putty
                    <span>3</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#ssh-ref">ssh
                    <span>22</span>
</a></li>
                <li><a href="http://leetschau.github.io/tags.html#telnet-ref">telnet
                    <span>10</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>