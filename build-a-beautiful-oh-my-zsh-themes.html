<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Li Chao" />
        <meta name="copyright" content="Li Chao" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="zsh, prompt, color theme, Tech, " />

<meta property="og:title" content="Build a Beautiful oh-my-zsh Themes "/>
<meta property="og:url" content="/build-a-beautiful-oh-my-zsh-themes.html" />
<meta property="og:description" content="What is a beautiful prompt double line; provide username, hostname, current directory; provide information of git branch and commit status; provide command exit code; prompt is easy to distinguished from command results; optional: provide command order number, current time; Customize zsh prompt Some important escape sequences in zsh prompt: %n …" />
<meta property="og:site_name" content="DarkMatter in Cyberspace" />
<meta property="og:article:author" content="Li Chao" />
<meta property="og:article:published_time" content="2013-07-12T09:21:33+08:00" />
<meta property="" content="2013-07-12T09:21:33+08:00" />
<meta name="twitter:title" content="Build a Beautiful oh-my-zsh Themes ">
<meta name="twitter:description" content="What is a beautiful prompt double line; provide username, hostname, current directory; provide information of git branch and commit status; provide command exit code; prompt is easy to distinguished from command results; optional: provide command order number, current time; Customize zsh prompt Some important escape sequences in zsh prompt: %n …">

        <title>Build a Beautiful oh-my-zsh Themes  · DarkMatter in Cyberspace
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="/"><span class=site-name>DarkMatter in Cyberspace</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="">Home</a></li>
                            <li ><a href="/categories.html">Categories</a></li>
                            <li ><a href="/tags.html">Tags</a></li>
                            <li ><a href="/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="/build-a-beautiful-oh-my-zsh-themes.html"> Build a Beautiful oh-my-zsh Themes  </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <hr>
<h1>What is a beautiful prompt</h1>
<ul>
<li>
<p>double line;</p>
</li>
<li>
<p>provide username, hostname, current directory;</p>
</li>
<li>
<p>provide information of git branch and commit status;</p>
</li>
<li>
<p>provide command exit code;</p>
</li>
<li>
<p>prompt is easy to distinguished from command results;</p>
</li>
<li>
<p>optional: provide command order number, current time;</p>
</li>
</ul>
<h1>Customize zsh prompt</h1>
<p>Some important escape sequences in zsh prompt: </p>
<ul>
<li>
<p>%n: username;</p>
</li>
<li>
<p>%m: hostname;</p>
</li>
<li>
<p>%~: current directory;</p>
</li>
<li>
<p>%t: current time;</p>
</li>
<li>
<p>%?: return code of last command;</p>
</li>
</ul>
<p>Customization of font and color see the following demonstration.</p>
<p>Ref:</p>
<ul>
<li>
<p>"3.9 Customizing the prompt" on <a href="https://wiki.archlinux.org/index.php/Zsh">zsh on archlinux</a></p>
</li>
<li>
<p><a href="http://www.acm.uiuc.edu/workshops/zsh/prompt/escapes.html">Using escape sequences in prompts</a></p>
</li>
</ul>
<h2>Put it together</h2>
<ol>
<li>
<p>Create a new file: ~/.oh-my-zsh/themes/lichao.zsh-theme:</p>
<p>rc=<span class="math">\(reset_color
cy=\)</span>fg_bold[cyan]
bl=<span class="math">\(fg_bold[blue]
re=\)</span>fg_bold[red]
wh=<span class="math">\(fg_bold[white]
ye=\)</span>fg_bold[yellow]
gr=<span class="math">\(fg_bold[green]
ma=\)</span>fg_bold[magenta]</p>
<p>ZSH_THEME_GIT_PROMPT_PREFIX="git("
ZSH_THEME_GIT_PROMPT_SUFFIX="):"
ZSH_THEME_GIT_PROMPT_CLEAN="✔"
ZSH_THEME_GIT_PROMPT_DIRTY="✗"
ZSH_THEME_GIT_PROMPT_ADDED="%{<span class="math">\(fg[green]%} ✚"
ZSH_THEME_GIT_PROMPT_MODIFIED="%{\)</span>fg[blue]%} M"
ZSH_THEME_GIT_PROMPT_DELETED="%{<span class="math">\(fg[red]%} ✖"
ZSH_THEME_GIT_PROMPT_RENAMED="%{\)</span>fg[magenta]%} ➜"
ZSH_THEME_GIT_PROMPT_UNMERGED="%{<span class="math">\(fg[yellow]%} ═"
ZSH_THEME_GIT_PROMPT_UNTRACKED="%{\)</span>fg[cyan]%} U"</p>
<p>PROMPT='<span class="math">\(ye%n\)</span>rc @ <span class="math">\(cy%m $gr%~ $re\)</span>(git_prompt_info)<span class="math">\((git_prompt_status)\)</span>rc <span class="math">\(wh%t\)</span>rc
[%?] '</p>
</li>
<li>
<p>Modify "ZSH_THEME" in ~/.zshrc as:</p>
<p>ZSH_THEME="lichao"</p>
</li>
</ol>
<p>Note: If you want add any color or highlight in the 2nd line of the prompt,
  remember escape the color directives with "%{" and "%}".
  For example, if your prompt is like this:</p>
<div class="highlight"><pre><span></span>PROMPT=&#39;<span class="nv">$ye</span>%n<span class="nv">$rc</span> @ <span class="nv">$cy</span>%m <span class="nv">$gr</span>%~ <span class="nv">$re</span>$(git_prompt_info)$(git_prompt_status)<span class="nv">$rc</span> <span class="nv">$wh</span>%t<span class="nv">$rc</span>
<span class="cp">${</span><span class="n">wh</span><span class="cp">}</span>[%?]<span class="cp">${</span><span class="n">rc</span><span class="cp">}</span> &#39;
</pre></div>


<p>you have to define variables like this:</p>
<div class="highlight"><pre><span></span><span class="x">wh=%</span><span class="cp">{</span><span class="nv">$fg_bold</span><span class="o">[</span><span class="na">white</span><span class="o">]%</span><span class="cp">}</span><span class="x"></span>
<span class="x">rc=%</span><span class="cp">{</span><span class="nv">$reset_color</span><span class="o">%</span><span class="cp">}</span><span class="x"></span>
</pre></div>


<p>If you keep using variables without escape, when you use tab-completion, your command line will be messed up.</p>
<p>Ref:
http://stackoverflow.com/questions/13546672/custom-oh-my-zsh-theme-long-prompts-disappear-cut-off/14179542#14179542
http://stackoverflow.com/questions/7957435/zsh-auto-complete-screws-up-command-name/10644062#10644062</p>
<h1>Recommended Themes</h1>
<p>kphoen: double line, display user, host, CWD, command exit code when it's nonzero,
  git branch and status, no time, its title line is darker than "ys",
  but the command and command output is the same;</p>
<p>ys: double line, display user, host, CWD, time, partial git information, no exit code;</p>
<p>bureau: double line, display user, host, CWD, time, complete git information, no exit code;</p>
<p>steeef: double line, display user, host, CWD, complete git information, no exit code;</p>
<p>rkj: double line, display user, host, CWD, time, command exit code, no git information;</p>
<p>duellj: double line, display user, host, CWD, command order number, time, no git information;</p>
<p>some other good themes includes: frisk, candy, blinks</p>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
            
            
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2013-07-12T09:21:33+08:00">Jul 12, 2013</time>

<h4>Last Updated</h4>
<time datetime="2013-07-12T09:21:33+08:00">Jul 12, 2013</time>

            <h4>Category</h4>
            <a class="category-link" href="/categories.html#tech-ref">Tech</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="/tags.html#color-theme-ref">color theme
                    <span>3</span>
</a></li>
                <li><a href="/tags.html#prompt-ref">prompt
                    <span>2</span>
</a></li>
                <li><a href="/tags.html#zsh-ref">zsh
                    <span>4</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>