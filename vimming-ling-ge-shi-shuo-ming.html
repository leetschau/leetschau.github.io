<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8"> 
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Li Chao" />
        <meta name="copyright" content="Li Chao" />

        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="Vim, Tech, " />

<meta property="og:title" content="VIM命令格式说明"/>
<meta property="og:url" content="http://leetschau.github.io/vimming-ling-ge-shi-shuo-ming.html" />
<meta property="og:description" content="VIM 的命令格式由 4 部分组成：操作次数，动作名称，目标的数量，目标名称 其中操作次数和目标的数量两项如不指明，则视为1。 原文来自网络，其中“ Vi Syntax ”一节写的尤其好，对什么是动作、什么是目标解释的非常清楚。 The vi is a text editor. It is small, powerful, and standard on most UNIX systems. The vi often frustrates new users with a unique distinction between its two modes: Command Mode and …" />
<meta property="og:site_name" content="DarkMatter in Cyberspace" />
<meta property="og:article:author" content="Li Chao" />
<meta property="og:article:published_time" content="2010-06-25T13:57:11+08:00" />
<meta property="" content="2017-11-01T11:57:24+08:00" />
<meta name="twitter:title" content="VIM命令格式说明">
<meta name="twitter:description" content="VIM 的命令格式由 4 部分组成：操作次数，动作名称，目标的数量，目标名称 其中操作次数和目标的数量两项如不指明，则视为1。 原文来自网络，其中“ Vi Syntax ”一节写的尤其好，对什么是动作、什么是目标解释的非常清楚。 The vi is a text editor. It is small, powerful, and standard on most UNIX systems. The vi often frustrates new users with a unique distinction between its two modes: Command Mode and …">

        <title>VIM命令格式说明 · DarkMatter in Cyberspace
</title>
        <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
        <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/pygments.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/tipuesearch/tipuesearch.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/elegant.css" media="screen">
        <link rel="stylesheet" type="text/css" href="http://leetschau.github.io/theme/css/custom.css" media="screen">
    </head>
    <body>
        <div id="content-sans-footer">
        <div class="navbar navbar-static-top">
            <div class="navbar-inner">
                <div class="container-fluid">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="http://leetschau.github.io/"><span class=site-name>DarkMatter in Cyberspace</span></a>
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right top-menu">
                            <li ><a href="http://leetschau.github.io">Home</a></li>
                            <li ><a href="http://leetschau.github.io/categories.html">Categories</a></li>
                            <li ><a href="http://leetschau.github.io/tags.html">Tags</a></li>
                            <li ><a href="http://leetschau.github.io/archives.html">Archives</a></li>
                            <li><form class="navbar-search" action="http://leetschau.github.io/search.html" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span1"></div>
                <div class="span10">
<article>
<div class="row-fluid">
    <header class="page-header span10 offset2">
    <h1><a href="http://leetschau.github.io/vimming-ling-ge-shi-shuo-ming.html"> VIM命令格式说明 </a></h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">

            
            <hr>
<p>VIM 的命令格式由 4 部分组成：操作次数，动作名称，目标的数量，目标名称</p>
<p>其中操作次数和目标的数量两项如不指明，则视为1。
原文来自网络，其中“ Vi Syntax ”一节写的尤其好，对什么是动作、什么是目标解释的非常清楚。
The vi is a text editor. It is small, powerful, and standard on most UNIX systems.
The vi often frustrates new users with a unique distinction between its two modes:
Command Mode and Insert/Overtype Mode. This distinction,
although difficult to become accustomed to for many users,
provides great power and ability to the editor.</p>
<p>Insert/Overtype Mode is designed for inserting text only.
All text manipulations and cursor moving should be done from with in Command Mode.</p>
<h1>Entering the vi</h1>
<div class="highlight"><pre><span></span><code><span class="err">prompt$ vi</span>
<span class="err">prompt$ vi file1 file2 …</span>
<span class="err">prompt$ vi -r file #Recover file from crash</span>
<span class="err">prompt$ vi +string file #Execute ex command “ string ”</span>
<span class="err">prompt$ vi @rcfile #Read commands from rcfile</span>
</code></pre></div>


<h1>Insert/Overtype Mode</h1>
<p>Insert/Overtype Mode is solely for entering text.
To leave one of these two modes press the [ESC] key.
If you wish to enter the ESC character or any other control character while in
insert mode: type [CONTROL]-V and then the control sequence.
The only difference between Insert Mode and Overtype Mode is that characters
are placed in front of the text after the cursor in Insert Mode,
where as existing characters are overwritten in Overtype Mode.</p>
<h1>Command Mode</h1>
<p>Entering Insert Mode:</p>
<p>a — append text, after the cursor
i — insert text, before the cursor
R — enter Overtype Mode
A — append text, after end of line
I — insert text, before first non-whitespace character
o — open new line below cursor in Insert Mode
O — open new line above cursor in Insert Mode</p>
<h1>vi Syntax</h1>
<p>vi commands follow the general form:
<em>n operator m object</em> which means:
execute operator n times on m objects. If n and/or m are omitted, they default to 1.
Operators which take objects are (if the operator is pressed twice then the object is the current line)</p>
<div class="highlight"><pre><span></span><code><span class="n">c</span> <span class="s">—</span> <span class="s">Change</span>
<span class="n">d</span> <span class="s">—</span> <span class="s">Deletion</span>
<span class="s">&#39;</span><span class="err">cy — Yank, if c is omitted, uses general buffer.</span>
<span class="o">&lt;</span> — <span class="n">shift</span> <span class="n">lines</span> <span class="n">left</span> <span class="n">by</span> <span class="n">shiftwidth</span> <span class="n">variable</span>
<span class="o">&gt;</span> — <span class="n">shift</span> <span class="n">lines</span> <span class="n">right</span> <span class="n">by</span> <span class="n">shiftwidth</span> <span class="n">variable</span>
<span class="sx">!cmd — filter trough cmd</span>
</code></pre></div>


<p>The operators &lt; , &gt;, and ! are line based so the set of objects is diminished greatly.</p>
<p>Operators which do not take objects:</p>
<p>s — Substitute
x — Delete character
r — Replace character
~ — change case of character</p>
<p>Objects (if given with out an operator are interpreted as a cursor motion command):</p>
<dl>
<dt>w — forward until beginning of word</dt>
<dt>e — forward until end of word</dt>
<dt>b — backward until beginning of word</dt>
<dt>$ — forward until end of line</dt>
<dt>^ — backward until first non-whitespace character</dt>
<dt>0 — backward until first column of line</dt>
<dt>nG — line number n</dt>
<dt>n| — column n of current line</dt>
<dt>/pat — forward until beginning of pat, search</dt>
<dt>?pat — backward until beginning of pat, backward search</dt>
<dt>n — repeat last search</dt>
<dt>N — repeat last search/backward search, but in opposite direction</dt>
<dt>% — until match of parenthesis, brace, or bracket</dt>
<dt>tc — until next appearance of c on current line</dt>
<dt>Tc — backward until next appearance of c on current line</dt>
<dt>fc — until and including next appearance of c on current line</dt>
<dt>Fc — backward until and including next appearance of c on current line</dt>
<dt>; — repeat last f, F, t, or T</dt>
<dt>, — repeat last f, F, t, or T in reverse</dt>
<dt>} — forward until end of paragraph</dt>
<dt>{ — backward until end of paragraph</dt>
<dt>) — forward until end of sentence</dt>
<dt>( — backward until end of sentence</dt>
<dt>]] — forward until end of section</dt>
<dt>[[ — backward until end of section</dt>
<dt>nH — n lines before first line on screen; n defaults to 0</dt>
<dt>nL — n lines before last line on screen; n defaults to 0</dt>
<dt>M — the middle line of the screen</dt>
<dt>j — down one line</dt>
<dt>k — up one line</dt>
<dt>h — left one character</dt>
<dt>l — right one character</dt>
<dt>[BS] — left one character, backspace usually equals H</dt>
<dt>[SPACE] — right one character</dt>
<dt>_ — the entire current line</dt>
<dt>- — until first non-whitespace character on previous line</dt>
<dt>+ — until first non-whitespace character on next line</dt>
<dt>[RETURN] — until first non-whitespace character on next line</dt>
<dt>Miscellaneous</dt>
<dt>u — undo last change</dt>
<dt>U — undo entire line</dt>
<dt>“ cp — put “ c or general buffer after the cursor</dt>
<dt>“ cP — put “ c or general buffer before the cursor</dt>
<dt>mc — set mark with character c</dt>
<dt>`c — goto mark c</dt>
<dt>‘ c — goto beginning of line with mark c</dt>
<dt>`` — return to position before mark jump or search</dt>
<dt>’’— return to beginning of line before mark jump or search</dt>
<dt>J — join two lines</dt>
<dt>D — delete rest of line</dt>
<dt>C — change rest of line</dt>
<dt>Y — yank current line into general buffer</dt>
<dt>&amp; — execute last ex-style substitution</dt>
<dt>. — execute last modification</dt>
<dt>! object command — send object as stdin to command and replace with stdout</dt>
<dt>[Ctrl]G - print information about file</dt>
<dd>map x y — when character x is pressed, execute y</dd>
<dd>map! x y — map input mode character x to string y</dd>
<dd>ab x y — x is an abbreviation for y, changes are made on the fly</dd>
<dd>su — Suspend the current editor session</dd>
<dd>
<dl>
<dt>sh — run a shell</dt>
<dt>ex Commands</dt>
<dt>ex syntax</dt>
<dt>ex commands in the vi follow this general form:</dt>
<dd>address command
which means:
Execute command on specific lines obtained from the address part of the general form.
If address is omitted, current line is used. Keep in mind that the ex is a line
based editor, so all actions are line based.</dd>
</dl>
</dd>
<dt>addresses:</dt>
<dt>% — all lines in file</dt>
<dt>x,y — lines x to y</dt>
<dt>. — current line</dt>
<dt>n — line number: n</dt>
<dt>$ — last line of file</dt>
<dt>x-n — n lines before line x</dt>
<dt>x+n — n lines after line x</dt>
<dt>/pat/ — forward to line containing pat</dt>
<dt>?pat? — backward to line containing pat</dt>
<dt>Some commands are:</dt>
<dt>s/pat/text/ — substitute 1st match of pat with text</dt>
<dt>s/pat/text/g — substitute every match of pat with text</dt>
<dt>s/pat/text/n — substitute the nth occurrence of pat with text</dt>
<dt>ya c — yank into buffer c or the general buffer if c is omitted</dt>
<dt>g address cmd — execute cmd on all lines which satisfy address</dt>
<dt>&gt; — shift right</dt>
<dt>&lt; — shift left</dt>
<dt>d — delete line</dt>
<dt>! UNIX-cmd — execute UNIX-cmd on line</dt>
<dt>m address — move lines to address</dt>
<dt>refer to ex manual page for more commands</dt>
<dt>The vi environment variables</dt>
<dt>set</dt>
<dt>You can customize your environment with this command by typing set var=value, this will set the specified var to value for a scalar variable. For boolean variables, use set var to set and set novar to unset. You can see which variables are set by just typing the set by its self. You can see a list of all variables by typing set all. Some environment variables are specific to the ex editor and some are specific to the vi editor. I have included both.</dt>
<dt>boolean variables:</dt>
<dt>autoindent(ai) — begin editing next line at same level of indent-ion as this one.</dt>
<dt>autowrite(aw) — write current buffer before leaving</dt>
<dt>exrc(ex) — tells vi/ex if it should read the .exrc file in the current directory.</dt>
<dt>errorbells — editor sends a beep to the terminal when an incorrect</dt>
<dt>ignorecase(ic) — ignore case of characters in searches.</dt>
<dt>list — place a $ at the end of each line and a ^I on each tab.</dt>
<dt>magic — allow ., [, and * to be interpreted as special characters in RE ’ s.</dt>
<dt>number(nu) — number lines in left margin</dt>
<dt>showmatch(sm) — when closing a paren., brace or bracket; move the visual cursor to opening item to check scope</dt>
<dt>showmode(smd) — show type of insert mode</dt>
<dt>wrapscan(ws) — when searching and at bottom of file, continue searching from the top</dt>
<dt>scalar variables:</dt>
<dt>shiftwidth — number of spaces to to insert on a shift operation</dt>
<dt>File Saving and Loading</dt>
<dd>wq — write file and quit</dd>
<dd>w — write file</dd>
<dd>w file — write to specified file</dd>
<dd>w! — overwrite existing file</dd>
<dd>e file — edit new file</dd>
<dd>r file — put contents of file</dd>
<dd>q — quit the editor</dd>
<dd>q! — force quit the editor, do not save changes</dd>
<dd>
<dl>
<dt>x — quit the editor, save file if it was modified</dt>
<dt>ZZ — quit the editor, save file if it was modified</dt>
<dd>n — start editing next file in list</dd>
<dd>
<dl>
<dt>rew — rewind file list, start editing 1st file on argument list again</dt>
<dt>Q — quit vi and enter ex</dt>
<dd>pre — Preserve file.</dd>
<dd>rec file — recover file
Examples
j — move cursor down
k — move cursor up
h = [BS] — move cursor left
l = [SPACE] — move cursor right
+ = [RETURN] — first non-whitespace character on next line
cw — change word
dd = d_ — delete line
yy = y_ — yank current line into the general buffer
“ ayj — yank current line and one below into buffer a
yfc — yank until next occurrence of c on current line into the general buffer
3dl = d3l — delete next 3 characters
4c( = 2c2( = c4( — change next 4 sentences<blockquote>
<p>% — while on a brace, paren., or bracket; shift right until closing brace, etc.
:%!sort = :1,<span class="math">\(!sort — sort current file
:5,10s/foo/bar/2 — change the second occurrence of foo with bar on lines 5-10
3J — Join next 2 lines to current one
3,9m\)</span> — move lines 3 through 9 to the end of the file
ab w/o with out — when w/o is typed change to with out
:?foo?,/bar/d — delete from the reverse match of foo until the next match of bar
g/{/,/}/&lt; — shift all lines between, and including, a “ { ” and a “ } ” left
:<span class="math">\(4,\)</span>d - delete last five lines of buffer
:%s/(.) (.)$/2 1/ — swap everything before and after the first space</p>
</blockquote>
</dd>
</dl>
</dd>
</dl>
</dd>
</dl>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var align = "center",
        indent = "0em",
        linebreak = "false";

    if (false) {
        align = (screen.width < 768) ? "left" : align;
        indent = (screen.width < 768) ? "0em" : indent;
        linebreak = (screen.width < 768) ? 'true' : linebreak;
    }

    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.3/latest.js?config=TeX-AMS-MML_HTMLorMML';

    var configscript = document.createElement('script');
    configscript.type = 'text/x-mathjax-config';
    configscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'none' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: '"+ align +"'," +
        "    displayIndent: '"+ indent +"'," +
        "    showMathMenu: true," +
        "    messageStyle: 'normal'," +
        "    tex2jax: { " +
        "        inlineMath: [ ['\\\\(','\\\\)'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        availableFonts: ['STIX', 'TeX']," +
        "        preferredFont: 'STIX'," +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +
        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +
        "    }, " +
        "}); " +
        "if ('default' !== 'default') {" +
            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +
                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +
                "VARIANT['normal'].fonts.unshift('MathJax_default');" +
                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +
                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +
                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +
            "});" +
        "}";

    (document.body || document.getElementsByTagName('head')[0]).appendChild(configscript);
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
            
            
            <hr/>
            <script src="https://utteranc.es/client.js"
                    repo="leetschau/leetschau.github.io"
                    issue-term="pathname"
                    theme="github-light"
                    crossorigin="anonymous"
                    async>
            </script>
            <hr/>
        </div>
        <section>
        <div class="span2" style="float:right;font-size:0.9em;">
            <h4>Published</h4>
            <time pubdate="pubdate" datetime="2010-06-25T13:57:11+08:00">Jun 25, 2010</time>

<h4>Last Updated</h4>
<time datetime="2017-11-01T11:57:24+08:00">Nov 1, 2017</time>

            <h4>Category</h4>
            <a class="category-link" href="http://leetschau.github.io/categories.html#tech-ref">Tech</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="http://leetschau.github.io/tags.html#vim-ref">Vim
                    <span>92</span>
</a></li>
            </ul>
<h4>Contact</h4>
    <a href="#" title="My You can add links in your config file Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-you can add links in your config file sidebar-social-links"></i></a>
    <a href="#" title="My Another social link Profile" class="sidebar-social-links" target="_blank">
    <i class="fa fa-another social link sidebar-social-links"></i></a>
        </div>
        </section>
</div>
</article>
                </div>
                <div class="span1"></div>
            </div>
        </div>
        <div id="push"></div>
    </div>
<footer>
<div id="footer">
    <ul class="footer-content">
        <li class="elegant-power">Powered by <a href="http://getpelican.com/" title="Pelican Home Page">Pelican</a>. Theme: <a href="http://oncrashreboot.com/pelican-elegant" title="Theme Elegant Home Page">Elegant</a> by <a href="http://oncrashreboot.com" title="Talha Mansoor Home Page">Talha Mansoor</a></li>
    </ul>
</div>
</footer>            <script src="http://code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    
    </body>
    <!-- Theme: Elegant built for Pelican
    License : http://oncrashreboot.com/pelican-elegant -->
</html>